# æ•°æ®åº“ç›¸å…³æ¦‚å¿µ

## ä¸€ã€*æ•°æ®åº“*

ğŸ’å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ï¼Œæ•°æ®æ˜¯æœ‰ç»„ç»‡çš„è¿›è¡Œå­˜å‚¨ã€‚

ğŸ’æ•°æ®åº“è‹±æ–‡åæ˜¯ DataBaseï¼Œç®€ç§°DBã€‚

ğŸ’æ•°æ®åº“å°±æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šï¼Œå¯ä»¥è¾¾åˆ°æŒä¹…åŒ–å­˜å‚¨çš„æ•ˆæœã€‚é‚£åˆæ˜¯å¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜çš„ï¼Ÿä½¿ç”¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚

## äºŒã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ

ğŸ’ç®¡ç†æ•°æ®åº“çš„å¤§å‹è½¯ä»¶

ğŸ’è‹±æ–‡ï¼šDataBase Management Systemï¼Œç®€ç§° DBMS

ğŸ’åœ¨ç”µè„‘ä¸Šå®‰è£…äº†æ•°æ®åº“ç®¡ç†ç³»ç»Ÿåï¼Œå°±å¯ä»¥é€šè¿‡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿåˆ›å»ºæ•°æ®åº“æ¥å­˜å‚¨æ•°æ®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¯¥ç³»ç»Ÿå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥ç›¸å…³çš„æ“ä½œã€‚æˆ‘ä»¬å¹³æ—¶è¯´çš„MySQLæ•°æ®åº“å…¶å®æ˜¯MySQLæ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚

![](youdaonote-images/WEBRESOURCE2cc4c2faa7d96b471bad715cc30442f9.png)

## ä¸‰ã€å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ

![](youdaonote-images/WEBRESOURCE50439694ae9f897d7878ccc932f7c2c5.png)

æ¥ä¸‹æ¥å¯¹ä¸Šé¢åˆ—ä¸¾çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè¿›è¡Œç®€å•çš„ä»‹ç»ï¼š

Oracleï¼šæ”¶è´¹çš„å¤§å‹æ•°æ®åº“ï¼ŒOracle å…¬å¸çš„äº§å“

MySQLï¼š å¼€æºå…è´¹çš„ä¸­å°å‹æ•°æ®åº“ã€‚åæ¥ Sunå…¬å¸æ”¶è´­äº† MySQLï¼Œè€Œ Sun å…¬å¸åˆè¢« Oracle æ”¶è´­

SQL Serverï¼šMicroSoft å…¬å¸æ”¶è´¹çš„ä¸­å‹çš„æ•°æ®åº“ã€‚C#ã€.net ç­‰è¯­è¨€å¸¸ä½¿ç”¨

PostgreSQLï¼šå¼€æºå…è´¹ä¸­å°å‹çš„æ•°æ®åº“

DB2ï¼šIBM å…¬å¸çš„å¤§å‹æ”¶è´¹æ•°æ®åº“äº§å“SQLiteï¼šåµŒå…¥å¼çš„å¾®å‹æ•°æ®åº“ã€‚å¦‚ï¼šä½œä¸º Android å†…ç½®æ•°æ®åº“

MariaDBï¼šå¼€æºå…è´¹ä¸­å°å‹çš„æ•°æ®åº“

æˆ‘ä»¬è¯¾ç¨‹ä¸Šå­¦ä¹ çš„æ˜¯MySQLæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ŒPostgreSQLåœ¨ä¸€äº›å…¬å¸ä¹Ÿæœ‰ä½¿ç”¨ï¼Œæ­¤æ—¶å¤§å®¶è‚¯å®šä¼šæƒ³ä»¥ååœ¨å…¬å¸ä¸­å¦‚æœä½¿ç”¨æˆ‘ä»¬æ²¡æœ‰å­¦ä¹ è¿‡ç¨‹çš„PostgreSQLæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ€ä¹ˆåŠï¼Ÿè¿™ç‚¹å¤§å®¶å¤§å¯ä¸å¿…æ‹…å¿ƒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](youdaonote-images/WEBRESOURCEce8fd0878bbc23f513bbc349a24df693.png)

æˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ“ä½œæ•°æ®åº“ï¼Œå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œï¼Œè€Œæ€ä¹ˆæ ·è®©ç”¨æˆ·è·Ÿæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰“äº¤é“å‘¢ï¼Ÿå°±å¯ä»¥é€šè¿‡ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼ˆSQLï¼‰æ¥å®ç°ã€‚

## å››ã€SQL

ğŸ’è‹±æ–‡ï¼šStructured Query Languageï¼Œç®€ç§° SQLï¼Œç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€

ğŸ’æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç¼–ç¨‹è¯­è¨€

ğŸ’å®šä¹‰æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„ç»Ÿä¸€æ ‡å‡†ï¼Œå¯ä»¥ä½¿ç”¨SQLæ“ä½œæ‰€æœ‰çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œä»¥åå·¥ä½œä¸­å¦‚æœä½¿ç”¨åˆ°äº†å…¶ä»–çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œä¹ŸåŒæ ·çš„ä½¿ç”¨SQLæ¥æ“ä½œã€‚

# MySQL

## ä¸€ã€MySQLæ•°æ®æ¨¡å‹

MySQLæ•°æ®æ¨¡å‹

ğŸ’å…³ç³»å‹æ•°æ®åº“æ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šçš„æ•°æ®åº“ï¼Œç®€å•è¯´ï¼Œå…³ç³»å‹æ•°æ®åº“æ˜¯ç”±å¤šå¼ èƒ½äº’ç›¸è¿æ¥çš„ 

äºŒç»´è¡¨ ç»„æˆçš„æ•°æ®åº“

ğŸ’å¦‚ä¸‹å›¾ï¼Œ è®¢å•ä¿¡æ¯è¡¨ å’Œ å®¢æˆ·ä¿¡æ¯è¡¨ éƒ½æ˜¯æœ‰è¡Œæœ‰åˆ—äºŒç»´è¡¨æˆ‘ä»¬å°†è¿™æ ·çš„ç§°ä¸ºå…³ç³»å‹æ•°æ®åº“ã€‚

![](youdaonote-images/WEBRESOURCEfd4018bccc1f6874bad27c361b179581.png)

æ¥ä¸‹æ¥çœ‹å…³ç³»å‹æ•°æ®åº“çš„ä¼˜ç‚¹ï¼š

ğŸ’éƒ½æ˜¯ä½¿ç”¨è¡¨ç»“æ„ï¼Œæ ¼å¼ä¸€è‡´ï¼Œæ˜“äºç»´æŠ¤ã€‚

ğŸ’ä½¿ç”¨é€šç”¨çš„ SQL è¯­è¨€æ“ä½œï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œå¯ç”¨äºå¤æ‚æŸ¥è¯¢ã€‚

ğŸ”¹å…³ç³»å‹æ•°æ®åº“éƒ½å¯ä»¥é€šè¿‡SQLè¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥ä½¿ç”¨æ–¹ä¾¿ã€‚

ğŸ”¹å¤æ‚æŸ¥è¯¢ã€‚ç°åœ¨éœ€è¦æŸ¥è¯¢001å·è®¢å•æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯¥è®¢å•æ˜¯1å·å®¢æˆ·çš„è®¢å•ï¼Œè€Œ1å·è®¢å•

æ˜¯æèªè¿™ä¸ªå®¢æˆ·ã€‚ä»¥åä¹Ÿå¯ä»¥åœ¨ä¸€å¼ è¡¨ä¸­è¿›è¡Œç»Ÿè®¡åˆ†æç­‰æ“ä½œã€‚

ğŸ’æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œå®‰å…¨ã€‚

æ•°æ®æ¨¡å‹ï¼š

![](youdaonote-images/WEBRESOURCEb50c719962fc486c12a800c17aee5ce8.png)



å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬é€šè¿‡å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿåˆ›å»ºæ•°æ®åº“ï¼Œåœ¨æ•°æ®åº“ä¸­åˆ›å»ºè¡¨ï¼Œåœ¨è¡¨ä¸­æ·»åŠ æ•°æ®ã€‚åˆ›å»ºçš„æ¯ä¸€ä¸ªæ•°æ®åº“å¯¹åº”åˆ°ç£ç›˜ä¸Šéƒ½æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚æ¯”å¦‚å¯ä»¥é€šè¿‡SQLè¯­å¥åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼ˆæ•°æ®åº“åç§°ä¸ºdb1ï¼‰ï¼Œè¯­å¥å¦‚ä¸‹ã€‚è¯¥è¯­å¥å’±ä»¬åé¢ä¼šå­¦ä¹ ã€‚

![](youdaonote-images/WEBRESOURCE9d40368d9eca1720bf0c4c2dc092cb84.png)

æˆ‘ä»¬å¯ä»¥åœ¨æ•°æ®åº“å®‰è£…ç›®å½•ä¸‹çš„dataç›®å½•ä¸‹çœ‹åˆ°å¤šäº†ä¸€ä¸ª db1 çš„æ–‡ä»¶å¤¹ã€‚æ‰€ä»¥ï¼Œåœ¨MySQLä¸­ä¸€ä¸ªæ•°æ®åº“å¯¹åº”åˆ°ç£ç›˜ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚

è€Œä¸€ä¸ªæ•°æ®åº“ä¸‹å¯ä»¥åˆ›å»ºå¤šå¼ è¡¨ï¼Œæˆ‘ä»¬åˆ°MySQLä¸­è‡ªå¸¦çš„mysqlæ•°æ®åº“çš„æ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE191cc29e268054a5f600538b97c17571.png)

è€Œä¸Šå›¾ä¸­å³è¾¹çš„ db.frm æ˜¯è¡¨æ–‡ä»¶ï¼Œ db.MYD æ˜¯æ•°æ®æ–‡ä»¶ï¼Œé€šè¿‡è¿™ä¸¤ä¸ªæ–‡ä»¶å°±å¯ä»¥æŸ¥è¯¢åˆ°æ•°æ®å±•ç¤ºæˆäºŒç»´è¡¨çš„æ•ˆæœã€‚

å°ç»“ï¼š

MySQLä¸­å¯ä»¥åˆ›å»ºå¤šä¸ªæ•°æ®åº“ï¼Œæ¯ä¸ªæ•°æ®åº“å¯¹åº”åˆ°ç£ç›˜ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶å¤¹

åœ¨æ¯ä¸ªæ•°æ®åº“ä¸­å¯ä»¥åˆ›å»ºå¤šä¸ªè¡¨ï¼Œæ¯å¼ éƒ½å¯¹åº”åˆ°ç£ç›˜ä¸Šä¸€ä¸ª frm æ–‡ä»¶

æ¯å¼ è¡¨å¯ä»¥å­˜å‚¨å¤šæ¡æ•°æ®ï¼Œæ•°æ®ä¼šè¢«å­˜å‚¨åˆ°ç£ç›˜ä¸­ MYD æ–‡ä»¶ä¸­

# SQLæ¦‚è¿°

## ä¸€ã€SQLæ¦‚è¿°

ğŸ’è‹±æ–‡ï¼šStructured Query Languageï¼Œç®€ç§° SQL

ğŸ’ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œä¸€é—¨æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç¼–ç¨‹è¯­è¨€

ğŸ’å®šä¹‰æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„ç»Ÿä¸€æ ‡å‡†

ğŸ’å¯¹äºåŒä¸€ä¸ªéœ€æ±‚ï¼Œæ¯ä¸€ç§æ•°æ®åº“æ“ä½œçš„æ–¹å¼å¯èƒ½ä¼šå­˜åœ¨ä¸€äº›ä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œæˆ‘ä»¬ç§°ä¸ºâ€œæ–¹è¨€â€

## äºŒã€é€šç”¨è¯­æ³•

ğŸ’SQL è¯­å¥å¯ä»¥å•è¡Œæˆ–å¤šè¡Œä¹¦å†™ï¼Œä»¥åˆ†å·ç»“å°¾ã€‚

![](youdaonote-images/WEBRESOURCE9a3d28ca0c873be36a7e63b147e9165d.png)

å¦‚ä¸Šï¼Œä»¥åˆ†å·ç»“å°¾æ‰æ˜¯ä¸€ä¸ªå®Œæ•´çš„sqlè¯­å¥ã€‚

ğŸ’MySQL æ•°æ®åº“çš„ SQL è¯­å¥ä¸åŒºåˆ†å¤§å°å†™ï¼Œå…³é”®å­—å»ºè®®ä½¿ç”¨å¤§å†™ã€‚

åŒæ ·çš„ä¸€æ¡sqlè¯­å¥å†™æˆä¸‹å›¾çš„æ ·å­ï¼Œä¸€æ ·å¯ä»¥è¿è¡Œå¤„ç»“æœã€‚

![](youdaonote-images/WEBRESOURCEb23fa73aa7241f0c08d5fdee4d2c2ad9.png)

ğŸ’æ³¨é‡Š

ğŸ”¹å•è¡Œæ³¨é‡Š: -- æ³¨é‡Šå†…å®¹ æˆ– #æ³¨é‡Šå†…å®¹(MySQL ç‰¹æœ‰ï¼‰

![](youdaonote-images/WEBRESOURCEe08a2cbb964b549e09b3cfdaf446a738.png)

æ³¨æ„ï¼šä½¿ç”¨-- æ·»åŠ å•è¡Œæ³¨é‡Šæ—¶ï¼Œ--åé¢ä¸€å®šè¦åŠ ç©ºæ ¼ï¼Œè€Œ#æ²¡æœ‰è¦æ±‚

ğŸ”¹å¤šè¡Œæ³¨é‡Š: /* æ³¨é‡Š */

## ä¸‰ã€SQLåˆ†ç±»

DDL(Data Definition Language) ï¼š æ•°æ®å®šä¹‰è¯­è¨€ï¼Œç”¨æ¥å®šä¹‰æ•°æ®åº“å¯¹è±¡ï¼šæ•°æ®åº“ï¼Œè¡¨ï¼Œåˆ—ç­‰DDLç®€å•ç†è§£å°±æ˜¯ç”¨æ¥æ“ä½œæ•°æ®åº“ï¼Œè¡¨ç­‰

![](youdaonote-images/WEBRESOURCE06670786d821155eac1270555febd153.png)

DML(Data Manipulation Language) æ•°æ®æ“ä½œè¯­è¨€ï¼Œç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹DMLç®€å•ç†è§£å°±å¯¹è¡¨ä¸­æ•°æ®è¿›è¡Œå¢åˆ æ”¹

![](youdaonote-images/WEBRESOURCEb459e87307eb03d9af960a308419f3ce.png)

ğŸ’DQL(Data Query Language) æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½•(æ•°æ®)

DQLç®€å•ç†è§£å°±æ˜¯å¯¹æ•°æ®è¿›è¡ŒæŸ¥è¯¢æ“ä½œã€‚ä»æ•°æ®åº“è¡¨ä¸­æŸ¥è¯¢åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚

ğŸ’DCL(Data Control Language) æ•°æ®æ§åˆ¶è¯­è¨€ï¼Œç”¨æ¥å®šä¹‰æ•°æ®åº“çš„è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ï¼ŒåŠåˆ›å»ºç”¨æˆ·

DMLç®€å•ç†è§£å°±æ˜¯å¯¹æ•°æ®åº“è¿›è¡Œæƒé™æ§åˆ¶ã€‚æ¯”å¦‚æˆ‘è®©æŸä¸€ä¸ªæ•°æ®åº“è¡¨åªèƒ½è®©æŸä¸€ä¸ªç”¨æˆ·è¿›è¡Œæ“ä½œç­‰ã€‚

æ³¨æ„ï¼š ä»¥åæˆ‘ä»¬æœ€å¸¸æ“ä½œçš„æ˜¯ DML å’Œ DQL ï¼Œå› ä¸ºæˆ‘ä»¬å¼€å‘ä¸­æœ€å¸¸æ“ä½œçš„å°±æ˜¯æ•°æ®ã€‚

# DDL:æ“ä½œæ•°æ®åº“

## ä¸€ã€æŸ¥è¯¢

æŸ¥è¯¢æ‰€æœ‰çš„æ•°æ®åº“

1     SHOW DATABASES;

è¿è¡Œä¸Šé¢è¯­å¥æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE6d7ce58203447109021d1949c7c84f4f.png)

## äºŒã€åˆ›å»ºæ•°æ®åº“

ğŸ’åˆ›å»ºæ•°æ®åº“ï¼š

1   CREATE DATABASE æ•°æ®åº“åç§°;

è¿è¡Œè¯­å¥æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE4941490179c5d2ddae89dd75cac74c8b.png)

è€Œåœ¨åˆ›å»ºæ•°æ®åº“çš„æ—¶å€™ï¼Œæˆ‘å¹¶ä¸çŸ¥é“db1æ•°æ®åº“æœ‰æ²¡æœ‰åˆ›å»ºï¼Œç›´æ¥å†æ¬¡åˆ›å»ºåä¸ºdb1çš„æ•°æ®åº“å°±ä¼šå‡ºç°é”™

è¯¯ã€‚

![](youdaonote-images/WEBRESOURCEb333ae19191b0498a28eaf0710123e42.png)

ä¸ºäº†é¿å…ä¸Šé¢çš„é”™è¯¯ï¼Œåœ¨åˆ›å»ºæ•°æ®åº“çš„æ—¶å€™å…ˆåšåˆ¤æ–­ï¼Œå¦‚æœä¸å­˜åœ¨å†åˆ›å»ºã€‚

ğŸ’åˆ›å»ºæ•°æ®åº“(åˆ¤æ–­ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»º)

1     CREATE DATABASE IF NOT EXISTS æ•°æ®åº“åç§°;

è¿è¡Œè¯­å¥æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEfd81422155a8e34c6cc11f9a6b7df0c6.png)

ä»ä¸Šé¢çš„æ•ˆæœå¯ä»¥çœ‹åˆ°è™½ç„¶db1æ•°æ®åº“å·²ç»å­˜åœ¨ï¼Œå†åˆ›å»ºdb1ä¹Ÿæ²¡æœ‰æŠ¥é”™ï¼Œè€Œåˆ›å»ºdb2æ•°æ®åº“åˆ™åˆ›å»ºæˆåŠŸã€‚

## ä¸‰ã€åˆ é™¤æ•°æ®åº“

ğŸ’åˆ é™¤æ•°æ®åº“

1    DROP DATABASE æ•°æ®åº“åç§°;

ğŸ’åˆ é™¤æ•°æ®åº“(åˆ¤æ–­ï¼Œå¦‚æœå­˜åœ¨åˆ™åˆ é™¤)

1    DROP DATABASE IF EXISTS æ•°æ®åº“åç§°;

è¿è¡Œè¯­å¥æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE270ffd22d301fd17e94fd5eca3305e4a.png)

## å››ã€ä½¿ç”¨æ•°æ®åº“

ğŸ’ä½¿ç”¨æ•°æ®åº“

1    USE æ•°æ®åº“åç§°;

ğŸ’æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“

1    SELECT DATABASE();

è¿è¡Œè¯­å¥æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEfa2bf59cbbb6ddfaa9d8d62c961ec75d.png)

# DDL:æ“ä½œè¡¨

## ä¸€ã€æŸ¥è¯¢è¡¨

ğŸ’æŸ¥è¯¢å½“å‰æ•°æ®åº“ä¸‹æ‰€æœ‰è¡¨åç§°

1    SHOW TABLES;

æˆ‘ä»¬åˆ›å»ºçš„æ•°æ®åº“ä¸­æ²¡æœ‰ä»»ä½•è¡¨ï¼Œå› æ­¤æˆ‘ä»¬è¿›å…¥mysqlè‡ªå¸¦çš„mysqlæ•°æ®åº“ï¼Œæ‰§è¡Œä¸Šè¿°è¯­å¥æŸ¥çœ‹

![](youdaonote-images/WEBRESOURCE4ac441065607075b3bf4586e9e70043a.png)

ğŸ’æŸ¥è¯¢è¡¨ç»“æ„

1    DESC è¡¨åç§°;

æŸ¥çœ‹mysqlæ•°æ®åº“ä¸­funcè¡¨çš„ç»“æ„ï¼Œè¿è¡Œè¯­å¥å¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEe3edb22d42d98ec33c72b3b1276b53d5.png)

## äºŒã€åˆ›å»ºè¡¨

ğŸ’åˆ›å»ºè¡¨

```
CREATE TABLE è¡¨å (
    å­—æ®µå1 æ•°æ®ç±»å‹1,
    å­—æ®µå2 æ•°æ®ç±»å‹2,
    â€¦å­—æ®µån æ•°æ®ç±»å‹n
);
```

æ³¨æ„ï¼šæœ€åä¸€è¡Œæœ«å°¾ï¼Œä¸èƒ½åŠ é€—å·

## ä¸‰ã€æ•°æ®ç±»å‹

MySQL æ”¯æŒå¤šç§ç±»å‹ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š

ğŸ’æ•°å€¼

```
tinyint : å°æ•´æ•°å‹ï¼Œå ä¸€ä¸ªå­—èŠ‚
int ï¼š å¤§æ•´æ•°ç±»å‹ï¼Œå å››ä¸ªå­—èŠ‚
    eg ï¼š age in
tdouble ï¼š æµ®ç‚¹ç±»å‹
    ä½¿ç”¨æ ¼å¼ï¼š å­—æ®µå double(æ€»é•¿åº¦,å°æ•°ç‚¹åä¿ç•™çš„ä½æ•°)
    eg ï¼š score double(5,2)
```

ğŸ’æ—¥æœŸ

```
date ï¼š æ—¥æœŸå€¼ã€‚åªåŒ…å«å¹´æœˆæ—¥
    eg ï¼šbirthday date ï¼›
datetime ï¼š æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ã€‚åŒ…å«å¹´æœˆæ—¥æ—¶åˆ†ç§’
```

ğŸ’å­—ç¬¦ä¸²

```
char ï¼š å®šé•¿å­—ç¬¦ä¸²ã€‚
    ä¼˜ç‚¹ï¼šå­˜å‚¨æ€§èƒ½é«˜
    ç¼ºç‚¹ï¼šæµªè´¹ç©ºé—´
    eg ï¼š name char(10) å¦‚æœå­˜å‚¨çš„æ•°æ®å­—ç¬¦ä¸ªæ•°ä¸è¶³10ä¸ªï¼Œä¹Ÿä¼šå 10ä¸ªçš„ç©ºé—´
varchar ï¼š å˜é•¿å­—ç¬¦ä¸²ã€‚
    ä¼˜ç‚¹ï¼šèŠ‚çº¦ç©ºé—´
    ç¼ºç‚¹ï¼šå­˜å‚¨æ€§èƒ½åº•
    eg ï¼š name varchar(10) å¦‚æœå­˜å‚¨çš„æ•°æ®å­—ç¬¦ä¸ªæ•°ä¸è¶³10ä¸ªï¼Œé‚£å°±æ•°æ®å­—ç¬¦ä¸ªæ•°æ˜¯å‡ å°±å å‡ ä¸ªçš„ç©ºé—´
```

å…¶ä»–ç±»å‹ï¼š

[MySQLæ•°æ®ç±»å‹.xlsx](youdaonote-attachments/WEBRESOURCE8ca6d131bb3bb89ba550d6a821fdbcdbMySQLæ•°æ®ç±»å‹.xlsx)

## å››ã€åˆ é™¤è¡¨

ğŸ’åˆ é™¤è¡¨

1     DROP TABLE è¡¨å;

ğŸ’åˆ é™¤è¡¨æ—¶åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨

1     DROP TABLE IF EXISTS è¡¨å;

è¿è¡Œè¯­å¥æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE10903ba69e4dfce6d689a240fa3e9a44.png)

## äº”ã€ä¿®æ”¹è¡¨

ğŸ’ä¿®æ”¹è¡¨

```
ALTER TABLE è¡¨å RENAME TO æ–°çš„è¡¨å;
-- å°†è¡¨åstudentä¿®æ”¹ä¸ºstu
alter table student rename to stu;
```

ğŸ’æ·»åŠ ä¸€åˆ—

```
ALTER TABLE è¡¨å ADD åˆ—å æ•°æ®ç±»å‹;
-- ç»™stuè¡¨æ·»åŠ ä¸€åˆ—addressï¼Œè¯¥å­—æ®µç±»å‹æ˜¯varchar(50)
alter table stu add address varchar(50);
```

ğŸ’ä¿®æ”¹æ•°æ®ç±»å‹

```
ALTER TABLE è¡¨å MODIFY åˆ—å æ–°æ•°æ®ç±»å‹;
-- å°†stuè¡¨ä¸­çš„addresså­—æ®µçš„ç±»å‹æ”¹ä¸º char(50)
alter table stu modify address char(50);
```

ğŸ’ä¿®æ”¹åˆ—åå’Œæ•°æ®ç±»å‹

```
ALTER TABLE è¡¨å CHANGE åˆ—å æ–°åˆ—å æ–°æ•°æ®ç±»å‹;
-- å°†stuè¡¨ä¸­çš„addresså­—æ®µåæ”¹ä¸º addrï¼Œç±»å‹æ”¹ä¸ºvarchar(50)
alter table stu change address addr varchar(50);
```

ğŸ’åˆ é™¤åˆ—

```
ALTER TABLE è¡¨å DROP åˆ—å;
-- å°†stuè¡¨ä¸­çš„addrå­—æ®µåˆ é™¤
alter table stu drop addr;
```

# DML

## ä¸€ã€æ·»åŠ æ•°æ®

ğŸ’ç»™æŒ‡å®šåˆ—æ·»åŠ æ•°æ®

1    INSERT INTO è¡¨å(åˆ—å1,åˆ—å2,â€¦) VALUES(å€¼1,å€¼2,â€¦);

ğŸ’ç»™å…¨éƒ¨åˆ—æ·»åŠ æ•°æ®

1    INSERT INTO è¡¨å VALUES(å€¼1,å€¼2,â€¦);

ğŸ’æ‰¹é‡æ·»åŠ æ•°æ®

```
INSERT INTO è¡¨å(åˆ—å1,åˆ—å2,â€¦) VALUES(å€¼1,å€¼2,â€¦),(å€¼1,å€¼2,â€¦),(å€¼1,å€¼2,â€¦)â€¦;
INSERT INTO è¡¨å VALUES(å€¼1,å€¼2,â€¦),(å€¼1,å€¼2,â€¦),(å€¼1,å€¼2,â€¦)â€¦;
```

## äºŒã€ ä¿®æ”¹æ•°æ®

ğŸ’ä¿®æ”¹è¡¨æ•°æ®

UPDATE è¡¨å SET åˆ—å1=å€¼1,åˆ—å2=å€¼2,â€¦ [WHERE æ¡ä»¶] ;

æ³¨æ„ï¼š

1. ä¿®æ”¹è¯­å¥ä¸­å¦‚æœä¸åŠ æ¡ä»¶ï¼Œåˆ™å°†æ‰€æœ‰æ•°æ®éƒ½ä¿®æ”¹ï¼

2. åƒä¸Šé¢çš„è¯­å¥ä¸­çš„ä¸­æ‹¬å·ï¼Œè¡¨ç¤ºåœ¨å†™sqlè¯­å¥ä¸­å¯ä»¥çœç•¥è¿™éƒ¨åˆ†

## ä¸‰ã€åˆ é™¤æ•°æ®

ğŸ’åˆ é™¤æ•°æ®

DELETE FROM è¡¨å [WHERE æ¡ä»¶] ;

# DQL

## ä¸€ã€åŸºç¡€æŸ¥è¯¢

ğŸ’æŸ¥è¯¢å¤šä¸ªå­—æ®µ

```
SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨å;
SELECT * FROM è¡¨å; -- æŸ¥è¯¢æ‰€æœ‰æ•°æ®
```

ğŸ’å»é™¤é‡å¤è®°å½•

```
SELECT DISTINCT å­—æ®µåˆ—è¡¨ FROM è¡¨å;
```

ğŸ’èµ·åˆ«å

```
AS: AS ä¹Ÿå¯ä»¥çœç•¥
```

## äºŒã€æ¡ä»¶æŸ¥è¯¢

ğŸ’è¯­æ³•

 SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨å WHERE æ¡ä»¶åˆ—è¡¨;

ğŸ’æ¡ä»¶

æ¡ä»¶åˆ—è¡¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¿ç®—ç¬¦

![](youdaonote-images/WEBRESOURCEc1c11789e8a55aef7b376b45fffb2ebe.png)

## ä¸‰ã€æ¨¡ç³ŠæŸ¥è¯¢

æ¨¡ç³ŠæŸ¥è¯¢ä½¿ç”¨likeå…³é”®å­—ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦è¿›è¡Œå ä½:

ï¼ˆ1ï¼‰_ : ä»£è¡¨å•ä¸ªä»»æ„å­—ç¬¦

ï¼ˆ2ï¼‰% : ä»£è¡¨ä»»æ„ä¸ªæ•°å­—ç¬¦

eg:

æŸ¥è¯¢å§“'é©¬'çš„å­¦å‘˜ä¿¡æ¯

select * from stu where name like 'é©¬%';

## å››ã€æ’åºæŸ¥è¯¢

ğŸ’è¯­æ³•

SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨å ORDER BY æ’åºå­—æ®µå1 [æ’åºæ–¹å¼1],æ’åºå­—æ®µå2 [æ’åºæ–¹å¼2] â€¦;

ä¸Šè¿°è¯­å¥ä¸­çš„æ’åºæ–¹å¼æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š

ğŸ”¹ASC ï¼š å‡åºæ’åˆ— ï¼ˆé»˜è®¤å€¼ï¼‰

ğŸ”¹DESC ï¼š é™åºæ’åˆ—

æ³¨æ„ï¼šå¦‚æœæœ‰å¤šä¸ªæ’åºæ¡ä»¶ï¼Œå½“å‰è¾¹çš„æ¡ä»¶å€¼ä¸€æ ·æ—¶ï¼Œæ‰ä¼šæ ¹æ®ç¬¬äºŒæ¡ä»¶è¿›è¡Œæ’åº

## äº”ã€èšåˆå‡½æ•°

ğŸ’æ¦‚å¿µ

å°†ä¸€åˆ—æ•°æ®ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¿›è¡Œçºµå‘è®¡ç®—ã€‚

ğŸ’èšåˆå‡½æ•°åˆ†ç±»

| å‡½æ•°å | åŠŸèƒ½ |
| - | - |
| count(åˆ—å) | ç»Ÿè®¡æ•°é‡ï¼ˆä¸€èˆ¬é€‰ç”¨ä¸ä¸ºnullçš„åˆ—ï¼‰ |
| max(åˆ—å)  | æœ€å¤§å€¼ |
| min(åˆ—å) | æœ€å°å€¼ |
| sum(åˆ—å) | æ±‚å’Œ |
| avg(åˆ—å) | avg(åˆ—å) |


ğŸ’è¯­æ³•

SELECT èšåˆå‡½æ•°å(åˆ—å) FROM è¡¨;

æ³¨æ„ï¼šnull å€¼ä¸å‚ä¸æ‰€æœ‰èšåˆå‡½æ•°è¿ç®—

## å…­ã€åˆ†ç»„æŸ¥è¯¢

 	ğŸ’è¯­æ³•

```
 SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨å [WHERE åˆ†ç»„å‰æ¡ä»¶é™å®š] GROUP BY åˆ†ç»„å­—æ®µå [HAVING åˆ†ç»„åæ¡ä»¶è¿‡æ»¤];
```

æ³¨æ„ï¼šåˆ†ç»„ä¹‹åï¼ŒæŸ¥è¯¢çš„å­—æ®µä¸ºèšåˆå‡½æ•°å’Œåˆ†ç»„å­—æ®µï¼ŒæŸ¥è¯¢å…¶ä»–å­—æ®µæ— ä»»ä½•æ„ä¹‰

## ä¸ƒã€åˆ†é¡µæŸ¥è¯¢

ğŸ’è¯­æ³•

SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨å LIMIT èµ·å§‹ç´¢å¼• , æŸ¥è¯¢æ¡ç›®æ•°;

æ³¨æ„ï¼š ä¸Šè¿°è¯­å¥ä¸­çš„èµ·å§‹ç´¢å¼•æ˜¯ä»0å¼€å§‹

# çº¦æŸ

## ä¸€ã€æ¦‚å¿µ

ğŸ’çº¦æŸæ˜¯ä½œç”¨äºè¡¨ä¸­åˆ—ä¸Šçš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶åŠ å…¥è¡¨çš„æ•°æ®

ä¾‹å¦‚ï¼šæˆ‘ä»¬å¯ä»¥ç»™idåˆ—åŠ çº¦æŸï¼Œè®©å…¶å€¼ä¸èƒ½é‡å¤ï¼Œä¸èƒ½ä¸ºnullå€¼ã€‚

ğŸ’çº¦æŸçš„å­˜åœ¨ä¿è¯äº†æ•°æ®åº“ä¸­æ•°æ®çš„æ­£ç¡®æ€§ã€æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§

æ·»åŠ çº¦æŸå¯ä»¥åœ¨æ·»åŠ æ•°æ®çš„æ—¶å€™å°±é™åˆ¶ä¸æ­£ç¡®çš„æ•°æ®ï¼Œå¹´é¾„æ˜¯3000ï¼Œæ•°å­¦æˆç»©æ˜¯-5åˆ†è¿™æ ·æ— æ•ˆçš„æ•°æ®ï¼Œç»§

è€Œä¿éšœæ•°æ®çš„å®Œæ•´æ€§ã€‚

## äºŒã€åˆ†ç±»

ğŸ’éç©ºçº¦æŸï¼š å…³é”®å­—æ˜¯ NOT NULL

ä¿è¯åˆ—ä¸­æ‰€æœ‰çš„æ•°æ®ä¸èƒ½æœ‰nullå€¼ã€‚

ä¾‹å¦‚ï¼šidåˆ—åœ¨æ·»åŠ  é©¬èŠ±ç–¼ è¿™æ¡æ•°æ®æ—¶å°±ä¸èƒ½æ·»åŠ æˆåŠŸã€‚

ğŸ’å”¯ä¸€çº¦æŸï¼šå…³é”®å­—æ˜¯ UNIQUE

ä¿è¯åˆ—ä¸­æ‰€æœ‰æ•°æ®å„ä¸ç›¸åŒã€‚

ä¾‹å¦‚ï¼šidåˆ—ä¸­ä¸‰æ¡æ•°æ®çš„å€¼éƒ½æ˜¯1ï¼Œè¿™æ ·çš„æ•°æ®åœ¨æ·»åŠ æ—¶æ˜¯ç»å¯¹ä¸å…è®¸çš„ã€‚

ğŸ’ä¸»é”®çº¦æŸï¼š å…³é”®å­—æ˜¯ PRIMARY KEY

ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œè¦æ±‚éç©ºä¸”å”¯ä¸€ã€‚ä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šç»™æ²¡å¼ è¡¨æ·»åŠ ä¸€ä¸ªä¸»é”®åˆ—ç”¨æ¥å”¯ä¸€æ ‡è¯†æ•°

æ®ã€‚

ä¾‹å¦‚ï¼šä¸Šå›¾è¡¨ä¸­idå°±å¯ä»¥ä½œä¸ºä¸»é”®ï¼Œæ¥æ ‡è¯†æ¯æ¡æ•°æ®ã€‚é‚£ä¹ˆè¿™æ ·å°±è¦æ±‚æ•°æ®ä¸­idçš„å€¼ä¸èƒ½é‡å¤ï¼Œä¸èƒ½ä¸ºnull

å€¼ã€‚

ğŸ’æ£€æŸ¥çº¦æŸï¼š å…³é”®å­—æ˜¯ CHECK

ä¿è¯åˆ—ä¸­çš„å€¼æ»¡è¶³æŸä¸€æ¡ä»¶ã€‚

ä¾‹å¦‚ï¼šæˆ‘ä»¬å¯ä»¥ç»™ageåˆ—æ·»åŠ ä¸€ä¸ªèŒƒå›´ï¼Œæœ€ä½å¹´é¾„å¯ä»¥è®¾ç½®ä¸º1ï¼Œæœ€å¤§å¹´é¾„å°±å¯ä»¥è®¾ç½®ä¸º300ï¼Œè¿™æ ·çš„æ•°æ®

æ‰æ›´åˆç†äº›ã€‚

æ³¨æ„ï¼šMySQLä¸æ”¯æŒæ£€æŸ¥çº¦æŸã€‚

ğŸ’é»˜è®¤çº¦æŸï¼š å…³é”®å­—æ˜¯ DEFAULT

ä¿å­˜æ•°æ®æ—¶ï¼ŒæœªæŒ‡å®šå€¼åˆ™é‡‡ç”¨é»˜è®¤å€¼ã€‚

ä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨ç»™englishåˆ—æ·»åŠ è¯¥çº¦æŸï¼ŒæŒ‡å®šé»˜è®¤å€¼æ˜¯0ï¼Œè¿™æ ·åœ¨æ·»åŠ æ•°æ®æ—¶æ²¡æœ‰æŒ‡å®šå…·ä½“å€¼æ—¶å°±ä¼šé‡‡ç”¨é»˜

è®¤ç»™å®šçš„0ã€‚

ğŸ’å¤–é”®çº¦æŸï¼š å…³é”®å­—æ˜¯ FOREIGN KEY

å¤–é”®ç”¨æ¥è®©ä¸¤ä¸ªè¡¨çš„æ•°æ®ä¹‹é—´å»ºç«‹é“¾æ¥ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚

## ä¸‰ã€éç©ºçº¦æŸ

ğŸ’æ¦‚å¿µ

éç©ºçº¦æŸç”¨äºä¿è¯åˆ—ä¸­æ‰€æœ‰æ•°æ®ä¸èƒ½æœ‰NULLå€¼

ğŸ’è¯­æ³•

ğŸ”¹æ·»åŠ çº¦æŸ

```
-- åˆ›å»ºè¡¨æ—¶æ·»åŠ éç©ºçº¦æŸ
CREATE TABLE è¡¨å(
åˆ—å æ•°æ®ç±»å‹ NOT NULL,
â€¦
);
```

```
-- å»ºå®Œè¡¨åæ·»åŠ éç©ºçº¦æŸ
ALTER TABLE è¡¨å MODIFY å­—æ®µå æ•°æ®ç±»å‹ NOT NULL;
```

ğŸ”¹åˆ é™¤çº¦æŸ

ALTER TABLE è¡¨å MODIFY å­—æ®µå æ•°æ®ç±»å‹;

## å››ã€å”¯ä¸€çº¦æŸ

ğŸ’æ¦‚å¿µ

å”¯ä¸€çº¦æŸç”¨äºä¿è¯åˆ—ä¸­æ‰€æœ‰æ•°æ®å„ä¸ç›¸åŒ

ğŸ’è¯­æ³•

ğŸ”¹åˆ›å»ºè¡¨æ—¶æ·»åŠ å”¯ä¸€çº¦æŸ

```
CREATE TABLE è¡¨å(
    åˆ—å æ•°æ®ç±»å‹ UNIQUE [AUTO_INCREMENT],
    -- AUTO_INCREMENT: å½“ä¸æŒ‡å®šå€¼æ—¶è‡ªåŠ¨å¢é•¿
    â€¦
);
CREATE TABLE è¡¨å(
    åˆ—å æ•°æ®ç±»å‹,
    â€¦
    [CONSTRAINT] [çº¦æŸåç§°] UNIQUE(åˆ—å)
);
```

ğŸ”¹å»ºå®Œè¡¨åæ·»åŠ å”¯ä¸€çº¦æŸ

```
ALTER TABLE è¡¨å MODIFY å­—æ®µå æ•°æ®ç±»å‹ UNIQUE;
```

ğŸ”¹åˆ é™¤çº¦æŸ

ALTER TABLE è¡¨å DROP INDEX å­—æ®µå;

## äº”ã€ä¸»é”®çº¦æŸ

ğŸ’æ¦‚å¿µ

ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œè¦æ±‚éç©ºä¸”å”¯ä¸€

ä¸€å¼ è¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®

ğŸ’è¯­æ³•

ğŸ”¹åˆ›å»ºè¡¨æ—¶æ·»åŠ ä¸»é”®çº¦æŸ

```
CREATE TABLE è¡¨å (
	åˆ—å æ•°æ®ç±»å‹ PRIMARY KEY [ AUTO_INCREMENT ], â€¦
);

CREATE TABLE è¡¨å (
	åˆ—å æ•°æ®ç±»å‹,
	[ CONSTRAINT ] [ çº¦æŸåç§° ] PRIMARY KEY (åˆ—å)
);
```

ğŸ”¹å»ºå®Œè¡¨åæ·»åŠ ä¸»é”®çº¦æŸ

```
ALTER TABLE è¡¨å ADD PRIMARY KEY(å­—æ®µå);
```

ğŸ”¹åˆ é™¤çº¦æŸ

ALTER TABLE è¡¨å DROP PRIMARY KEY;

## å…­ã€é»˜è®¤çº¦æŸ

ğŸ’æ¦‚å¿µ

ä¿å­˜æ•°æ®æ—¶ï¼ŒæœªæŒ‡å®šå€¼åˆ™é‡‡ç”¨é»˜è®¤å€¼

ğŸ’è¯­æ³•

ğŸ”¹åˆ›å»ºè¡¨æ—¶æ·»åŠ é»˜è®¤çº¦æŸ

```
CREATE TABLE è¡¨å (
	åˆ—å æ•°æ®ç±»å‹ DEFAULT é»˜è®¤å€¼,
	â€¦
);
```

ğŸ”¹å»ºå®Œè¡¨åæ·»åŠ é»˜è®¤çº¦æŸ

```
ALTER TABLE è¡¨å ALTER åˆ—å SET DEFAULT é»˜è®¤å€¼;
```

ğŸ”¹åˆ é™¤çº¦æŸ

ALTER TABLE è¡¨å ALTER åˆ—å DROP DEFAULT;

## ä¸ƒã€å¤–é”®çº¦æŸ

ğŸ’æ¦‚è¿°

å¤–é”®ç”¨æ¥è®©ä¸¤ä¸ªè¡¨çš„æ•°æ®ä¹‹é—´å»ºç«‹é“¾æ¥ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚

å¦‚ä½•ç†è§£ä¸Šé¢çš„æ¦‚å¿µå‘¢ï¼Ÿå¦‚ä¸‹å›¾æœ‰ä¸¤å¼ è¡¨ï¼Œå‘˜å·¥è¡¨å’Œéƒ¨é—¨è¡¨ï¼š

![](youdaonote-images/WEBRESOURCE1a7557791596632c9b7602ac5774df4d.png)

å‘˜å·¥è¡¨ä¸­çš„dep_idå­—æ®µæ˜¯éƒ¨é—¨è¡¨çš„idå­—æ®µå…³è”ï¼Œä¹Ÿå°±æ˜¯è¯´1å·å­¦ç”Ÿå¼ ä¸‰å±äº1å·éƒ¨é—¨ç ”å‘éƒ¨çš„å‘˜å·¥ã€‚ç°åœ¨æˆ‘è¦åˆ é™¤1å·éƒ¨é—¨ï¼Œå°±ä¼šå‡ºç°é”™è¯¯çš„æ•°æ®ï¼ˆå‘˜å·¥è¡¨ä¸­å±äº1å·éƒ¨é—¨çš„æ•°æ®ï¼‰ã€‚è€Œæˆ‘ä»¬ä¸Šé¢è¯´çš„ä¸¤å¼ è¡¨çš„å…³ç³»åªæ˜¯æˆ‘ä»¬è®¤ä¸ºå®ƒä»¬æœ‰å…³ç³»ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡å¤–é”®è®©è¿™ä¸¤å¼ è¡¨äº§ç”Ÿæ•°æ®åº“å±‚é¢çš„å…³ç³»ï¼Œè¿™æ ·ä½ è¦åˆ é™¤éƒ¨é—¨è¡¨ä¸­çš„1å·éƒ¨é—¨çš„æ•°æ®å°†æ— æ³•åˆ é™¤ã€‚

ğŸ’è¯­æ³•

ğŸ”¹åˆ›å»ºè¡¨æ—¶æ·»åŠ å¤–é”®çº¦æŸ

```
CREATE TABLE è¡¨å (
	åˆ—å æ•°æ®ç±»å‹,
	â€¦ [ CONSTRAINT ] [ å¤–é”®åç§° ] FOREIGN KEY (å¤–é”®åˆ—å) REFERENCES ä¸»è¡¨ (ä¸»è¡¨åˆ—å)
);
```

ğŸ”¹å»ºå®Œè¡¨åæ·»åŠ å¤–é”®çº¦æŸ

```
ALTER TABLE è¡¨å ADD CONSTRAINT å¤–é”®åç§° FOREIGN KEY (å¤–é”®å­—æ®µåç§°) REFERENCES ä¸»è¡¨åç§°(ä¸»è¡¨åˆ—åç§°);
```

ğŸ”¹åˆ é™¤å¤–é”®çº¦æŸ

```
ALTER TABLE è¡¨å DROP FOREIGN KEY å¤–é”®åç§°;
```

# æ•°æ®åº“è®¾è®¡

## ä¸€ã€æ•°æ®åº“è®¾è®¡

ğŸ’è½¯ä»¶çš„ç ”å‘æ­¥éª¤

![](youdaonote-images/WEBRESOURCEbe49432bcabb105a560783d24d062f38.png)

ğŸ’æ•°æ®åº“è®¾è®¡æ¦‚å¿µ

ğŸ”¹æ•°æ®åº“è®¾è®¡å°±æ˜¯æ ¹æ®ä¸šåŠ¡ç³»ç»Ÿçš„å…·ä½“éœ€æ±‚ï¼Œç»“åˆæˆ‘ä»¬æ‰€é€‰ç”¨çš„DBMSï¼Œä¸ºè¿™ä¸ªä¸šåŠ¡ç³»ç»Ÿæ„é€ å‡ºæœ€ä¼˜

çš„æ•°æ®å­˜å‚¨æ¨¡å‹ã€‚

ğŸ”¹å»ºç«‹æ•°æ®åº“ä¸­çš„è¡¨ç»“æ„ä»¥åŠè¡¨ä¸è¡¨ä¹‹é—´çš„å…³è”å…³ç³»çš„è¿‡ç¨‹ã€‚

ğŸ”¹æœ‰å“ªäº›è¡¨ï¼Ÿè¡¨é‡Œæœ‰å“ªäº›å­—æ®µï¼Ÿè¡¨å’Œè¡¨ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ

ğŸ’æ•°æ®åº“è®¾è®¡çš„æ­¥éª¤

ğŸ”¹éœ€æ±‚åˆ†æï¼ˆæ•°æ®æ˜¯ä»€ä¹ˆ? æ•°æ®å…·æœ‰å“ªäº›å±æ€§? æ•°æ®ä¸å±æ€§çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼‰

ğŸ”¹é€»è¾‘åˆ†æï¼ˆé€šè¿‡ERå›¾å¯¹æ•°æ®åº“è¿›è¡Œé€»è¾‘å»ºæ¨¡ï¼Œä¸éœ€è¦è€ƒè™‘æˆ‘ä»¬æ‰€é€‰ç”¨çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰

å¦‚ä¸‹å›¾å°±æ˜¯ER(Entity/Relation)å›¾ï¼š

![](youdaonote-images/WEBRESOURCEdf868b11334c22b92b6658946447eb0b.png)

ğŸ”¹ç‰©ç†è®¾è®¡ï¼ˆæ ¹æ®æ•°æ®åº“è‡ªèº«çš„ç‰¹ç‚¹æŠŠé€»è¾‘è®¾è®¡è½¬æ¢ä¸ºç‰©ç†è®¾è®¡ï¼‰

ğŸ”¹ç»´æŠ¤è®¾è®¡ï¼ˆ1.å¯¹æ–°çš„éœ€æ±‚è¿›è¡Œå»ºè¡¨ï¼›2.è¡¨ä¼˜åŒ–ï¼‰

ğŸ’è¡¨å…³ç³»

ğŸ”¹ä¸€å¯¹ä¸€

å¦‚ï¼šç”¨æˆ· å’Œ ç”¨æˆ·è¯¦æƒ…

ä¸€å¯¹ä¸€å…³ç³»å¤šç”¨äºè¡¨æ‹†åˆ†ï¼Œå°†ä¸€ä¸ªå®ä½“ä¸­ç»å¸¸ä½¿ç”¨çš„å­—æ®µæ”¾ä¸€å¼ è¡¨ï¼Œä¸ç»å¸¸ä½¿ç”¨çš„å­—æ®µæ”¾å¦ä¸€å¼ 

è¡¨ï¼Œç”¨äºæå‡æŸ¥è¯¢æ€§èƒ½

![](youdaonote-images/WEBRESOURCE9df049345a015dbc2a924bc67eab0e3a.png)

ä¸Šå›¾å·¦è¾¹æ˜¯ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œè€Œæˆ‘ä»¬çœŸæ­£åœ¨å±•ç¤ºç”¨æˆ·ä¿¡æ¯æ—¶æœ€é•¿ç”¨çš„åˆ™æ˜¯ä¸Šå›¾å³è¾¹çº¢æ¡†æ‰€ç¤ºï¼Œæ‰€

ä»¥æˆ‘ä»¬ä¼šå°†è¯¦ç»†ä¿¡æ¯æŸ¥åˆ†æˆä¸¤å‘¨é‚£ä¸ªè¡¨ã€‚

ğŸ”¹ä¸€å¯¹å¤š

å¦‚ï¼šéƒ¨é—¨ å’Œ å‘˜å·¥

ä¸€ä¸ªéƒ¨é—¨å¯¹åº”å¤šä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªå‘˜å·¥å¯¹åº”ä¸€ä¸ªéƒ¨é—¨ã€‚å¦‚ä¸‹å›¾ï¼š

![](youdaonote-images/WEBRESOURCEe3e119580a33349370b48f9c706505bd.png)

ğŸ”¹å¤šå¯¹å¤š

å¦‚ï¼šå•†å“ å’Œ è®¢å•

ä¸€ä¸ªå•†å“å¯¹åº”å¤šä¸ªè®¢å•ï¼Œä¸€ä¸ªè®¢å•åŒ…å«å¤šä¸ªå•†å“ã€‚

## äºŒã€è¡¨å…³ç³»(ä¸€å¯¹å¤š)

ğŸ’ä¸€å¯¹å¤š

å¦‚ï¼šéƒ¨é—¨ å’Œ å‘˜å·¥

ä¸€ä¸ªéƒ¨é—¨å¯¹åº”å¤šä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªå‘˜å·¥å¯¹åº”ä¸€ä¸ªéƒ¨é—¨ã€‚

ğŸ’å®ç°æ–¹å¼

åœ¨å¤šçš„ä¸€æ–¹å»ºç«‹å¤–é”®ï¼ŒæŒ‡å‘ä¸€çš„ä¸€æ–¹çš„ä¸»é”®

## ä¸‰ã€è¡¨å…³ç³»(å¤šå¯¹å¤š)

ğŸ’å¤šå¯¹å¤š

å¦‚ï¼šå•†å“ å’Œ è®¢å•

ä¸€ä¸ªå•†å“å¯¹åº”å¤šä¸ªè®¢å•ï¼Œä¸€ä¸ªè®¢å•åŒ…å«å¤šä¸ªå•†å“

ğŸ’å®ç°æ–¹å¼

å»ºç«‹ç¬¬ä¸‰å¼ ä¸­é—´è¡¨ï¼Œä¸­é—´è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªå¤–é”®ï¼Œåˆ†åˆ«å…³è”ä¸¤æ–¹ä¸»é”®

![](youdaonote-images/WEBRESOURCEf452f08074bf32c0df25bbaddec0a4e5.png)

## å››ã€è¡¨å…³ç³»(ä¸€å¯¹ä¸€)

ğŸ’ä¸€å¯¹ä¸€

å¦‚ï¼šç”¨æˆ· å’Œ ç”¨æˆ·è¯¦æƒ…

ä¸€å¯¹ä¸€å…³ç³»å¤šç”¨äºè¡¨æ‹†åˆ†ï¼Œå°†ä¸€ä¸ªå®ä½“ä¸­ç»å¸¸ä½¿ç”¨çš„å­—æ®µæ”¾ä¸€å¼ è¡¨ï¼Œä¸ç»å¸¸ä½¿ç”¨çš„å­—æ®µæ”¾å¦ä¸€å¼ è¡¨ï¼Œ

ç”¨äºæå‡æŸ¥è¯¢æ€§èƒ½

ğŸ’å®ç°æ–¹å¼

åœ¨ä»»æ„ä¸€æ–¹åŠ å…¥å¤–é”®ï¼Œå…³è”å¦ä¸€æ–¹ä¸»é”®ï¼Œå¹¶ä¸”è®¾ç½®å¤–é”®ä¸ºå”¯ä¸€(UNIQUE)

![](youdaonote-images/WEBRESOURCE1b943064f3cce863e67d5707aa279e56.png)

# å¤šè¡¨æŸ¥è¯¢

## ä¸€ã€å†…è¿æ¥æŸ¥è¯¢

ğŸ’è¯­æ³•

```
-- éšå¼å†…è¿æ¥
SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1,è¡¨2â€¦ WHERE æ¡ä»¶;
-- æ˜¾ç¤ºå†…è¿æ¥
SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 [INNER] JOIN è¡¨2 ON æ¡ä»¶;
```

å†…è¿æ¥ç›¸å½“äºæŸ¥è¯¢ A B äº¤é›†æ•°æ®

![](youdaonote-images/WEBRESOURCEe679332813152540e50c06e269c681df.png)

## äºŒã€å¤–è¿æ¥æŸ¥è¯¢

ğŸ’è¯­æ³•

```
-- å·¦å¤–è¿æ¥
SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 LEFT [OUTER] JOIN è¡¨2 ON æ¡ä»¶;
-- å³å¤–è¿æ¥
SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 RIGHT [OUTER] JOIN è¡¨2 ON æ¡ä»¶;
```

å·¦å¤–è¿æ¥ï¼šç›¸å½“äºæŸ¥è¯¢Aè¡¨æ‰€æœ‰æ•°æ®å’Œäº¤é›†éƒ¨åˆ†æ•°æ®

å³å¤–è¿æ¥ï¼šç›¸å½“äºæŸ¥è¯¢Bè¡¨æ‰€æœ‰æ•°æ®å’Œäº¤é›†éƒ¨åˆ†æ•°æ®

![](youdaonote-images/WEBRESOURCE065652f6ddade8100d9ddf3a39350ccc.png)

## ä¸‰ã€å­æŸ¥è¯¢

ğŸ’æ¦‚å¿µ

æŸ¥è¯¢ä¸­åµŒå¥—æŸ¥è¯¢ï¼Œç§°åµŒå¥—æŸ¥è¯¢ä¸ºå­æŸ¥è¯¢ã€‚

ä»€ä¹ˆæ˜¯æŸ¥è¯¢ä¸­åµŒå¥—æŸ¥è¯¢å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹ï¼š

éœ€æ±‚ï¼šæŸ¥è¯¢å·¥èµ„é«˜äºçŒªå…«æˆ’çš„å‘˜å·¥ä¿¡æ¯ã€‚

æ¥å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡äºŒæ­¥å®ç°ï¼Œç¬¬ä¸€æ­¥ï¼šå…ˆæŸ¥è¯¢å‡ºæ¥ çŒªå…«æˆ’çš„å·¥èµ„

select salary from emp where name = 'çŒªå…«æˆ’'

ç¬¬äºŒæ­¥ï¼šæŸ¥è¯¢å·¥èµ„é«˜äºçŒªå…«æˆ’çš„å‘˜å·¥ä¿¡æ¯

select * from emp where salary > 3600;

åµŒå¥—æŸ¥è¯¢

select * from emp where salary > (select salary from emp where name = 'çŒªå…«æˆ’');

ğŸ’å­æŸ¥è¯¢æ ¹æ®æŸ¥è¯¢ç»“æœä¸åŒï¼Œä½œç”¨ä¸åŒ

ğŸ”¹å­æŸ¥è¯¢è¯­å¥ç»“æœæ˜¯å•è¡Œå•åˆ—ï¼Œå­æŸ¥è¯¢è¯­å¥ä½œä¸ºæ¡ä»¶å€¼ï¼Œä½¿ç”¨ = != > < ç­‰è¿›è¡Œæ¡ä»¶åˆ¤æ–­

ğŸ”¹å­æŸ¥è¯¢è¯­å¥ç»“æœæ˜¯å¤šè¡Œå•åˆ—ï¼Œå­æŸ¥è¯¢è¯­å¥ä½œä¸ºæ¡ä»¶å€¼ï¼Œä½¿ç”¨ in ç­‰å…³é”®å­—è¿›è¡Œæ¡ä»¶åˆ¤æ–­

ğŸ”¹å­æŸ¥è¯¢è¯­å¥ç»“æœæ˜¯å¤šè¡Œå¤šåˆ—ï¼Œå­æŸ¥è¯¢è¯­å¥ä½œä¸ºè™šæ‹Ÿè¡¨

# äº‹åŠ¡

## ä¸€ã€äº‹åŠ¡

ğŸ’æ¦‚è¿°

ğŸ”¹æ•°æ®åº“çš„äº‹åŠ¡ï¼ˆTransactionï¼‰æ˜¯ä¸€ç§æœºåˆ¶ã€ä¸€ä¸ªæ“ä½œåºåˆ—ï¼ŒåŒ…å«äº†ä¸€ç»„æ•°æ®åº“æ“ä½œå‘½ä»¤ã€‚

ğŸ”¹äº‹åŠ¡æŠŠæ‰€æœ‰çš„å‘½ä»¤ä½œä¸ºä¸€ä¸ªæ•´ä½“ä¸€èµ·å‘ç³»ç»Ÿæäº¤æˆ–æ’¤é”€æ“ä½œè¯·æ±‚ï¼Œå³è¿™ä¸€ç»„æ•°æ®åº“å‘½ä»¤è¦ä¹ˆåŒæ—¶æˆ

åŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ã€‚

ğŸ”¹äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œé€»è¾‘å•å…ƒã€‚

ğŸ’è¯­æ³•

ğŸ”¹å¼€å¯äº‹åŠ¡

```
START TRANSACTION;
æˆ–è€…
BEGIN;
```

ğŸ”¹æäº¤äº‹åŠ¡

 commit;

ğŸ”¹å›æ»šäº‹åŠ¡

rollback;

## äºŒã€äº‹åŠ¡çš„å››å¤§ç‰¹å¾

åŸå­æ€§ï¼ˆAtomicityï¼‰: äº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•ä½ï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥

ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ :äº‹åŠ¡å®Œæˆæ—¶ï¼Œå¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€

éš”ç¦»æ€§ï¼ˆIsolationï¼‰ :å¤šä¸ªäº‹åŠ¡ä¹‹é—´ï¼Œæ“ä½œçš„å¯è§æ€§

æŒä¹…æ€§ï¼ˆDurabilityï¼‰ :äº‹åŠ¡ä¸€æ—¦æäº¤æˆ–å›æ»šï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…çš„

è¯´æ˜ï¼š

mysqlä¸­äº‹åŠ¡æ˜¯è‡ªåŠ¨æäº¤çš„ã€‚

ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸æ·»åŠ äº‹åŠ¡æ‰§è¡Œsqlè¯­å¥ï¼Œè¯­å¥æ‰§è¡Œå®Œæ¯•ä¼šè‡ªåŠ¨çš„æäº¤äº‹åŠ¡ã€‚

å¯ä»¥é€šè¿‡ä¸‹é¢è¯­å¥æŸ¥è¯¢é»˜è®¤æäº¤æ–¹å¼ï¼š

SELECT @@autocommit;

æŸ¥è¯¢åˆ°çš„ç»“æœæ˜¯1 åˆ™è¡¨ç¤ºè‡ªåŠ¨æäº¤ï¼Œç»“æœæ˜¯0è¡¨ç¤ºæ‰‹åŠ¨æäº¤ã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢è¯­å¥ä¿®æ”¹æäº¤æ–¹å¼

set @@autocommit = 0

# JDBC

## ä¸€ã€æ¦‚è¿°

åœ¨å¼€å‘ä¸­æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯javaè¯­è¨€ï¼Œé‚£ä¹ˆåŠ¿å¿…è¦é€šè¿‡javaè¯­è¨€æ“ä½œæ•°æ®åº“ä¸­çš„æ•°æ®ã€‚è¿™å°±æ˜¯æ¥ä¸‹æ¥è¦å­¦ä¹ çš„	

JDBCã€‚

### 1.æ¦‚å¿µ

JDBC å°±æ˜¯ä½¿ç”¨Javaè¯­è¨€æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¥—API

å…¨ç§°ï¼š( Java DataBase Connectivity ) Java æ•°æ®åº“è¿æ¥

![](youdaonote-images/WEBRESOURCE175ca392f02ddbdf6a8b08558289ce59.png)

æˆ‘ä»¬å¼€å‘çš„åŒä¸€å¥—Javaä»£ç æ˜¯æ— æ³•æ“ä½œä¸åŒçš„å…³ç³»å‹æ•°æ®åº“ï¼Œå› ä¸ºæ¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“çš„åº•å±‚å®ç°ç»†èŠ‚éƒ½	

ä¸ä¸€æ ·ã€‚å¦‚æœè¿™æ ·ï¼Œé—®é¢˜å°±å¾ˆå¤§äº†ï¼Œåœ¨å…¬å¸ä¸­å¯ä»¥åœ¨å¼€å‘é˜¶æ®µä½¿ç”¨çš„æ˜¯MySQLæ•°æ®åº“ï¼Œè€Œä¸Šçº¿æ—¶å…¬å¸æœ€ç»ˆ

é€‰ç”¨oracleæ•°æ®åº“ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹ä»£ç è¿›è¡Œå¤§æ‰¹é‡ä¿®æ”¹ï¼Œè¿™æ˜¾ç„¶å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³çœ‹åˆ°çš„ã€‚æˆ‘ä»¬è¦åšåˆ°çš„æ˜¯åŒ

ä¸€å¥—Javaä»£ç æ“ä½œä¸åŒçš„å…³ç³»å‹æ•°æ®åº“ï¼Œè€Œæ­¤æ—¶sunå…¬å¸å°±æŒ‡å®šäº†ä¸€å¥—æ ‡å‡†æ¥å£ï¼ˆJDBCï¼‰ï¼ŒJDBCä¸­å®šä¹‰

äº†æ‰€æœ‰æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„è§„åˆ™ã€‚ä¼—æ‰€å‘¨çŸ¥æ¥å£æ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£çš„å®ç°ç±»ï¼Œè€Œè¿™å¥—

å®ç°ç±»ï¼ˆç§°ä¹‹ä¸ºï¼šé©±åŠ¨ï¼‰å°±ç”±å„è‡ªçš„æ•°æ®åº“å‚å•†ç»™å‡ºã€‚

### 2.æœ¬è´¨

ğŸ’å®˜æ–¹ï¼ˆsunå…¬å¸ï¼‰å®šä¹‰çš„ä¸€å¥—æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„è§„åˆ™ï¼Œå³æ¥å£

ğŸ’å„ä¸ªæ•°æ®åº“å‚å•†å»å®ç°è¿™å¥—æ¥å£ï¼Œæä¾›æ•°æ®åº“é©±åŠ¨jaråŒ…

ğŸ’æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™å¥—æ¥å£ï¼ˆJDBCï¼‰ç¼–ç¨‹ï¼ŒçœŸæ­£æ‰§è¡Œçš„ä»£ç æ˜¯é©±åŠ¨jaråŒ…ä¸­çš„å®ç°ç±»

### 3.å¥½å¤„

ğŸ’å„æ•°æ®åº“å‚å•†ä½¿ç”¨ç›¸åŒçš„æ¥å£ï¼ŒJavaä»£ç ä¸éœ€è¦é’ˆå¯¹ä¸åŒæ•°æ®åº“åˆ†åˆ«å¼€å‘

ğŸ’å¯éšæ—¶æ›¿æ¢åº•å±‚æ•°æ®åº“ï¼Œè®¿é—®æ•°æ®åº“çš„Javaä»£ç åŸºæœ¬ä¸å˜

ğŸ’ä»¥åç¼–å†™æ“ä½œæ•°æ®åº“çš„ä»£ç åªéœ€è¦é¢å‘JDBCï¼ˆæ¥å£ï¼‰ï¼Œæ“ä½œå“ªå„¿ä¸ªå…³ç³»å‹æ•°æ®åº“å°±éœ€è¦å¯¼å…¥è¯¥æ•°

æ®åº“çš„é©±åŠ¨åŒ…ï¼Œå¦‚éœ€è¦æ“ä½œMySQLæ•°æ®åº“ï¼Œå°±éœ€è¦å†é¡¹ç›®ä¸­å¯¼å…¥MySQLæ•°æ®åº“çš„é©±åŠ¨åŒ…ã€‚

## äºŒã€JDBCå¿«é€Ÿå…¥é—¨

å…ˆæ¥çœ‹çœ‹é€šè¿‡Javaæ“ä½œæ•°æ®åº“çš„æµç¨‹

![](youdaonote-images/WEBRESOURCE7d35929d16e86893f3dfd531d52b2c8f.png)

ç¬¬ä¸€æ­¥ï¼šç¼–å†™Javaä»£ç 

ç¬¬äºŒæ­¥ï¼šJavaä»£ç å°†SQLå‘é€åˆ°MySQLæœåŠ¡ç«¯

ç¬¬ä¸‰æ­¥ï¼šMySQLæœåŠ¡ç«¯æ¥æ”¶åˆ°SQLè¯­å¥å¹¶æ‰§è¡Œè¯¥SQLè¯­å¥

ç¬¬å››æ­¥ï¼šå°†SQLè¯­å¥æ‰§è¡Œçš„ç»“æœè¿”å›ç»™Javaä»£ç 

### 1 .ç¼–å†™ä»£ç æ­¥éª¤

ğŸ’åˆ›å»ºå·¥ç¨‹ï¼Œå¯¼å…¥é©±åŠ¨jaråŒ…

ğŸ’æ³¨å†Œé©±åŠ¨

Class.forName("com.mysql.jdbc.Driver");

ğŸ’è·å–è¿æ¥

Connection conn =DriverManager.getConnection(url, username,password);

Javaä»£ç éœ€è¦å‘é€SQLç»™MySQLæœåŠ¡ç«¯ï¼Œå°±éœ€è¦å…ˆå»ºç«‹è¿æ¥

ğŸ’å®šä¹‰SQLè¯­å¥

String sql = â€œupdateâ€¦â€ ;

ğŸ’è·å–æ‰§è¡ŒSQLå¯¹è±¡

æ‰§è¡ŒSQLè¯­å¥éœ€è¦SQLæ‰§è¡Œå¯¹è±¡ï¼Œè€Œè¿™ä¸ªæ‰§è¡Œå¯¹è±¡å°±æ˜¯Statementå¯¹è±¡

Statement stmt = conn.createStatement();

ğŸ’æ‰§è¡ŒSQL

stmt.executeUpdate(sql); Â 

ğŸ’å¤„ç†è¿”å›ç»“æœ

ğŸ’é‡Šæ”¾èµ„æº

ç¤ºä¾‹ä»£ç 

mysql

```
CREATE TABLE bank_use(
	usename VARCHAR(20),
	money int
);
INSERT into bank_use VALUES ('å¼ ä¸‰',2000),('æå››',1000);
```

java

```
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;

public class demo {
    public static void main(String[] args) throws ClassNotFoundException, SQLException {
        Class.forName("com.mysql.jdbc.Driver");
        Connection coon = DriverManager.getConnection("jdbc:mysql:///db1", "root", "1234");
        String sql="update bank_use set money = 2000 where usename = 'æå››'";
        Statement stmt = coon.createStatement();
        int i = stmt.executeUpdate(sql);
        System.out.println(i);
        stmt.close();
        coon.close();
    }
}
```

## ä¸‰ã€JDBC APIè¯¦è§£

### 1ã€ DriverManager

ğŸ’DriverManagerï¼ˆé©±åŠ¨ç®¡ç†ç±»ï¼‰ä½œç”¨ï¼š

ğŸ”¹æ³¨å†Œé©±åŠ¨

|   |   |   |
| - | - | - |
| static void | registerDriver(Driver driver) | ä½¿ç”¨DriverMangeræ³¨å†Œç»™å®šçš„é©±åŠ¨ç¨‹åº |


Class.forName("com.mysql.jdbc.Driver")

çš„æºç å¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE4342b19a15fbeb1f22e137237d31b735.png)



==æç¤ºï¼š==

- MySQL 5ä¹‹åçš„é©±åŠ¨åŒ…ï¼Œå¯ä»¥çœç•¥æ³¨å†Œé©±åŠ¨çš„æ­¥éª¤

- è‡ªåŠ¨åŠ è½½jaråŒ…ä¸­META-INF/services/java.sql.Driveræ–‡ä»¶ä¸­çš„é©±åŠ¨ç±»

ğŸ”¹è·å–æ•°æ®åº“è¿æ¥

|   |   |   |
| - | - | - |
| static Connection | getConnection(String url,Strint user,String password) | å°è¯•å»ºç«‹ä¸ç»™å®šæ•°æ®åº“çš„è¿æ¥ |


å‚æ•°è¯´æ˜

âšªurl:è¿æ¥è·¯å¾„

- è¯­æ³•ï¼šjdbc:mysql://ipåœ°å€(åŸŸå):ç«¯å£å·/æ•°æ®åº“åç§°?å‚æ•°é”®å€¼å¯¹1&å‚æ•°é”®å€¼å¯¹2â€¦

- ç¤ºä¾‹ï¼šjdbc:mysql://127.0.0.1:3306/db1

- ==ç»†èŠ‚ï¼š==

- å¦‚æœè¿æ¥çš„æ˜¯æœ¬æœºmysqlæœåŠ¡å™¨ï¼Œå¹¶ä¸”mysqlæœåŠ¡é»˜è®¤ç«¯å£æ˜¯3306ï¼Œåˆ™urlå¯ä»¥ç®€å†™ä¸ºï¼šjdbc:mysql:///æ•°æ®åº“åç§°?å‚æ•°é”®å€¼å¯¹

- é…ç½® useSSL=false å‚æ•°ï¼Œç¦ç”¨å®‰å…¨è¿æ¥æ–¹å¼ï¼Œè§£å†³è­¦å‘Šæç¤º

âšªuser:ç”¨æˆ·å

âšªpassword:å¯†ç 

### 2ã€Connection

ğŸ’è·å–æ‰§è¡Œå¯¹è±¡

ğŸ”¹æ™®é€šæ‰§è¡ŒSQLå¯¹è±¡

Statement createStatement()

ğŸ”¹é¢„ç¼–è¯‘SQLçš„æ‰§è¡ŒSQLå¯¹è±¡ï¼šé˜²æ­¢SQLæ³¨å…¥

PreparedStatement  prepareStatement(sql)

ğŸ”¹æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹çš„å¯¹è±¡

CallableStatement prepareCall(sql)

ğŸ’äº‹åŠ¡ç®¡ç†

MySQLäº‹åŠ¡ç®¡ç†çš„æ“ä½œï¼š

- å¼€å¯äº‹åŠ¡ ï¼š BEGIN; æˆ–è€… START TRANSACTION;

- æäº¤äº‹åŠ¡ ï¼š COMMIT;

- å›æ»šäº‹åŠ¡ ï¼š ROLLBACK;

JDBCäº‹åŠ¡ç®¡ç†æ–¹æ³•

- å¼€å¯äº‹åŠ¡ ï¼š

|   |   |   |
| - | - | - |
| void | setAutoCommit(boolean autoCommit) | å°†æ­¤è¿æ¥çš„è‡ªåŠ¨æäº¤è®¾å®šä¸ºç»™å®šçŠ¶æ€ |


- æäº¤äº‹åŠ¡ ï¼š

|   |   |   |
| - | - | - |
| void | commit | ä½¿è‡ªä¸Šæ¬¡æäº¤/å›æ»šä»¥æ¥æ‰€åšçš„æ‰€æœ‰æ›´æ”¹éƒ½å°†æ°¸ä¹…æ€§ï¼Œå¹¶é‡Šæ”¾æ­¤ Connectionå¯¹è±¡å½“å‰æŒæœ‰çš„ä»»ä½•æ•°æ®åº“é”ã€‚  |


- å›æ»šäº‹åŠ¡ ï¼š

|   |   |   |
| - | - | - |
| void | rollback() | æ’¤æ¶ˆåœ¨å½“å‰äº‹åŠ¡ä¸­æ‰€åšçš„æ‰€æœ‰æ›´æ”¹ï¼Œå¹¶é‡Šæ”¾æ­¤ Connectionå¯¹è±¡å½“å‰æŒæœ‰çš„ä»»ä½•æ•°æ®åº“é”ã€‚ <br> |


ğŸ’ç¤ºä¾‹ä»£ç 

```java
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;

public class ConnectionDemo {
    public static void main(String[] args) throws Exception {
        //1ã€è·å–é“¾æ¥
        Connection conn = DriverManager.getConnection("jdbc:mysql:///db1?useSSL=false",
                "root", "1234");
        //2å®šä¹‰sql
        String sql1 = "update account set money = 3000 where id = 1";
        String sql2 = "update account set money = 3000 where id = 2";
        //3ã€è·å–æ‰§è¡Œsqlçš„å¯¹è±¡
        Statement stmt= conn.createStatement();
        try{
            //å¼€å¯äº‹åŠ¡
            conn.setAutoCommit(false);
            //æ‰§è¡Œsql
            System.out.println(stmt.executeUpdate(sql1));
            //åˆ¶é€ å¼‚å¸¸
            //int i=1/0;
            System.out.println(stmt.executeUpdate(sql2));
            //æäº¤äº‹åŠ¡
            conn.commit();
        }catch (Exception e){
            //å›æ»šäº‹åŠ¡
            conn.rollback();
            e.printStackTrace();
        }
        stmt.close();
        conn.close();
    }
}

```

### 3ã€Statement

ğŸ’æ¦‚è¿°

Statementå¯¹è±¡çš„ä½œç”¨å°±æ˜¯ç”¨æ¥æ‰§è¡ŒSQLè¯­å¥ã€‚è€Œé’ˆå¯¹ä¸åŒç±»å‹çš„SQLè¯­å¥ä½¿ç”¨çš„æ–¹æ³•ä¹Ÿä¸ä¸€æ ·ã€‚

- æ‰§è¡ŒDDLã€DMLè¯­å¥

|   |   |   |
| - | - | - |
| int | executeUpdate(StringÂ sql)  | æ‰§è¡Œç»™å®šçš„SQLè¯­å¥ï¼Œè¿™å¯èƒ½æ˜¯ INSERT ï¼Œ UPDATE ï¼Œæˆ– <br>DELETEè¯­å¥ï¼Œæˆ–è€…ä¸è¿”å›ä»»ä½•å†…å®¹ï¼Œå¦‚SQL DDLè¯­å¥çš„SQLè¯­å¥ã€‚  |


- æ‰§è¡ŒDQLè¯­å¥

|   |   |   |
| - | - | - |
| ResultSet | executeQuery(StringÂ sql)  | æ‰§è¡Œç»™å®šçš„SQLè¯­å¥ï¼Œè¯¥è¯­å¥è¿”å›å•ä¸ª ResultSetå¯¹è±¡ã€‚ |


ğŸ’ç¤ºä¾‹ä»£ç 

```java
import org.junit.jupiter.api.Test;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;

public class DMLDQLTest {
    /**
     * æ‰§è¡ŒDML
     * @throws Exception
     */
    @Test
    public void testDML() throws Exception {
        //1ã€è·å–é“¾æ¥
        Connection conn = DriverManager.getConnection("jdbc:mysql:///db1?useSSL=false",
                "root", "1234");
        //2å®šä¹‰sql
        String sql = "update account set money = 3000 where id = 1";
        //3ã€è·å–æ‰§è¡Œsqlçš„å¯¹è±¡
        Statement stmt = conn.createStatement();
        System.out.println(stmt.executeUpdate(sql));
        stmt.close();
        conn.close();
    }

    /**
     * æ‰§è¡ŒDDL
     * @throws Exception
     */
    @Test
    public void testDDL() throws Exception {
        //1ã€è·å–é“¾æ¥
        Connection conn = DriverManager.getConnection("jdbc:mysql:///db1?useSSL=false",
                "root", "1234");
        //2å®šä¹‰sql
        String sql = "create database db2";
        //3ã€è·å–æ‰§è¡Œsqlçš„å¯¹è±¡
        Statement stmt = conn.createStatement();
        System.out.println(stmt.executeUpdate(sql));
        stmt.close();
        conn.close();
    }
}
```

### 4ã€ResultSet

ğŸ’ResultSetï¼ˆç»“æœé›†å¯¹è±¡ï¼‰ä½œç”¨ï¼š

- ==å°è£…äº†SQLæŸ¥è¯¢è¯­å¥çš„ç»“æœã€‚==

è€Œæ‰§è¡Œäº†DQLè¯­å¥åå°±ä¼šè¿”å›è¯¥å¯¹è±¡ï¼Œå¯¹åº”æ‰§è¡ŒDQLè¯­å¥çš„æ–¹æ³•å¦‚ä¸‹ï¼š

ResultSet  executeQuery(sql)ï¼šæ‰§è¡ŒDQL è¯­å¥ï¼Œè¿”å› ResultSet å¯¹è±¡

é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä» ResultSet å¯¹è±¡ä¸­è·å–æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚ResultSetå¯¹è±¡æä¾›	

äº†æ“ä½œæŸ¥è¯¢ç»“æœæ•°æ®çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š'

> boolean  next()

> å°†å…‰æ ‡ä»å½“å‰ä½ç½®å‘å‰ç§»åŠ¨ä¸€è¡Œ 

> åˆ¤æ–­å½“å‰è¡Œæ˜¯å¦ä¸ºæœ‰æ•ˆè¡Œ

>  æ–¹æ³•è¿”å›å€¼è¯´æ˜ï¼š

> true  ï¼š æœ‰æ•ˆèˆªï¼Œå½“å‰è¡Œæœ‰æ•°æ®

> false ï¼š æ— æ•ˆè¡Œï¼Œå½“å‰è¡Œæ²¡æœ‰æ•°æ®



> xxx  getXxx(å‚æ•°)ï¼šè·å–æ•°æ®

> xxx : æ•°æ®ç±»å‹ï¼›å¦‚ï¼š int getInt(å‚æ•°) ï¼›

> String getString(å‚æ•°)

> å‚æ•°

> intç±»å‹çš„å‚æ•°ï¼šåˆ—çš„ç¼–å·ï¼Œä»1å¼€å§‹

> Stringç±»å‹çš„å‚æ•°ï¼š åˆ—çš„åç§° 

å¦‚ä¸‹å›¾ä¸ºæ‰§è¡ŒSQLè¯­å¥åçš„ç»“æœ

![](youdaonote-images/WEBRESOURCE1e1e09c9dc3e20fdf3bb51ff011e5aed.png)

ä¸€å¼€å§‹å…‰æ ‡æŒ‡å®šäºç¬¬ä¸€è¡Œå‰ï¼Œå¦‚å›¾æ‰€ç¤ºçº¢è‰²ç®­å¤´æŒ‡å‘äºè¡¨å¤´è¡Œã€‚å½“æˆ‘ä»¬è°ƒç”¨äº† next() æ–¹æ³•åï¼Œå…‰

æ ‡å°±ä¸‹ç§»åˆ°ç¬¬ä¸€è¡Œæ•°æ®ï¼Œå¹¶ä¸”æ–¹æ³•è¿”å›trueï¼Œæ­¤æ—¶å°±å¯ä»¥é€šè¿‡ getInt("id") è·å–å½“å‰è¡Œidå­—æ®µçš„

å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ getString("name") è·å–å½“å‰è¡Œnameå­—æ®µçš„å€¼ã€‚å¦‚æœæƒ³è·å–ä¸‹ä¸€è¡Œçš„æ•°æ®ï¼Œç»§ç»­

è°ƒç”¨ next()  æ–¹æ³•ï¼Œä»¥æ­¤ç±»æ¨ã€‚

ğŸ’ç¤ºä¾‹ä»£ç 

```java
import org.junit.jupiter.api.Test;

import java.sql.*;

public class ResultSetDemo {
    @Test
    public void testResultSet() throws SQLException {
        //1ã€è·å–é“¾æ¥
        Connection conn = DriverManager.getConnection("jdbc:mysql:///db1?useSSL=false",
                "root", "1234");
        //2å®šä¹‰sql
        String sql = "select * from account";
        //3ã€è·å–æ‰§è¡Œsqlçš„å¯¹è±¡
        Statement stmt = conn.createStatement();
        //4ã€æ‰§è¡Œsql
        ResultSet rs = stmt.executeQuery(sql);
        //5ã€å¤„ç†ç»“æœ
        /*
        // 5.1 å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€è¡Œï¼Œå¹¶ä¸”åˆ¤æ–­å½“å‰è¡Œæ˜¯å¦æœ‰æ•°æ®
        while (rs.next()){
            //5.2 è·å–æ•°æ®  getXxx()
            int id = rs.getInt(1);
            String name = rs.getString(2);
            double money = rs.getDouble(3);
            System.out.println(id);
            System.out.println(name);
            System.out.println(money);
            System.out.println("--------------");
        }
        //*/
        // 5.1 å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€è¡Œï¼Œå¹¶ä¸”åˆ¤æ–­å½“å‰è¡Œæ˜¯å¦æœ‰æ•°æ®
        while (rs.next()){
            //5.2 è·å–æ•°æ®  getXxx()
            int id = rs.getInt("id");
            String name = rs.getString("name");
            double money = rs.getDouble("money");
            System.out.println(id);
            System.out.println(name);
            System.out.println(money);
            System.out.println("--------------");
        }
        //6. é‡Šæ”¾èµ„æº
        rs.close();
        stmt.close();
        conn.close();
    }
}

```

### 5ã€PreparedStatement

ğŸ’PreparedStatementæ¦‚è¿°

PreparedStatementä½œç”¨ï¼š

- é¢„ç¼–è¯‘SQLè¯­å¥å¹¶æ‰§è¡Œï¼šé¢„é˜²SQLæ³¨å…¥é—®é¢˜

ğŸ”¹è·å– PreparedStatement å¯¹è±¡

```java
// SQLè¯­å¥ä¸­çš„å‚æ•°å€¼ï¼Œä½¿ç”¨ï¼Ÿå ä½ç¬¦æ›¿ä»£
String sql = "select * from user where username = ? and password = ?";
// é€šè¿‡Connectionå¯¹è±¡è·å–ï¼Œå¹¶ä¼ å…¥å¯¹åº”çš„sqlè¯­å¥
PreparedStatement pstmt = conn.prepareStatement(sql);
```

ğŸ”¹è®¾ç½®å‚æ•°å€¼

ä¸Šé¢çš„sqlè¯­å¥ä¸­å‚æ•°ä½¿ç”¨ ? è¿›è¡Œå ä½ï¼Œåœ¨æ‰§è¡Œä¹‹å‰è¦è®¾ç½®è¿™äº› ?  çš„å€¼ã€‚

> PreparedStatementå¯¹è±¡ï¼šsetXxx(å‚æ•°1ï¼Œå‚æ•°2)ï¼šç»™ ? èµ‹å€¼

> Xxxï¼šæ•°æ®ç±»å‹ ï¼› å¦‚ setInt (å‚æ•°1ï¼Œå‚æ•°2)

> å‚æ•°ï¼š

> å‚æ•°1ï¼š ï¼Ÿçš„ä½ç½®ç¼–å·ï¼Œä»1 å¼€å§‹

> å‚æ•°2ï¼š ï¼Ÿçš„å€¼

> 

ğŸ”¹æ‰§è¡ŒSQLè¯­å¥

> executeUpdate();  æ‰§è¡ŒDDLè¯­å¥å’ŒDMLè¯­å¥

> executeQuery();  æ‰§è¡ŒDQLè¯­å¥

> ==æ³¨æ„ï¼š==

> è°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•æ—¶ä¸éœ€è¦ä¼ é€’SQLè¯­å¥ï¼Œå› ä¸ºè·å–SQLè¯­å¥æ‰§è¡Œå¯¹è±¡æ—¶å·²ç»å¯¹SQLè¯­å¥è¿›è¡Œé¢„ç¼–è¯‘äº†ã€‚

ğŸ’PreparedStatementåŸç†

PreparedStatement å¥½å¤„ï¼š

- é¢„ç¼–è¯‘SQLï¼Œæ€§èƒ½æ›´é«˜

- é˜²æ­¢SQLæ³¨å…¥ï¼š==å°†æ•æ„Ÿå­—ç¬¦è¿›è¡Œè½¬ä¹‰==

![](youdaonote-images/WEBRESOURCEb2ed60f10069c80f9b73bde766eeb740.png)

Javaä»£ç æ“ä½œæ•°æ®åº“æµç¨‹å¦‚å›¾æ‰€ç¤ºï¼š

- å°†sqlè¯­å¥å‘é€åˆ°MySQLæœåŠ¡å™¨ç«¯

- MySQLæœåŠ¡ç«¯ä¼šå¯¹sqlè¯­å¥è¿›è¡Œå¦‚ä¸‹æ“ä½œ

- æ£€æŸ¥SQLè¯­å¥æ£€æŸ¥SQLè¯­å¥çš„è¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚

- ç¼–è¯‘SQLè¯­å¥ã€‚å°†SQLè¯­å¥ç¼–è¯‘æˆå¯æ‰§è¡Œçš„å‡½æ•°ã€‚æ£€æŸ¥SQLå’Œç¼–è¯‘SQLèŠ±è´¹çš„æ—¶é—´æ¯”æ‰§è¡ŒSQLçš„æ—¶é—´è¿˜è¦é•¿ã€‚å¦‚æœæˆ‘ä»¬åªæ˜¯é‡æ–°è®¾ç½®å‚æ•°ï¼Œé‚£ä¹ˆæ£€æŸ¥SQLè¯­å¥å’Œç¼–è¯‘SQLè¯­å¥å°†ä¸éœ€è¦é‡å¤æ‰§è¡Œã€‚è¿™æ ·å°±æé«˜äº†æ€§èƒ½ã€‚

- æ‰§è¡ŒSQLè¯­å¥

PreparedStatementåˆæ˜¯å¦‚ä½•è§£å†³SQLæ³¨å…¥ï¼Ÿå®ƒæ˜¯å°†ç‰¹æ®Šå­—ç¬¦è¿›è¡Œäº†è½¬ä¹‰ï¼Œè½¬ä¹‰çš„SQLå¦‚

ä¸‹ï¼š

select * from tb_user where username = 'sjdljfld' and password = ''or '1' = '1'

# æ•°æ®åº“è¿æ¥æ± 

## ä¸€ã€ æ•°æ®åº“è¿æ¥æ± ç®€ä»‹

- æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸ªå®¹å™¨ï¼Œè´Ÿè´£åˆ†é…ã€ç®¡ç†æ•°æ®åº“è¿æ¥(Connection)

- å®ƒå…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œè€Œä¸æ˜¯å†é‡æ–°å»ºç«‹ä¸€ä¸ªï¼›

- é‡Šæ”¾ç©ºé—²æ—¶é—´è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´çš„æ•°æ®åº“è¿æ¥æ¥é¿å…å› ä¸ºæ²¡æœ‰é‡Šæ”¾æ•°æ®åº“è¿æ¥è€Œå¼•èµ·çš„æ•°æ®åº“è¿æ¥é—æ¼

- å¥½å¤„

- èµ„æºé‡ç”¨

- æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦

- é¿å…æ•°æ®åº“è¿æ¥é—æ¼

ä¹‹å‰æˆ‘ä»¬ä»£ç ä¸­ä½¿ç”¨è¿æ¥æ˜¯æ²¡æœ‰ä½¿ç”¨éƒ½åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡ï¼Œä½¿ç”¨å®Œæ¯•å°±ä¼šå°†å…¶é”€æ¯ã€‚è¿™æ ·é‡å¤

åˆ›å»ºé”€æ¯çš„è¿‡ç¨‹æ˜¯ç‰¹åˆ«è€—è´¹è®¡ç®—æœºçš„æ€§èƒ½çš„åŠæ¶ˆè€—æ—¶é—´çš„ã€‚

è€Œæ•°æ®åº“ä½¿ç”¨äº†æ•°æ®åº“è¿æ¥æ± åï¼Œå°±èƒ½è¾¾åˆ°Connectionå¯¹è±¡çš„å¤ç”¨ï¼Œå¦‚ä¸‹å›¾

![](youdaonote-images/WEBRESOURCEd311531f4d3370990d72959f69300a54.png)

è¿æ¥æ± æ˜¯åœ¨ä¸€å¼€å§‹å°±åˆ›å»ºå¥½äº†ä¸€äº›è¿æ¥ï¼ˆConnectionï¼‰å¯¹è±¡å­˜å‚¨èµ·æ¥ã€‚ç”¨æˆ·éœ€è¦è¿æ¥æ•°æ®åº“æ—¶ï¼Œä¸éœ€

è¦è‡ªå·±åˆ›å»ºè¿æ¥ï¼Œè€Œåªéœ€è¦ä»è¿æ¥æ± ä¸­è·å–ä¸€ä¸ªè¿æ¥è¿›è¡Œä½¿ç”¨ï¼Œä½¿ç”¨å®Œæ¯•åå†å°†è¿æ¥å¯¹è±¡å½’è¿˜ç»™è¿æ¥

æ± ï¼›è¿™æ ·å°±å¯ä»¥èµ·åˆ°èµ„æºé‡ç”¨ï¼Œä¹ŸèŠ‚çœäº†é¢‘ç¹åˆ›å»ºè¿æ¥é”€æ¯è¿æ¥æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œä»è€Œæå‡äº†ç³»ç»Ÿå“åº”

çš„é€Ÿåº¦ã€‚

## äºŒã€æ•°æ®åº“è¿æ¥æ± å®ç°

- æ ‡å‡†æ¥å£ï¼š==DataSource==

å®˜æ–¹(SUN) æä¾›çš„æ•°æ®åº“è¿æ¥æ± æ ‡å‡†æ¥å£ï¼Œç”±ç¬¬ä¸‰æ–¹ç»„ç»‡å®ç°æ­¤æ¥å£ã€‚è¯¥æ¥å£æä¾›äº†è·å–è¿æ¥çš„

åŠŸèƒ½ï¼š

Connection getConnection()

é‚£ä¹ˆä»¥åå°±ä¸éœ€è¦é€šè¿‡ DriverManager å¯¹è±¡è·å– Connection å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡è¿æ¥æ± 

ï¼ˆDataSourceï¼‰è·å– Connection å¯¹è±¡ã€‚

- å¸¸è§çš„æ•°æ®åº“è¿æ¥æ± 

- DBCP

- C3P0

- Druid

æˆ‘ä»¬ç°åœ¨ä½¿ç”¨æ›´å¤šçš„æ˜¯Druidï¼Œå®ƒçš„æ€§èƒ½æ¯”å…¶ä»–ä¸¤ä¸ªä¼šå¥½ä¸€äº›ã€‚

- Druidï¼ˆå¾·é²ä¼Šï¼‰

- Druidè¿æ¥æ± æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„æ•°æ®åº“è¿æ¥æ± é¡¹ç›® 

- åŠŸèƒ½å¼ºå¤§ï¼Œæ€§èƒ½ä¼˜ç§€ï¼Œæ˜¯Javaè¯­è¨€æœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ä¹‹ä¸€

## ä¸‰ã€Driudä½¿ç”¨

> å¯¼å…¥jaråŒ… druid-1.1.12.jar

> å®šä¹‰é…ç½®æ–‡ä»¶

> åŠ è½½é…ç½®æ–‡ä»¶

> è·å–æ•°æ®åº“è¿æ¥æ± å¯¹è±¡

> è·å–è¿æ¥

ğŸ’ç¤ºä¾‹ä»£ç 

```java
import com.alibaba.druid.pool.DruidDataSourceFactory;

import javax.sql.DataSource;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.sql.Connection;
import java.util.Properties;

public class DruidDemo {
    public static void main(String[] args) throws Exception {
        //1ã€å¯¼å…¥jaråŒ…
        //2ã€å®šä¹‰é…ç½®æ–‡ä»¶
        //3ã€åŠ è½½é…ç½®æ–‡ä»¶
        Properties prop = new Properties();
        prop.load(new FileInputStream("jdbc_demo/druid.properties"));
        //4ã€è·å–è¿æ¥æ± å¯¹è±¡
        DataSource dataSource = DruidDataSourceFactory.createDataSource(prop);
        //5ã€è·å–æ•°æ®åº“è¿æ¥ Connection
        Connection connection = dataSource.getConnection();
        System.out.println(connection); //è·å–åˆ°äº†è¿æ¥åå°±å¯ä»¥ç»§ç»­åšå…¶ä»–æ“ä½œäº†
        //System.out.println(System.getProperty("user.dir"));

    }
}

```

[JDBC.zip](youdaonote-attachments/WEBRESOURCE708140621329ffebaeff3fc6338769f3JDBC.zip)

# Maven

## ä¸€ã€Mavenç®€ä»‹

### 1ã€mavenæ¨¡å‹

- é¡¹ç›®å¯¹è±¡æ¨¡å‹ (Project Object Model)

- ä¾èµ–ç®¡ç†æ¨¡å‹(Dependency)

- æ’ä»¶(Plugin)

### 2ã€ ä»“åº“

ä»“åº“åˆ†ç±»ï¼š

- æœ¬åœ°ä»“åº“ï¼šè‡ªå·±è®¡ç®—æœºä¸Šçš„ä¸€ä¸ªç›®å½•

- ä¸­å¤®ä»“åº“ï¼šç”±Mavenå›¢é˜Ÿç»´æŠ¤çš„å…¨çƒå”¯ä¸€çš„ä»“åº“

- åœ°å€ï¼š https://repo1.maven.org/maven2/

- è¿œç¨‹ä»“åº“(ç§æœ)ï¼šä¸€èˆ¬ç”±å…¬å¸å›¢é˜Ÿæ­å»ºçš„ç§æœ‰ä»“åº“ä»Šå¤©æˆ‘ä»¬åªå­¦ä¹ è¿œç¨‹ä»“åº“çš„ä½¿ç”¨ï¼Œå¹¶ä¸ä¼šæ­å»ºã€‚

å½“é¡¹ç›®ä¸­ä½¿ç”¨åæ ‡å¼•å…¥å¯¹åº”ä¾èµ–jaråŒ…åï¼Œé¦–å…ˆä¼šæŸ¥æ‰¾æœ¬åœ°ä»“åº“ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„jaråŒ…ï¼š

- å¦‚æœæœ‰ï¼Œåˆ™åœ¨é¡¹ç›®ç›´æ¥å¼•ç”¨;

- å¦‚æœæ²¡æœ‰ï¼Œåˆ™å»ä¸­å¤®ä»“åº“ä¸­ä¸‹è½½å¯¹åº”çš„jaråŒ…åˆ°æœ¬åœ°ä»“åº“ã€‚

## äºŒã€MavenåŸºæœ¬ä½¿ç”¨

### 1ã€Maven å¸¸ç”¨å‘½ä»¤

- compile ï¼šç¼–è¯‘

- cleanï¼šæ¸…ç†

- testï¼šæµ‹è¯•

- packageï¼šæ‰“åŒ…

- installï¼šå®‰è£…

### 2ã€Maven ç”Ÿå‘½å‘¨æœŸ

Maven æ„å»ºé¡¹ç›®ç”Ÿå‘½å‘¨æœŸæè¿°çš„æ˜¯ä¸€æ¬¡æ„å»ºè¿‡ç¨‹ç»å†ç»å†äº†å¤šå°‘ä¸ªäº‹ä»¶

Maven å¯¹é¡¹ç›®æ„å»ºçš„ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ä¸º3å¥—ï¼š

- clean ï¼šæ¸…ç†å·¥ä½œã€‚

- default ï¼šæ ¸å¿ƒå·¥ä½œï¼Œä¾‹å¦‚ç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œå®‰è£…ç­‰ã€‚

- site ï¼š äº§ç”ŸæŠ¥å‘Šï¼Œå‘å¸ƒç«™ç‚¹ç­‰ã€‚è¿™å¥—å£°æ˜å‘¨æœŸä¸€èˆ¬ä¸ä¼šä½¿ç”¨ã€‚

åŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸå†…ï¼Œæ‰§è¡Œåè¾¹çš„å‘½ä»¤ï¼Œå‰é¢çš„æ‰€æœ‰å‘½ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚ä¾‹å¦‚é»˜è®¤ï¼ˆdefaultï¼‰ç”Ÿå‘½å‘¨æœŸå¦‚

ä¸‹ï¼š



![](youdaonote-images/WEBRESOURCE178e734713be5a4d45e3ddf0b6b8c8c9.png)

å½“æˆ‘ä»¬æ‰§è¡Œ installï¼ˆå®‰è£…ï¼‰å‘½ä»¤æ—¶ï¼Œå®ƒä¼šå…ˆæ‰§è¡Œ compileå‘½ä»¤ï¼Œå†æ‰§è¡Œ test å‘½ä»¤ï¼Œå†æ‰§è¡Œ package å‘½

ä»¤ï¼Œæœ€åæ‰§è¡Œ install å‘½ä»¤ã€‚

å½“æˆ‘ä»¬æ‰§è¡Œ package ï¼ˆæ‰“åŒ…ï¼‰å‘½ä»¤æ—¶ï¼Œå®ƒä¼šå…ˆæ‰§è¡Œ compile å‘½ä»¤ï¼Œå†æ‰§è¡Œ test å‘½ä»¤ï¼Œæœ€åæ‰§è¡Œ 

package å‘½ä»¤ã€‚

é»˜è®¤çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿæœ‰å¯¹åº”çš„å¾ˆå¤šå‘½ä»¤ï¼Œå…¶ä»–çš„ä¸€èˆ¬éƒ½ä¸ä¼šä½¿ç”¨ï¼Œæˆ‘ä»¬åªå…³æ³¨å¸¸ç”¨çš„ï¼š



![](youdaonote-images/WEBRESOURCE4f1f1f96c153edd7daf2438111dd1b36.png)

## ä¸‰ã€IDEAä½¿ç”¨Maven

Maven åæ ‡è¯¦è§£	

ä»€ä¹ˆæ˜¯åæ ‡ï¼Ÿ

- Maven ä¸­çš„åæ ‡æ˜¯==èµ„æºçš„å”¯ä¸€æ ‡è¯†==

- ä½¿ç”¨åæ ‡æ¥å®šä¹‰é¡¹ç›®æˆ–å¼•å…¥é¡¹ç›®ä¸­éœ€è¦çš„ä¾èµ–

Maven åæ ‡ä¸»è¦ç»„æˆ

- groupIdï¼šå®šä¹‰å½“å‰Mavené¡¹ç›®éš¶å±ç»„ç»‡åç§°ï¼ˆé€šå¸¸æ˜¯åŸŸååå†™ï¼Œä¾‹å¦‚ï¼šcom.itheimaï¼‰		

- artifactIdï¼šå®šä¹‰å½“å‰Mavené¡¹ç›®åç§°ï¼ˆé€šå¸¸æ˜¯æ¨¡å—åç§°ï¼Œä¾‹å¦‚ order-serviceã€goods-serviceï¼‰

- versionï¼šå®šä¹‰å½“å‰é¡¹ç›®ç‰ˆæœ¬å·

## å››ã€ä¾èµ–ç®¡ç†

### 1ã€ä½¿ç”¨åæ ‡å¼•å…¥jaråŒ…

ä½¿ç”¨åæ ‡å¼•å…¥jaråŒ…çš„æ­¥éª¤ï¼š

- åœ¨é¡¹ç›®çš„ pom.xml ä¸­ç¼–å†™ <dependencies> æ ‡ç­¾

- åœ¨ <dependencies> æ ‡ç­¾ä¸­ ä½¿ç”¨ <dependency> å¼•å…¥åæ ‡

- å®šä¹‰åæ ‡çš„ groupIdï¼ŒartifactIdï¼Œversion

![](youdaonote-images/WEBRESOURCEa9e23bfbbd7809a7a9e7b6ecad08e423.png)

- ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œä½¿åæ ‡ç”Ÿæ•ˆ

æ³¨æ„ï¼š

- å…·ä½“çš„åæ ‡æˆ‘ä»¬å¯ä»¥åˆ°å¦‚ä¸‹ç½‘ç«™è¿›è¡Œæœç´¢

- https://mvnrepository.com/

å¿«æ·æ–¹å¼å¯¼å…¥jaråŒ…çš„åæ ‡ï¼š

æ¯æ¬¡éœ€è¦å¼•å…¥jaråŒ…ï¼Œéƒ½å»å¯¹åº”çš„ç½‘ç«™è¿›è¡Œæœç´¢æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæ¥ä¸‹æ¥ç»™å¤§å®¶ä»‹ç»ä¸€ç§å¿«æ·å¼•å…¥å

æ ‡çš„æ–¹å¼

- åœ¨ pom.xml ä¸­ æŒ‰ alt + insertï¼Œé€‰æ‹© Dependency

![](youdaonote-images/WEBRESOURCE0a51ce8074d8182bcfa2481c1eca9a99.png)

- åœ¨å¼¹å‡ºçš„é¢æ¿ä¸­æœç´¢å¯¹åº”åæ ‡ï¼Œç„¶ååŒå‡»é€‰ä¸­å¯¹åº”åæ ‡	

![](youdaonote-images/WEBRESOURCE381b4aa097603b3471b77773aaa9d933.png)

- ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œä½¿åæ ‡ç”Ÿæ•ˆ

### 2 ã€ä¾èµ–èŒƒå›´

é€šè¿‡è®¾ç½®åæ ‡çš„ä¾èµ–èŒƒå›´(scope)ï¼Œå¯ä»¥è®¾ç½® å¯¹åº”jaråŒ…çš„ä½œç”¨èŒƒå›´ï¼šç¼–è¯‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€è¿è¡Œç¯

å¢ƒã€‚

å¦‚ä¸‹å›¾æ‰€ç¤ºç»™ junit ä¾èµ–é€šè¿‡ scope æ ‡ç­¾æŒ‡å®šä¾èµ–çš„ä½œç”¨èŒƒå›´ã€‚ é‚£ä¹ˆè¿™ä¸ªä¾èµ–å°±åªèƒ½ä½œç”¨åœ¨æµ‹è¯•ç¯

å¢ƒï¼Œå…¶ä»–ç¯å¢ƒä¸‹ä¸èƒ½ä½¿ç”¨ã€‚

![](youdaonote-images/WEBRESOURCE7593b848ea9ae43efbcace6b049a5744.png)

é‚£ä¹ˆ scope éƒ½å¯ä»¥æœ‰å“ªäº›å–å€¼å‘¢ï¼Ÿ

| ä¾èµ–èŒƒå›´ | ç¼–è¯‘classpath | æµ‹è¯•classpath | è¿è¡Œclasspath | ä¾‹å­ |
| - | - | - | - | - |
| compile | Y | Y | Y | logback |
| test | - | Y | - | Junit |
| provided | Y | Y | - | servlet-api |
| runtime | - | Y | Y | jdbcé©±åŠ¨ |
| system | Y | Y | - | å­˜å‚¨åœ¨æœ¬åœ°çš„jaråŒ… |


- compile ï¼šä½œç”¨äºç¼–è¯‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€è¿è¡Œç¯å¢ƒã€‚

- test ï¼š ä½œç”¨äºæµ‹è¯•ç¯å¢ƒã€‚å…¸å‹çš„å°±æ˜¯Junitåæ ‡ï¼Œä»¥åä½¿ç”¨Junitæ—¶ï¼Œéƒ½ä¼šå°†scopeæŒ‡å®šä¸ºè¯¥å€¼

- provided ï¼šä½œç”¨äºç¼–è¯‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€‚æˆ‘ä»¬åé¢ä¼šå­¦ä¹  servlet-api ï¼Œåœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œå¿…é¡»å°† scope è®¾ç½®ä¸ºè¯¥å€¼ï¼Œä¸ç„¶è¿è¡Œæ—¶å°±ä¼šæŠ¥é”™

- runtime  ï¼š ä½œç”¨äºæµ‹è¯•ç¯å¢ƒã€è¿è¡Œç¯å¢ƒã€‚jdbcé©±åŠ¨ä¸€èˆ¬å°† scope è®¾ç½®ä¸ºè¯¥å€¼ï¼Œå½“ç„¶ä¸è®¾ç½®ä¹Ÿæ²¡æœ‰ä»»ä½•é—®é¢˜

> æ³¨æ„ï¼š

> å¦‚æœå¼•å…¥åæ ‡ä¸æŒ‡å®š scope æ ‡ç­¾æ—¶ï¼Œé»˜è®¤å°±æ˜¯ compile  å€¼ã€‚ä»¥åå¤§éƒ¨åˆ†jaråŒ…éƒ½æ˜¯ä½¿ç”¨é»˜è®¤å€¼ã€‚

# Mybatis

## ä¸€ã€Mybatisæ¦‚è¿°

### 1ã€Mybatisæ¦‚å¿µ

- MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„==æŒä¹…å±‚æ¡†æ¶==ï¼Œç”¨äºç®€åŒ– JDBC å¼€å‘

- MyBatis æœ¬æ˜¯ Apache çš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚2013å¹´11æœˆè¿ç§»åˆ°Github

- å®˜ç½‘ï¼šhttps://mybatis.org/mybatis-3/zh/index.html 

æŒä¹…å±‚ï¼š

- è´Ÿè´£å°†æ•°æ®åˆ°ä¿å­˜åˆ°æ•°æ®åº“çš„é‚£ä¸€å±‚ä»£ç ã€‚	

- JavaEEä¸‰å±‚æ¶æ„ï¼šè¡¨ç°å±‚ã€ä¸šåŠ¡å±‚ã€æŒä¹…

æ¡†æ¶ï¼š

- æ¡†æ¶å°±æ˜¯ä¸€ä¸ªåŠæˆå“è½¯ä»¶ï¼Œæ˜¯ä¸€å¥—å¯é‡ç”¨çš„ã€é€šç”¨çš„ã€è½¯ä»¶åŸºç¡€ä»£ç æ¨¡å‹

- åœ¨æ¡†æ¶çš„åŸºç¡€ä¹‹ä¸Šæ„å»ºè½¯ä»¶ç¼–å†™æ›´åŠ é«˜æ•ˆã€è§„èŒƒã€é€šç”¨ã€å¯æ‰©å±•

### 2ã€ JDBC ç¼ºç‚¹

![](youdaonote-images/WEBRESOURCE1e1ae636f65a82c426830624ff71e08f.png)

- ç¡¬ç¼–ç 

- æ³¨å†Œé©±åŠ¨ã€è·å–è¿æ¥

ä¸Šå›¾æ ‡1çš„ä»£ç æœ‰å¾ˆå¤šå­—ç¬¦ä¸²ï¼Œè€Œè¿™äº›æ˜¯è¿æ¥æ•°æ®åº“çš„å››ä¸ªåŸºæœ¬ä¿¡æ¯ï¼Œä»¥åå¦‚æœè¦å°†Mysqlæ•°

æ®åº“æ¢æˆå…¶ä»–çš„å…³ç³»å‹æ•°æ®åº“çš„è¯ï¼Œè¿™å››ä¸ªåœ°æ–¹éƒ½éœ€è¦ä¿®æ”¹ï¼Œå¦‚æœæ”¾åœ¨æ­¤å¤„å°±æ„å‘³ç€è¦ä¿®æ”¹

æˆ‘ä»¬çš„æºä»£ç ã€‚

- SQLè¯­å¥

ä¸Šå›¾æ ‡2çš„ä»£ç ã€‚å¦‚æœè¡¨ç»“æ„å‘ç”Ÿå˜åŒ–ï¼ŒSQLè¯­å¥å°±è¦è¿›è¡Œæ›´æ”¹ã€‚è¿™ä¹Ÿä¸æ–¹ä¾¿åæœŸçš„ç»´æŠ¤ã€‚

- æ“ä½œç¹ç

- æ‰‹åŠ¨è®¾ç½®å‚æ•°

- æ‰‹åŠ¨å°è£…ç»“æœé›†

ä¸Šå›¾æ ‡4çš„ä»£ç æ˜¯å¯¹æŸ¥è¯¢åˆ°çš„æ•°æ®è¿›è¡Œå°è£…ï¼Œè€Œè¿™éƒ¨åˆ†ä»£ç æ˜¯æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼Œè€Œä¸”ç‰¹åˆ«è€—

è´¹æ—¶é—´çš„ã€‚

### 4ã€Mybatis ä¼˜åŒ–

- ç¡¬ç¼–ç å¯ä»¥é…ç½®åˆ°==é…ç½®æ–‡ä»¶==

- æ“ä½œç¹ççš„åœ°æ–¹mybatiséƒ½==è‡ªåŠ¨å®Œæˆ==

å¦‚å›¾æ‰€ç¤º

![](youdaonote-images/WEBRESOURCEba4ca39978dac32fd513ae214a9aac51.png)

## äºŒã€Mybatiså¿«é€Ÿå…¥é—¨

- åˆ›å»ºuserè¡¨ï¼Œæ·»åŠ æ•°æ®

```sql
create database mybatis;
use mybatis;

drop table if exists tb_user;

create table tb_user(
	id int primary key auto_increment,
	username varchar(20),
	password varchar(20),
	gender char(1),
	addr varchar(30)
);

INSERT INTO tb_user VALUES (1, 'zhangsan', '123', 'ç”·', 'åŒ—äº¬');
INSERT INTO tb_user VALUES (2, 'æå››', '234', 'å¥³', 'å¤©æ´¥');
INSERT INTO tb_user VALUES (3, 'ç‹äº”', '11', 'ç”·', 'è¥¿å®‰');
```

- åˆ›å»ºæ¨¡å—ï¼Œå¯¼å…¥åæ ‡

åœ¨åˆ›å»ºå¥½çš„æ¨¡å—ä¸­çš„ pom.xml é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–çš„åæ ‡

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.example</groupId>
    <artifactId>mybatis_demo</artifactId>
    <version>1.0-SNAPSHOT</version>
    <dependencies>
        <dependency>
            <groupId>org.mybatis</groupId>
            <artifactId>mybatis</artifactId>
            <version>3.5.5</version>
        </dependency>
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.46</version>
        </dependency>
        <!--junit å•å…ƒæµ‹è¯•-->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.13</version>
            <scope>test</scope>
        </dependency>

        <!-- æ·»åŠ slf4jæ—¥å¿—api -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.7.20</version>
        </dependency>
        <!-- æ·»åŠ logback-classicä¾èµ– -->
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
            <version>1.2.3</version>
        </dependency>
        <!-- æ·»åŠ logback-coreä¾èµ– -->
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-core</artifactId>
            <version>1.2.3</version>
        </dependency>
    </dependencies>

</project>
```

æ³¨æ„ï¼šéœ€è¦åœ¨é¡¹ç›®çš„ resources ç›®å½•ä¸‹åˆ›å»ºlogbackçš„é…ç½®æ–‡ä»¶

- ç¼–å†™ MyBatis æ ¸å¿ƒé…ç½®æ–‡ä»¶ -- > æ›¿æ¢è¿æ¥ä¿¡æ¯ è§£å†³ç¡¬ç¼–ç é—®é¢˜

åœ¨æ¨¡å—ä¸‹çš„ resources ç›®å½•ä¸‹åˆ›å»ºmybatisçš„é…ç½®æ–‡ä»¶ mybatis-config.xmlï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd">
<configuration>

    <typeAliases>
        <package name="pojo"/>
    </typeAliases>

    <!--
    environmentsï¼šé…ç½®æ•°æ®åº“è¿æ¥ç¯å¢ƒä¿¡æ¯ã€‚å¯ä»¥é…ç½®å¤šä¸ªenvironmentï¼Œé€šè¿‡defaultå±æ€§åˆ‡æ¢ä¸åŒçš„environment
    -->
    <environments default="development">
        <environment id="development">
            <transactionManager type="JDBC"/>
            <dataSource type="POOLED">
                <!--æ•°æ®åº“è¿æ¥ä¿¡æ¯-->
                <property name="driver" value="com.mysql.jdbc.Driver"/>
                <property name="url" value="jdbc:mysql:///mybatis?useSSL=false"/>
                <property name="username" value="root"/>
                <property name="password" value="1234"/>
            </dataSource>
        </environment>

        <environment id="test">
            <transactionManager type="JDBC"/>
            <dataSource type="POOLED">
                <!--æ•°æ®åº“è¿æ¥ä¿¡æ¯-->
                <property name="driver" value="com.mysql.jdbc.Driver"/>
                <property name="url" value="jdbc:mysql:///mybatis?useSSL=false"/>
                <property name="username" value="root"/>
                <property name="password" value="1234"/>
            </dataSource>
        </environment>
    </environments>
    <mappers>
        <!--åŠ è½½sqlæ˜ å°„æ–‡ä»¶-->
        <mapper resource="pojo/UserMapper.xml"/>
    </mappers>
</configuration>
```

- ç¼–å†™ SQL æ˜ å°„æ–‡ä»¶ --> ç»Ÿä¸€ç®¡ç†sqlè¯­å¥ï¼Œè§£å†³ç¡¬ç¼–ç é—®é¢˜

åœ¨æ¨¡å—çš„ resources ç›®å½•ä¸‹åˆ›å»ºæ˜ å°„é…ç½®æ–‡ä»¶ UserMapper.xmlï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="test">
    <select id="selectAll" resultType="pojo.User">
        select * from tb_user;
    </select>
</mapper>
```

- ç¼–ç 

- åœ¨ com.itheima.pojo åŒ…ä¸‹åˆ›å»º Userç±»

```java
package pojo;

public class User {
    private int id;
    private String username;
    private String password;
    private String gender;
    private String addr;

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String getGender() {
        return gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public String getAddr() {
        return addr;
    }

    public void setAddr(String addr) {
        this.addr = addr;
    }

    @Override
    public String toString() {
        return "User{" +
                "id=" + id +
                ", username='" + username + '\'' +
                ", password='" + password + '\'' +
                ", gender='" + gender + '\'' +
                ", addr='" + addr + '\'' +
                '}';
    }
}

```

- åœ¨ com.itheima åŒ…ä¸‹ç¼–å†™ MybatisDemo æµ‹è¯•ç±»

```java
package test;

import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import pojo.User;

import java.io.IOException;
import java.io.InputStream;
import java.util.List;

public class MyBatisDemo {
    public static void main(String[] args) throws IOException {
        //1. åŠ è½½mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè·å– SqlSessionFactory
        String resource = "mybatis-config.xml";
        InputStream inputStream = Resources.getResourceAsStream(resource);
        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
        //2. è·å–SqlSessionå¯¹è±¡ï¼Œç”¨å®ƒæ¥æ‰§è¡Œsql
        SqlSession sqlSession = sqlSessionFactory.openSession();
        //3. æ‰§è¡Œsql
        List<User> users = sqlSession.selectList("test.selectAll"); //å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å¿…é¡»æ˜¯æ˜ å°„é…ç½®æ–‡ä»¶çš„namespace.id
        System.out.println(users);
        //4. é‡Šæ”¾èµ„æº
        sqlSession.close();
    }
}

```

## ä¸‰ã€ Mapperä»£ç†å¼€å‘

### 1ã€Mapperä»£ç†å¼€å‘æ¦‚è¿°

ä¹‹å‰æˆ‘ä»¬å†™çš„ä»£ç æ˜¯åŸºæœ¬ä½¿ç”¨æ–¹å¼ï¼Œå®ƒä¹Ÿå­˜åœ¨ç¡¬ç¼–ç çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEe26a7a4e9c3f7fbe1291158f5be75b07.png)

è¿™é‡Œè°ƒç”¨ selectList() æ–¹æ³•ä¼ é€’çš„å‚æ•°æ˜¯æ˜ å°„é…ç½®æ–‡ä»¶ä¸­çš„ namespace.idå€¼ã€‚è¿™æ ·å†™ä¹Ÿä¸ä¾¿äºåæœŸçš„

ç»´æŠ¤ã€‚å¦‚æœä½¿ç”¨ Mapper ä»£ç†æ–¹å¼ï¼ˆå¦‚ä¸‹å›¾ï¼‰åˆ™ä¸å­˜åœ¨ç¡¬ç¼–ç é—®é¢˜ã€‚

![](youdaonote-images/WEBRESOURCEe819bbff4e65b9193ff361ea5d392f47.png)

é€šè¿‡ä¸Šé¢çš„æè¿°å¯ä»¥çœ‹å‡º Mapper ä»£ç†æ–¹å¼çš„ç›®çš„ï¼š

- è§£å†³åŸç”Ÿæ–¹å¼ä¸­çš„ç¡¬ç¼–ç 

- ç®€åŒ–åæœŸæ‰§è¡ŒSQL

###  2ã€æ¡ˆä¾‹ä»£ç å®ç°

- åœ¨ com.itheima.mapper åŒ…ä¸‹åˆ›å»º UserMapperæ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
package mapper;

import pojo.User;

import java.util.List;

public interface UserMapper {
    public List<User> selectAll() ;
}

```

- åœ¨ resources ä¸‹åˆ›å»º com/itheima/mapper ç›®å½•ï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º UserMapper.xml æ˜ å°„é…ç½®æ–‡ä»¶

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.UserMapper">
    <select id="selectAll" resultType="pojo.User">
        select * from tb_user;
    </select>
</mapper>
```

- åœ¨ com.itheima åŒ…ä¸‹åˆ›å»º MybatisDemo2 æµ‹è¯•ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
package test;

import mapper.UserMapper;
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import pojo.User;

import java.io.IOException;
import java.io.InputStream;
import java.util.List;

public class MyBatisDemo {
    public static void main(String[] args) throws IOException {
        //1. åŠ è½½mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè·å– SqlSessionFactory
        String resource = "mybatis-config.xml";
        InputStream inputStream = Resources.getResourceAsStream(resource);
        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
        //2. è·å–SqlSessionå¯¹è±¡ï¼Œç”¨å®ƒæ¥æ‰§è¡Œsql
        SqlSession sqlSession = sqlSessionFactory.openSession();
        //3. æ‰§è¡Œsql
        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);
        List<User> users = userMapper.selectAll();
        System.out.println(users);
        //4. é‡Šæ”¾èµ„æº
        sqlSession.close();
    }
}

```

## å››ã€ æ ¸å¿ƒé…ç½®æ–‡ä»¶

![](youdaonote-images/WEBRESOURCE45cb467bcc9dbe0afb805b10106f9492.png)

### 1ã€å¤šç¯å¢ƒé…ç½®

åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„ environments æ ‡ç­¾ä¸­å…¶å®æ˜¯å¯ä»¥é…ç½®å¤šä¸ª environment ï¼Œä½¿ç”¨ id ç»™æ¯æ®µ

ç¯å¢ƒèµ·åï¼Œåœ¨ environments ä¸­ä½¿ç”¨ default='ç¯å¢ƒid' æ¥æŒ‡å®šä½¿ç”¨å“ªå„¿æ®µé…ç½®ã€‚æˆ‘ä»¬ä¸€èˆ¬å°±é…

ç½®ä¸€ä¸ª environment å³å¯ã€‚

```xml
<environments default="development">
    <environment id="development">
        <transactionManager type="JDBC"/>
        <dataSource type="POOLED">
            <!--æ•°æ®åº“è¿æ¥ä¿¡æ¯-->
            <property name="driver" value="com.mysql.jdbc.Driver"/>
            <property name="url" value="jdbc:mysql:///mybatis?useSSL=false"/>
            <property name="username" value="root"/>
            <property name="password" value="1234"/>
        </dataSource>
    </environment>

    <environment id="test">
        <transactionManager type="JDBC"/>
        <dataSource type="POOLED">
            <!--æ•°æ®åº“è¿æ¥ä¿¡æ¯-->
            <property name="driver" value="com.mysql.jdbc.Driver"/>
            <property name="url" value="jdbc:mysql:///mybatis?useSSL=false"/>
            <property name="username" value="root"/>
            <property name="password" value="1234"/>
        </dataSource>
    </environment>
</environments>=
```

### 2ã€ç±»å‹åˆ«å

åœ¨æ˜ å°„é…ç½®æ–‡ä»¶ä¸­çš„ resultType å±æ€§éœ€è¦é…ç½®æ•°æ®å°è£…çš„ç±»å‹ï¼ˆç±»çš„å…¨é™å®šåï¼‰ã€‚è€Œæ¯æ¬¡è¿™æ ·å†™æ˜¯ç‰¹

åˆ«éº»çƒ¦çš„ï¼ŒMybatis æä¾›äº† ç±»å‹åˆ«å(typeAliases) å¯ä»¥ç®€åŒ–è¿™éƒ¨åˆ†çš„ä¹¦å†™ã€‚

é¦–å…ˆéœ€è¦ç°åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®ç±»å‹åˆ«åï¼Œä¹Ÿå°±æ„å‘³ç€ç»™pojoåŒ…ä¸‹æ‰€æœ‰çš„ç±»èµ·äº†åˆ«åï¼ˆåˆ«åå°±æ˜¯ç±»

åï¼‰ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚å†…å®¹å¦‚ä¸‹ï¼š

```xml
<typeAliases>
    <!--nameå±æ€§çš„å€¼æ˜¯å®ä½“ç±»æ‰€åœ¨åŒ…-->
    <package name="com.itheima.pojo"/> 
</typeAliases>
```

é€šè¿‡ä¸Šè¿°çš„é…ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®€åŒ–æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ resultType å±æ€§å€¼çš„ç¼–å†™

```xml
<mapper namespace="com.itheima.mapper.UserMapper">
    <select id="selectAll" resultType="user">
        select * from tb_user;
    </select>
</mapper>
```

## äº”ã€è§£å†³åç§°ä¸ä¸€è‡´

### 1ã€èµ·åˆ«å

åœ¨å†™sqlè¯­å¥æ—¶ç»™è¿™ä¸¤ä¸ªå­—æ®µèµ·åˆ«åï¼Œå°†åˆ«åå®šä¹‰æˆå’Œå±æ€§åä¸€è‡´å³å¯ã€‚

```xml
<select id="selectAll" resultType="brand">
 Â   select
 Â   id, brand_name as brandName, company_name as companyName, ordered, description, status
 Â   from tb_brand;
</select>
```

### 2ã€SQLç‰‡æ®µï¼š

- å°†éœ€è¦å¤ç”¨çš„SQLç‰‡æ®µæŠ½å–åˆ° sql æ ‡ç­¾ä¸­

```xml
<sql id="brand_column">
    id, brand_name as brandName, company_name as companyName, ordered, description, status
</sql>
```

idå±æ€§å€¼æ˜¯å”¯ä¸€æ ‡è¯†ï¼Œå¼•ç”¨æ—¶ä¹Ÿæ˜¯é€šè¿‡è¯¥å€¼è¿›è¡Œå¼•ç”¨ã€‚

- åœ¨åŸsqlè¯­å¥ä¸­è¿›è¡Œå¼•ç”¨

ä½¿ç”¨ include æ ‡ç­¾å¼•ç”¨ä¸Šè¿°çš„ SQL ç‰‡æ®µï¼Œè€Œ refid æŒ‡å®šä¸Šè¿° SQL ç‰‡æ®µçš„idå€¼ã€‚

```xml
<select id="selectAll" resultType="brand">
 Â   select
 Â  Â <include refid="brand_column" />
 Â   from tb_brand;
</select>
```

### 3ã€resultMap

- åœ¨æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨resultMapå®šä¹‰ å­—æ®µ å’Œ å±æ€§ çš„æ˜ å°„å…³ç³»

```xml
<resultMap id="brandResultMap" type="brand">
 Â  Â <!--
 Â  Â  Â  Â  Â  Â idï¼šå®Œæˆä¸»é”®å­—æ®µçš„æ˜ å°„
 Â  Â  Â  Â  Â  Â  Â  Â columnï¼šè¡¨çš„åˆ—å
 Â  Â  Â  Â  Â  Â  Â  Â propertyï¼šå®ä½“ç±»çš„å±æ€§å
 Â  Â  Â  Â  Â  Â resultï¼šå®Œæˆä¸€èˆ¬å­—æ®µçš„æ˜ å°„
 Â  Â  Â  Â  Â  Â  Â  Â columnï¼šè¡¨çš„åˆ—å
 Â  Â  Â  Â  Â  Â  Â  Â propertyï¼šå®ä½“ç±»çš„å±æ€§å
 Â  Â  Â  Â -->
 Â  Â <result column="brand_name" property="brandName"/>
 Â  Â <result column="company_name" property="companyName"/>
</resultMap>
```

> æ³¨æ„ï¼šåœ¨ä¸Šé¢åªéœ€è¦å®šä¹‰ å­—æ®µå å’Œ å±æ€§å ä¸ä¸€æ ·çš„æ˜ å°„ï¼Œè€Œä¸€æ ·çš„åˆ™ä¸éœ€è¦ä¸“é—¨å®šä¹‰å‡ºæ¥ã€‚

- SQLè¯­å¥æ­£å¸¸ç¼–å†™

```xml
<select id="selectAll" resultMap="brandResultMap">
 Â   select *
 Â   from tb_brand;
</select>
```

##  å…­ã€åŠ¨æ€SQL

Mybatiså¯¹åŠ¨æ€SQLæœ‰å¾ˆå¼ºå¤§çš„æ”¯æ’‘ï¼š

> if

> choose (when, otherwise)

> trim (where, set)

> foreach

- if æ ‡ç­¾ï¼šæ¡ä»¶åˆ¤æ–­

- test å±æ€§ï¼šé€»è¾‘è¡¨è¾¾å¼

- where æ ‡ç­¾

- ä½œç”¨ï¼š

- æ›¿æ¢whereå…³é”®å­—

- ä¼šåŠ¨æ€çš„å»æ‰ç¬¬ä¸€ä¸ªæ¡ä»¶å‰çš„ and 

- å¦‚æœæ‰€æœ‰çš„å‚æ•°æ²¡æœ‰å€¼åˆ™ä¸åŠ whereå…³é”®å­—

- foreach æ ‡ç­¾

ç”¨æ¥è¿­ä»£ä»»ä½•å¯è¿­ä»£çš„å¯¹è±¡ï¼ˆå¦‚æ•°ç»„ï¼Œé›†åˆï¼‰ã€‚

- collection å±æ€§ï¼š

- mybatisä¼šå°†æ•°ç»„å‚æ•°ï¼Œå°è£…ä¸ºä¸€ä¸ªMapé›†åˆã€‚

- é»˜è®¤ï¼šarray = æ•°ç»„

- ä½¿ç”¨@Paramæ³¨è§£æ”¹å˜mapé›†åˆçš„é»˜è®¤keyçš„åç§°

- item å±æ€§ï¼šæœ¬æ¬¡è¿­ä»£è·å–åˆ°çš„å…ƒç´ ã€‚

- separator å±æ€§ï¼šé›†åˆé¡¹è¿­ä»£ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚

foreach æ ‡ç­¾ä¸ä¼šé”™è¯¯åœ°æ·»åŠ å¤šä½™çš„åˆ†éš”ç¬¦ã€‚ä¹Ÿå°±æ˜¯æœ€åä¸€æ¬¡è¿­ä»£ä¸ä¼šåŠ åˆ†éš”ç¬¦ã€‚

- open å±æ€§ï¼šè¯¥å±æ€§å€¼æ˜¯åœ¨æ‹¼æ¥SQLè¯­å¥ä¹‹å‰æ‹¼æ¥çš„è¯­å¥ï¼Œåªä¼šæ‹¼æ¥ä¸€æ¬¡

- close å±æ€§ï¼šè¯¥å±æ€§å€¼æ˜¯åœ¨æ‹¼æ¥SQLè¯­å¥æ‹¼æ¥åæ‹¼æ¥çš„è¯­å¥ï¼Œåªä¼šæ‹¼æ¥ä¸€æ¬¡

## ä¸ƒã€Mybatiså‚æ•°ä¼ é€’

### 1 ã€å¤šä¸ªå‚æ•°

æˆ‘ä»¬åœ¨æ¥å£æ–¹æ³•ä¸­å®šä¹‰å¤šä¸ªå‚æ•°ï¼ŒMybatis ä¼šå°†è¿™äº›å‚æ•°å°è£…æˆ Map é›†åˆå¯¹è±¡ï¼Œå€¼å°±æ˜¯å‚æ•°å€¼ï¼Œè€Œé”®åœ¨æ²¡

æœ‰ä½¿ç”¨ @Param æ³¨è§£æ—¶æœ‰ä»¥ä¸‹å‘½åè§„åˆ™ï¼š

- ä»¥ arg å¼€å¤´  ï¼šç¬¬ä¸€ä¸ªå‚æ•°å°±å« arg0ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±å« arg1ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¦‚ï¼š

> map.put("arg0"ï¼Œå‚æ•°å€¼1);

> map.put("arg1"ï¼Œå‚æ•°å€¼2);

- ä»¥ param å¼€å¤´ ï¼š ç¬¬ä¸€ä¸ªå‚æ•°å°±å« param1ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±å« param2ï¼Œä¾æ¬¡ç±»æ¨ã€‚å¦‚ï¼š

> map.put("param1"ï¼Œå‚æ•°å€¼1);

> map.put("param2"ï¼Œå‚æ•°å€¼2);

åœ¨æ¥å£æ–¹æ³•å‚æ•°ä¸Šä½¿ç”¨ @Param æ³¨è§£ï¼ŒMybatis ä¼šå°† arg å¼€å¤´çš„é”®åæ›¿æ¢ä¸ºå¯¹åº”æ³¨è§£çš„å±æ€§å€¼ã€‚

ä»£ç éªŒè¯ï¼š

- åœ¨ UserMapper æ¥å£ä¸­å®šä¹‰å¦‚ä¸‹æ–¹æ³•ï¼Œåœ¨ username å‚æ•°å‰åŠ ä¸Š @Param æ³¨è§£

```
User select(@Param("username") String username, String password);
```

Mybatis åœ¨å°è£… Map é›†åˆæ—¶ï¼Œé”®åå°±ä¼šå˜æˆå¦‚ä¸‹ï¼š

> map.put("username"ï¼Œå‚æ•°å€¼1);

> map.put("arg1"ï¼Œå‚æ•°å€¼2);

> map.put("param1"ï¼Œå‚æ•°å€¼1);

> map.put("param2"ï¼Œå‚æ•°å€¼2);

### 2 ã€å•ä¸ªå‚æ•°

- POJO ç±»å‹

ç›´æ¥ä½¿ç”¨ã€‚è¦æ±‚ å±æ€§å å’Œ å‚æ•°å ä½ç¬¦åç§° ä¸€è‡´

- Map é›†åˆç±»å‹

ç›´æ¥ä½¿ç”¨ã€‚è¦æ±‚ mapé›†åˆçš„é”®å å’Œ å‚æ•°å ä½ç¬¦åç§° ä¸€è‡´

- Collection é›†åˆç±»å‹

Mybatis ä¼šå°†é›†åˆå°è£…åˆ° map é›†åˆä¸­ï¼Œå¦‚ä¸‹ï¼š

> map.put("arg0"ï¼Œcollectioné›†åˆ);

> map.put("collection"ï¼Œcollectioné›†åˆ;

==å¯ä»¥ä½¿ç”¨ @Param æ³¨è§£æ›¿æ¢mapé›†åˆä¸­é»˜è®¤çš„ arg é”®åã€‚==

- List é›†åˆç±»å‹

Mybatis ä¼šå°†é›†åˆå°è£…åˆ° map é›†åˆä¸­ï¼Œå¦‚ä¸‹ï¼š

> map.put("arg0"ï¼Œlisté›†åˆ);map.put("collection"ï¼Œlisté›†åˆ);map.put("list"ï¼Œlisté›†åˆ);

==å¯ä»¥ä½¿ç”¨ @Param æ³¨è§£æ›¿æ¢mapé›†åˆä¸­é»˜è®¤çš„ arg é”®åã€‚==

- Array ç±»å‹

Mybatis ä¼šå°†é›†åˆå°è£…åˆ° map é›†åˆä¸­ï¼Œå¦‚ä¸‹ï¼š

> map.put("arg0"ï¼Œæ•°ç»„);map.put("array"ï¼Œæ•°ç»„);

==å¯ä»¥ä½¿ç”¨ @Param æ³¨è§£æ›¿æ¢mapé›†åˆä¸­é»˜è®¤çš„ arg é”®åã€‚==

- å…¶ä»–ç±»å‹

æ¯”å¦‚intç±»å‹ï¼Œå‚æ•°å ä½ç¬¦åç§° å«ä»€ä¹ˆéƒ½å¯ä»¥ã€‚å°½é‡åšåˆ°è§åçŸ¥æ„

## å…«ã€æ³¨è§£å®ç°CRUD

ä½¿ç”¨æ³¨è§£å¼€å‘ä¼šæ¯”é…ç½®æ–‡ä»¶å¼€å‘æ›´åŠ æ–¹ä¾¿ã€‚å¦‚ä¸‹å°±æ˜¯ä½¿ç”¨æ³¨è§£è¿›è¡Œå¼€å‘

```java
@Select(value = "select * from tb_user where id = #{id}")
public User select(int id);
```

> ==æ³¨æ„ï¼š==æ³¨è§£æ˜¯ç”¨æ¥æ›¿æ¢æ˜ å°„é…ç½®æ–‡ä»¶æ–¹å¼é…ç½®çš„ï¼Œæ‰€ä»¥ä½¿ç”¨äº†æ³¨è§£ï¼Œå°±ä¸éœ€è¦å†æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ä¹¦å†™å¯¹åº”çš„ statement

Mybatis é’ˆå¯¹ CURD æ“ä½œéƒ½æä¾›äº†å¯¹åº”çš„æ³¨è§£ï¼Œå·²ç»åšåˆ°è§åçŸ¥æ„ã€‚å¦‚ä¸‹ï¼š

- æŸ¥è¯¢ ï¼š@Select

- æ·»åŠ  ï¼š@Insert

- ä¿®æ”¹ ï¼š@Update

- åˆ é™¤ ï¼š@Delete

==æ³¨æ„ï¼š==åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ å…¥é—¨ ä¸­æœ‰è¿™æ ·çš„ä¸€æ®µè¯ï¼š

![](youdaonote-images/WEBRESOURCE7bf3de6ba32e2c3b6ef139d7fe0ac233.png)

æ‰€ä»¥ï¼Œ==æ³¨è§£å®Œæˆç®€å•åŠŸèƒ½ï¼Œé…ç½®æ–‡ä»¶å®Œæˆå¤æ‚åŠŸèƒ½ã€‚==

# HTML

## ä¸€ã€ä»‹ç»

HTML æ˜¯ä¸€é—¨è¯­è¨€ï¼Œæ‰€æœ‰çš„ç½‘é¡µéƒ½æ˜¯ç”¨HTML è¿™é—¨è¯­è¨€ç¼–å†™å‡ºæ¥çš„ï¼Œä¹Ÿå°±æ˜¯HTMLæ˜¯ç”¨æ¥å†™ç½‘é¡µçš„ï¼Œåƒäº¬ä¸œï¼Œ12306ç­‰ç½‘ç«™æœ‰å¾ˆå¤šç½‘é¡µã€‚

==HTML(HyperText Markup Language)ï¼šè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼š==

- è¶…æ–‡æœ¬ï¼šè¶…è¶Šäº†æ–‡æœ¬çš„é™åˆ¶ï¼Œæ¯”æ™®é€šæ–‡æœ¬æ›´å¼ºå¤§ã€‚é™¤äº†æ–‡å­—ä¿¡æ¯ï¼Œè¿˜å¯ä»¥å®šä¹‰å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰å†…å®¹

å¦‚ä¸Šå›¾çœ‹åˆ°çš„é¡µé¢ï¼Œæˆ‘ä»¬é™¤äº†èƒ½çœ‹åˆ°ä¸€äº›æ–‡å­—ï¼ŒåŒæ—¶ä¹Ÿæœ‰å¤§é‡çš„å›¾ç‰‡å±•ç¤ºï¼›æœ‰äº›ç½‘é¡µä¹Ÿæœ‰è§†é¢‘ï¼ŒéŸ³é¢‘

ç­‰ã€‚è¿™ç§å±•ç¤ºæ•ˆæœè¶…è¶Šäº†æ–‡æœ¬å±•ç¤ºçš„é™åˆ¶ã€‚

- æ ‡è®°è¯­è¨€ï¼šç”±æ ‡ç­¾æ„æˆçš„è¯­è¨€

ä¹‹å‰å­¦ä¹ çš„XMLå°±æ˜¯æ ‡è®°è¯­è¨€ï¼Œç”±ä¸€ä¸ªä¸€ä¸ªçš„æ ‡ç­¾ç»„æˆï¼ŒHTML ä¹Ÿæ˜¯ç”±æ ‡ç­¾ç»„æˆ ã€‚æˆ‘ä»¬åœ¨æµè§ˆå™¨é¡µé¢

å³é”®å¯ä»¥æŸ¥çœ‹é¡µé¢çš„æºä»£ç ï¼Œå¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE4c206d6dfcf500bdef9e31a167498b91.png)

è¿™äº›æ ‡ç­¾ä¸åƒXMLé‚£æ ·å¯ä»¥è‡ªå®šä¹‰ï¼Œ==HTMLä¸­çš„æ ‡ç­¾éƒ½æ˜¯é¢„å®šä¹‰å¥½çš„ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨ä¸Šå¹¶ç”±æµè§ˆå™¨è§£

æï¼Œ==ç„¶åå±•ç¤ºå‡ºå¯¹åº”çš„æ•ˆæœã€‚ä¾‹å¦‚æˆ‘ä»¬æƒ³åœ¨æµè§ˆå™¨ä¸Šå±•ç¤ºå‡ºå›¾ç‰‡å°±éœ€è¦ä½¿ç”¨é¢„å®šä¹‰çš„ img æ ‡ç­¾ï¼›æƒ³å±•ç¤º

å¯ä»¥ç‚¹å‡»çš„é“¾æ¥çš„æ•ˆæœå°±å¯ä»¥ä½¿ç”¨é¢„å®šä¹‰çš„ a æ ‡ç­¾ç­‰ã€‚

HTML é¢„å®šä¹‰äº†å¾ˆå¤šæ ‡ç­¾ï¼Œç”±äºæˆ‘ä»¬æ˜¯Javaå·¥ç¨‹å¸ˆã€æ˜¯åšåç«¯å¼€å‘ï¼Œæ‰€ä»¥ä¸ä¼šæ¯ä¸ªéƒ½å­¦ä¹ ï¼Œé¡µé¢å¼€å‘æ˜¯æœ‰

ä¸“é—¨çš„å‰ç«¯å·¥ç¨‹æ¥å¼€å‘ã€‚é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦å­¦ä¹ å‘¢ï¼Ÿåœ¨å…¬å¸ä¸­æˆ–å¤šæˆ–å°‘å¤§å®¶ä¹Ÿä¼šæ¶‰åŠåˆ°å‰ç«¯å¼€å‘ã€‚

å¼€å‘æµç¨‹ï¼š

ä»¥åæˆ‘ä»¬æ˜¯é€šè¿‡Javaç¨‹åºä»æ•°æ®åº“ä¸­æŸ¥è¯¢å‡ºæ¥æ•°æ®ï¼Œç„¶åäº¤ç»™é¡µé¢è¿›è¡Œå±•ç¤ºï¼Œè¿™æ ·ç”¨æˆ·å°±èƒ½é€šè¿‡åœ¨æµ

è§ˆå™¨é€šè¿‡é¡µé¢çœ‹åˆ°æ•°æ®ã€‚

==W3Cæ ‡å‡†ï¼š==

W3Cæ˜¯ä¸‡ç»´ç½‘è”ç›Ÿï¼Œè¿™ä¸ªç»„æˆæ˜¯ç”¨æ¥å®šä¹‰æ ‡å‡†çš„ã€‚ä»–ä»¬è§„å®šäº†ä¸€ä¸ªç½‘é¡µæ˜¯ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š

- ç»“æ„ï¼šå¯¹åº”çš„æ˜¯ HTML è¯­è¨€

- è¡¨ç°ï¼šå¯¹åº”çš„æ˜¯ CSS è¯­è¨€

- è¡Œä¸ºï¼šå¯¹åº”çš„æ˜¯ JavaScript è¯­è¨€

HTMLå®šä¹‰é¡µé¢çš„æ•´ä½“ç»“æ„ï¼›CSSæ˜¯ç”¨æ¥ç¾åŒ–é¡µé¢ï¼Œè®©é¡µé¢çœ‹èµ·æ¥æ›´åŠ ç¾è§‚ï¼›JavaScriptå¯ä»¥ä½¿ç½‘

é¡µåŠ¨èµ·æ¥ï¼Œæ¯”å¦‚è½®æ’­å›¾ä¹Ÿå°±æ˜¯å¤šå¼ å›¾ç‰‡è‡ªåŠ¨çš„è¿›è¡Œåˆ‡æ¢ç­‰æ•ˆæœã€‚

## äºŒã€å¿«é€Ÿå…¥é—¨

éœ€æ±‚ï¼šç¼–å†™å¦‚ä¸‹å›¾æ•ˆæœçš„é¡µé¢

![](youdaonote-images/WEBRESOURCEf6c694266c9c80116ed650bb8321e4e7.png)

è¦å®ç°è¿™ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬éœ€è¦ä»ä»¥ä¸‹ä¸‰æ­¥è¿›è¡Œå®ç°

- æ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œåç¼€åæ”¹ä¸º .html

é¡µé¢æ–‡ä»¶çš„åç¼€åæ˜¯ .htmlï¼Œæ‰€ä»¥éœ€è¦è¯¥åç¼€å

- ç¼–å†™ HTML ç»“æ„æ ‡ç­¾

HTML æ˜¯ç”±ä¸€ä¸ªä¸€ä¸ªçš„æ ‡ç­¾ç»„æˆçš„ï¼Œä½†æ˜¯å®ƒä¹Ÿç”¨äºè¡¨ç¤ºç»“æ„çš„æ ‡ç­¾

```html
<html>
	<head>
    	<title> </title>
    </head>
    <body>
        
    </body>
</html>
```

htmlæ ‡ç­¾æ˜¯æ ¹æ ‡ç­¾ï¼Œä¸‹é¢æœ‰ head æ ‡ç­¾å’Œ body æ ‡ç­¾è¿™ä¸¤ä¸ªå­æ ‡ç­¾ã€‚è€Œ head æ ‡ç­¾çš„ title å­æ ‡ç­¾

æ˜¯ç”¨æ¥å®šä¹‰é¡µé¢æ ‡é¢˜åç§°çš„ï¼Œå®ƒå®šä¹‰çš„å†…å®¹ä¼šå±•ç¤ºåœ¨æµè§ˆå™¨çš„æ ‡é¢˜ä½ç½®ï¼Œå¦‚ä¸‹å›¾çº¢æ¡†æ ‡è®°

![](youdaonote-images/WEBRESOURCE36aad55d717174ecf6d20d3d2a232034.png)

- bodyæ ‡ç­¾çš„å†…å®¹ä¼šè¢«å±•ç¤ºåœ¨å†…å®¹åŒºä¸­ï¼Œå¦‚ä¸‹å›¾çº¢æ¡†æ ‡è®°

![](youdaonote-images/WEBRESOURCE3a6df6065f0c899cff5e7d6e98ccc985.png)

- åœ¨<body>ä¸­å®šä¹‰æ–‡å­—

ä»£ç å¦‚ä¸‹ï¼š

```html
<html>
    <head>
 Â       <title>html å¿«é€Ÿå…¥é—¨</title>
 Â  Â </head>
 Â  Â <body>
 Â  Â  Â   ä¹¾å¤æœªå®šï¼Œä½ æˆ‘çš†æ˜¯é»‘é©¬~
 Â  Â </body>
</html>
```

æ›´æ”¹å­—ä½“é¢œè‰²

font æ ‡ç­¾å°±å¯ä»¥ä½¿ç”¨ï¼Œè¯¥æ ‡ç­¾æœ‰ä¸€ä¸ª color å±æ€§å¯ä»¥è®¾ç½®å­—ä½“é¢œè‰²ï¼Œå¦‚ï¼š <font color='red'></font> å°±

æ˜¯å°†æ–‡å­—è®¾ç½®æˆäº†çº¢é¢œè‰²ã€‚é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å°†éœ€è¦å˜æˆçº¢è‰²çš„æ–‡å­—æ”¾åœ¨æ ‡ç­¾ä½“éƒ¨åˆ†å°±å¯ä»¥äº†ï¼Œå¦‚ä¸‹ï¼š

```html
<html>
    <head>
 Â       <title>html å¿«é€Ÿå…¥é—¨</title>
 Â  Â </head>
 Â  Â <body>
 Â  Â  Â  Â <font color='red'>ä¹¾å¤æœªå®šï¼Œä½ æˆ‘çš†æ˜¯é»‘é©¬~</font>
 Â  Â </body>
</html>
```

==æ€»ç»“ï¼š==

- HTML æ–‡ä»¶ä»¥.htmæˆ–.htmlä¸ºæ‰©å±•å

- HTML ç»“æ„æ ‡ç­¾

| æ ‡ç­¾ | æè¿° |
| - | - |
| &lt;HTML&gt; | å®šä¹‰HTMLæ–‡æ¡£ |
| &lt;head&gt; | å®šä¹‰å…³äºæ–‡æ¡£çš„ä¿¡æ¯ |
| &lt;title&gt; | å®šä¹‰æ–‡æ¡£çš„æ ‡é¢˜ |
| &lt;body&gt; | å®šä¹‰æ–‡æ¡£çš„ä¸»ä½“ |


- HTML æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™

å¦‚ä¸Šæ¡ˆä¾‹ä¸­çš„ font å†™æˆ Font ä¹Ÿæ˜¯ä¸€æ ·å¯ä»¥å±•ç¤ºå‡ºå¯¹åº”çš„æ•ˆæœçš„ã€‚

- HTML æ ‡ç­¾å±æ€§å€¼ å•åŒå¼•çš†å¯

å¦‚ä¸Šæ¡ˆä¾‹ä¸­çš„colorå±æ€§å€¼ä½¿ç”¨åŒå¼•å·ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚<font color="red"></font> 

- HTML è¯­æ³•æ¾æ•£

æ¯”å¦‚ font æ ‡ç­¾ä¸åŠ ç»“æŸæ ‡ç­¾ä¹Ÿæ˜¯å¯ä»¥å±•ç¤ºå‡ºæ•ˆæœçš„ã€‚ä½†æ˜¯å»ºè®®åŒå­¦ä»¬åœ¨å†™çš„æ—¶å€™è¿˜æ˜¯ä¸è¦è¿™æ ·åšï¼Œä¸¥

æ ¼æŒ‰ç…§è¦æ±‚å»å†™ã€‚

## ä¸‰ã€åŸºç¡€æ ‡ç­¾

åŸºç¡€æ ‡ç­¾å°±æ˜¯ä¸€äº›å’Œæ–‡å­—ç›¸å…³çš„æ ‡ç­¾ï¼Œå¦‚ä¸‹ï¼š

| æ ‡ç­¾ | æè¿° |
| - | - |
| &lt;h1&gt;-&lt;h6&gt; | å®šä¹‰æ ‡é¢˜ï¼Œh1æœ€å¤§ï¼Œh6æœ€å° |
| &lt;font&gt; | å®šä¹‰æ–‡æœ¬çš„å­—ä½“ã€å­—ä½“å°ºå¯¸ã€å­—ä½“é¢œè‰² |
| &lt;b&gt; | å®šä¹‰ç²—ä½“æ–‡æœ¬ |
| &lt;i&gt; | å®šä¹‰æ–œä½“æ–‡æœ¬ |
| &lt;u&gt; | å®šä¹‰æ–‡æœ¬ä¸‹åˆ’çº¿ |
| &lt;center&gt; | å®šä¹‰æ–‡æœ¬å±…ä¸­ |
| &lt;p&gt; | å®šä¹‰æ®µè½ |
| &lt;br&gt; | å®šä¹‰æ¢è¡Œ |
| &lt;hr&gt; | å®šä¹‰æ°´å¹³çº¿ |


ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>åŸºç¡€æ ‡ç­¾</title>
</head>
<body>
<h1>æˆ‘æ˜¯h1æ ‡ç­¾</h1>
<h2>æˆ‘æ˜¯h2æ ‡ç­¾</h2>
<h3>æˆ‘æ˜¯h3æ ‡ç­¾</h3>
<h4>æˆ‘æ˜¯h4æ ‡ç­¾</h4>
<h5>æˆ‘æ˜¯h5æ ‡ç­¾</h5>
<h6>æˆ‘æ˜¯h6æ ‡ç­¾</h6>
<hr>
<font face="å®‹ä½“" size="10" color="#7fffd4">é—½æ±Ÿå­¦é™¢</font>
<br>
<p>åˆšå¯Ÿè‰åŸç»¿è‰å¦‚èŒµï¼Œæ²™æŸ³æ²³æ°´æµæ·Œå…¥æ¹–ã€‚è—æ—ç‰§æ°‘ç´¢å—æ‰è®©å®¶ä¸­ï¼ŒèŒ¶å‡ ä¸Šæ‘†ç€é¦“å­ã€éº»èŠ±å’Œæ°´æœï¼Œç‚‰å­ä¸Šåˆšç…®å¼€çš„å¥¶èŒ¶é¦™æ°”å››æº¢â€¦â€¦</p>

<p>6æœˆ8æ—¥ä¸‹åˆï¼Œä¹ è¿‘å¹³æ€»ä¹¦è®°æ¥åˆ°é’æµ·çœæµ·åŒ—è—æ—è‡ªæ²»å·åˆšå¯Ÿå¿æ²™æŸ³æ²³é•‡æœæ´›è—è´¡éº»æ‘ï¼Œèµ°è¿›ç‰§æ°‘ç´¢å—æ‰è®©å®¶ä¸­ï¼Œçœ‹æœ›æ…°é—®è—æ—ç¾¤ä¼—ã€‚</p>
<b>æ²™æŸ³æ²³æ°´æµæ·Œ</b><br>
<i>æ²™æŸ³æ²³æ°´æµæ·Œ</i><br>
<u>æ²™æŸ³æ²³æ°´æµæ·Œ</u><br>
<hr>
<center>
    <b>æ²™æŸ³æ²³æ°´æµæ·Œ</b>
</center>
</body>
</html>
```

æ•ˆæœ

![](youdaonote-images/WEBRESOURCE886b0691062046f6a67612aff4a97ed8.png)

## å››ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘æ ‡ç­¾

| æ ‡ç­¾ | æè¿° |
| - | - |
| &lt;img&gt; | å®šä¹‰å›¾ç‰‡ |
| &lt;audio&gt; | å®šä¹‰éŸ³é¢‘ |
| &lt;vedio&gt; | å®šä¹‰è§†é¢‘ |


- imgï¼šå®šä¹‰å›¾ç‰‡

- srcï¼šè§„å®šæ˜¾ç¤ºå›¾åƒçš„ URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰

- heightï¼šå®šä¹‰å›¾åƒçš„é«˜åº¦

- widthï¼šå®šä¹‰å›¾åƒçš„å®½åº¦

- audioï¼šå®šä¹‰éŸ³é¢‘ã€‚æ”¯æŒçš„éŸ³é¢‘æ ¼å¼ï¼šMP3ã€WAVã€OGG 

- srcï¼šè§„å®šéŸ³é¢‘çš„ URL

- controlsï¼šæ˜¾ç¤ºæ’­æ”¾æ§ä»¶

- videoï¼šå®šä¹‰è§†é¢‘ã€‚æ”¯æŒçš„éŸ³é¢‘æ ¼å¼ï¼šMP4, WebMã€OGG

- srcï¼šè§„å®šè§†é¢‘çš„ URL

- controlsï¼šæ˜¾ç¤ºæ’­æ”¾æ§ä»¶

å°ºå¯¸å•ä½ï¼š

heightå±æ€§å’Œwidthå±æ€§æœ‰ä¸¤ç§è®¾ç½®æ–¹å¼ï¼š

- åƒç´ ï¼šå•ä½æ˜¯px

- ç™¾åˆ†æ¯”ã€‚å çˆ¶æ ‡ç­¾çš„ç™¾åˆ†æ¯”ã€‚ä¾‹å¦‚å®½åº¦è®¾ç½®ä¸º 50%ï¼Œæ„æ€å°±æ˜¯å å®ƒçš„çˆ¶æ ‡ç­¾å®½åº¦çš„ä¸€èˆ¬ï¼ˆ50%ï¼‰

èµ„æºè·¯å¾„ï¼š

å›¾ç‰‡ï¼ŒéŸ³é¢‘ï¼Œè§†é¢‘æ ‡ç­¾éƒ½æœ‰srcå±æ€§ï¼Œè€Œsrcæ˜¯ç”¨æ¥æŒ‡å®šå¯¹åº”çš„å›¾ç‰‡ï¼ŒéŸ³é¢‘ï¼Œè§†é¢‘æ–‡ä»¶çš„è·¯å¾„ã€‚æ­¤å¤„çš„å›¾ç‰‡ï¼ŒéŸ³é¢‘ï¼Œè§†é¢‘å°±ç§°ä¸ºèµ„æºã€‚èµ„æºè·¯å¾„æœ‰å¦‚ä¸‹ä¸¤ç§è®¾ç½®æ–¹å¼ï¼š

- ç»å¯¹è·¯å¾„ï¼šå®Œæ•´è·¯å¾„

- ç›¸å¯¹è·¯å¾„ï¼šç›¸å¯¹ä½ç½®å…³ç³»

æ‰¾é¡µé¢å’Œå…¶ä»–èµ„æºçš„ç›¸å¯¹è·¯å¾„ã€‚

> ./    è¡¨ç¤ºå½“å‰è·¯å¾„

> ../   è¡¨ç¤ºä¸Šä¸€çº§è·¯å¾„

> ../../   è¡¨ç¤ºä¸Šä¸¤çº§è·¯å¾„

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘æ ‡ç­¾</title>
</head>
<body>
<img src="a.jpg" height="500" width="389" >
<audio src="b.mp3" controls></audio>
<video src="c.mp4" controls height="300" width="500" ></video>
</body>
</html>
```

æ•ˆæœ

![](youdaonote-images/WEBRESOURCEacbf8fb6a7354ad806d0c5bbb23d2be8.png)

## äº”ã€è¶…é“¾æ¥æ ‡ç­¾

| æ ‡ç­¾ | æè¿° |
| - | - |
| &lt;a&gt; | å®šä¹‰è¶…è¿æ¥ï¼Œç”¨äºè¿æ¥åˆ°å¦ä¸€ä¸ªèµ„æº |


a æ ‡ç­¾å±æ€§ï¼š

- hrefï¼šæŒ‡å®šè®¿é—®èµ„æºçš„URL 

- targetï¼šæŒ‡å®šæ‰“å¼€èµ„æºçš„æ–¹å¼

- _selfï¼šé»˜è®¤å€¼ï¼Œåœ¨å½“å‰é¡µé¢æ‰“å¼€

- _blankï¼šåœ¨ç©ºç™½é¡µé¢æ‰“å¼€

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>è¶…é“¾æ¥æ ‡ç­¾</title>
</head>
<body>
<a href="https://zh.flightaware.com/live/flight/SPAR19" target="_blank">yo~</a>
</body>
</html>
```

## å…­ã€åˆ—è¡¨æ ‡ç­¾

æ ‡ç­¾è¯´æ˜ï¼š

| æ ‡ç­¾ | æè¿° |
| - | - |
| &lt;ol&gt; | å®šä¹‰æœ‰åºåˆ—è¡¨ |
| &lt;ul&gt; | å®šä¹‰æ— éœ€åˆ—è¡¨ |
| &lt;li&gt; | å®šä¹‰åˆ—è¡¨é¡¹ |


æœ‰åºåˆ—è¡¨ä¸­çš„ type å±æ€§ç”¨æ¥æŒ‡å®šæ ‡è®°çš„æ ‡å·çš„ç±»å‹ï¼ˆæ•°å­—ã€å­—æ¯ã€ç½—é©¬æ•°å­—ç­‰ï¼‰

æ— åºåˆ—è¡¨ä¸­çš„ type å±æ€§ç”¨æ¥æŒ‡å®šæ ‡è®°çš„å½¢çŠ¶

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> åˆ—è¡¨æ ‡ç­¾</title>
</head>
<body>
<ol>
    <li>å’–å•¡</li>
    <li>èŒ¶</li>
    <li>ç‰›å¥¶</li>
</ol>
<hr>
<ul>
    <li>å’–å•¡</li>
    <li>èŒ¶</li>
    <li>ç‰›å¥¶</li>
</ul>
</body>
</html>
```

æ•ˆæœ

![](youdaonote-images/WEBRESOURCEa4c1ec3f0184afd3db0524e893045037.png)

## ä¸ƒã€è¡¨æ ¼æ ‡ç­¾

- table ï¼šå®šä¹‰è¡¨æ ¼

- borderï¼šè§„å®šè¡¨æ ¼è¾¹æ¡†çš„å®½åº¦

- width ï¼šè§„å®šè¡¨æ ¼çš„å®½åº¦

- cellspacingï¼šè§„å®šå•å…ƒæ ¼ä¹‹é—´çš„ç©ºç™½

- tr ï¼šå®šä¹‰è¡Œ

- alignï¼šå®šä¹‰è¡¨æ ¼è¡Œçš„å†…å®¹å¯¹é½æ–¹å¼

- td ï¼šå®šä¹‰å•å…ƒæ ¼

- rowspan:è§„å®šå•å…ƒæ ¼å¯æ¨ªè·¨çš„è¡Œæ•°

- colspan:è§„å®šå•å…ƒæ ¼å¯æ¨ªè·¨çš„åˆ—æ•°

- thï¼šå®šä¹‰è¡¨å¤´å•å…ƒæ ¼

## å…«ã€å¸ƒå±€æ ‡ç­¾

| æ ‡ç­¾ | æè¿° |
| - | - |
| &lt;div&gt; | å®šä¹‰HTMLæ–‡æ¡£ä¸­çš„ä¸€ä¸ªåŒºåŸŸéƒ¨åˆ†ï¼Œç»å¸¸ä¸CSSä¸€èµ·ä½¿ç”¨ï¼Œç”¨æ¥å¸ƒå±€ç½‘é¡µ |
| &lt;span&gt; | ç”¨äºç»„åˆè¡Œå†…å…ƒç´  |


è¿™ä¸¤ä¸ªæ ‡ç­¾ï¼Œä¸€èˆ¬éƒ½æ˜¯å’Œcssç»“åˆåˆ°ä¸€å—ä½¿ç”¨æ¥å®ç°é¡µé¢çš„å¸ƒå±€ã€‚

divæ ‡ç­¾ åœ¨æµè§ˆå™¨ä¸Šä¼šæœ‰æ¢è¡Œçš„æ•ˆæœï¼Œè€Œ span æ ‡ç­¾åœ¨æµè§ˆå™¨ä¸Šæ²¡æœ‰æ¢è¡Œæ•ˆæœã€‚

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>å¸ƒå±€æ ‡ç­¾</title>
</head>
<body>
<div>æˆ‘æ˜¯div</div>
<div>æˆ‘æ˜¯div</div>
<span>æˆ‘æ˜¯span</span>
<span>æˆ‘æ˜¯span</span>
</body>
</html>
```

æ•ˆæœ

![](youdaonote-images/WEBRESOURCEc227d4142ef00dd922943c10670a4f75.png)

## ä¹ã€è¡¨å•æ ‡ç­¾

### 1ã€è¡¨å•æ ‡ç­¾æ¦‚è¿°

> è¡¨å•ï¼šåœ¨ç½‘é¡µä¸­ä¸»è¦è´Ÿè´£æ•°æ®é‡‡é›†åŠŸèƒ½ï¼Œä½¿ç”¨<form>æ ‡ç­¾å®šä¹‰è¡¨å•

> è¡¨å•é¡¹(å…ƒç´ )ï¼šä¸åŒç±»å‹çš„ input å…ƒç´ ã€ä¸‹æ‹‰åˆ—è¡¨ã€æ–‡æœ¬åŸŸç­‰

| æ ‡ç­¾ | æè¿° |
| - | - |
| &lt;from&gt; | å®šä¹‰è¡¨å• |
| &lt;input&gt; | å®šä¹‰è¡¨å•ï¼Œé€šè¿‡typeæ§åˆ¶è¾“å…¥å½¢å¼ |
| &lt;label&gt; | ä¸ºè¡¨å•å®šä¹‰æ ‡æ³¨ |
| &lt;select&gt; | å®šä¹‰ä¸‹æ‹‰åˆ—è¡¨ |
| &lt;option&gt; | å®šä¹‰ä¸‹æ‹‰åˆ—è¡¨çš„åˆ—è¡¨é¡¹ |
| &lt;textarea&gt; | å®šä¹‰æ–‡æœ¬åŸŸ |


form æ˜¯è¡¨å•æ ‡ç­¾ï¼Œå®ƒåœ¨é¡µé¢ä¸Šæ²¡æœ‰ä»»ä½•å±•ç¤ºçš„æ•ˆæœã€‚éœ€è¦å€ŸåŠ©äºè¡¨å•é¡¹æ ‡ç­¾æ¥å±•ç¤ºä¸åŒçš„æ•ˆæœã€‚

### 2 ã€formæ ‡ç­¾å±æ€§

- actionï¼šè§„å®šå½“æäº¤è¡¨å•æ—¶å‘ä½•å¤„å‘é€è¡¨å•æ•°æ®ï¼Œè¯¥å±æ€§å€¼å°±æ˜¯URL

ä»¥åä¼šå°†æ•°æ®æäº¤åˆ°æœåŠ¡ç«¯ï¼Œè¯¥å±æ€§éœ€è¦ä¹¦å†™æœåŠ¡ç«¯çš„URLã€‚è€Œä»Šå¤©æˆ‘ä»¬å¯ä»¥ä¹¦å†™ # ï¼Œè¡¨ç¤ºæäº¤åˆ°å½“å‰é¡µ

é¢æ¥çœ‹æ•ˆæœã€‚

- method ï¼šè§„å®šç”¨äºå‘é€è¡¨å•æ•°æ®çš„æ–¹å¼

methodå–å€¼æœ‰å¦‚ä¸‹ä¸¤ç§ï¼š

- getï¼šé»˜è®¤å€¼ã€‚å¦‚æœä¸è®¾ç½®methodå±æ€§åˆ™é»˜è®¤å°±æ˜¯è¯¥å€¼

- è¯·æ±‚å‚æ•°ä¼šæ‹¼æ¥åœ¨URLåè¾¹

- urlçš„é•¿åº¦æœ‰é™åˆ¶ 4KB

- postï¼š

- æµè§ˆå™¨ä¼šå°†æ•°æ®æ”¾åˆ°httpè¯·æ±‚æ¶ˆæ¯ä½“ä¸­

- è¯·æ±‚å‚æ•°æ— é™åˆ¶çš„

ç¤ºä¾‹ä»£ç  

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> formæ ‡ç­¾å±æ€§</title>
</head>
<body>
<form action="#">
    <input type="text">
    <input type="submit">
</form>
</body>
</html>
```

## åã€è¡¨å•é¡¹æ ‡ç­¾

è¡¨å•é¡¹æ ‡ç­¾æœ‰å¾ˆå¤šï¼Œä¸åŒçš„è¡¨å•é¡¹æ ‡ç­¾æœ‰ä¸åŒçš„å±•ç¤ºæ•ˆæœã€‚è¡¨å•é¡¹æ ‡ç­¾å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªï¼š

- <input>ï¼šè¡¨å•é¡¹ï¼Œé€šè¿‡typeå±æ€§æ§åˆ¶è¾“å…¥å½¢å¼

input æ ‡ç­¾æœ‰ä¸ª type å±æ€§ã€‚ type å±æ€§çš„å–å€¼ä¸åŒï¼Œå±•ç¤ºçš„æ•ˆæœä¹Ÿä¸ä¸€æ ·

![](youdaonote-images/WEBRESOURCEb7a89503f3c617890cb2fd320c175bfa.png)

- <select>ï¼šå®šä¹‰ä¸‹æ‹‰åˆ—è¡¨ï¼Œ<option> å®šä¹‰åˆ—è¡¨é¡¹ 

å¦‚ä¸‹å›¾å°±æ˜¯ä¸‹æ‹‰åˆ—è¡¨çš„æ•ˆæœï¼š

![](youdaonote-images/WEBRESOURCEcd31dff732a4156341682161f38412c8.png)

- <textarea>ï¼šæ–‡æœ¬åŸŸ

å¦‚ä¸‹å›¾å°±æ˜¯æ–‡æœ¬åŸŸæ•ˆæœã€‚å®ƒå¯ä»¥è¾“å…¥å¤šè¡Œæ–‡æœ¬ï¼Œè€Œ input æ•°æ®æ¡†åªèƒ½è¾“å…¥ä¸€è¡Œæ–‡æœ¬ã€‚

![](youdaonote-images/WEBRESOURCE8c739f3519cd473618fdc005bc1d26c5.png)

> ==æ³¨æ„ï¼š==

> ä»¥ä¸Šæ ‡ç­¾é¡¹çš„å†…å®¹è¦æƒ³æäº¤ï¼Œå¿…é¡»å¾—å®šä¹‰ name å±æ€§ã€‚

> æ¯ä¸€ä¸ªæ ‡ç­¾éƒ½æœ‰idå±æ€§ï¼Œidå±æ€§å€¼æ˜¯å”¯ä¸€çš„æ ‡è¯†ã€‚

> å•é€‰æ¡†ã€å¤é€‰æ¡†ã€ä¸‹æ‹‰åˆ—è¡¨éœ€è¦ä½¿ç”¨ value å±æ€§æŒ‡å®šæäº¤çš„å€¼ã€‚

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>è¡¨å•é¡¹æ ‡ç­¾</title>
</head>
<body>
<form action="#" method="post">
    <input type="hidden" name="id" value="123">
    <label for="username">ç”¨æˆ·åï¼š</label>
    <input type="text" name="username" id="username"><br>
    <label for="password">å¯†ç ï¼š</label>
    <input type="password" name="password" id="password"><br>
    æ€§åˆ«ï¼š
    <input type="radio" name="gender" value="1" id="male"> <label for="male">ç”·</label>
    <input type="radio" name="gender" value="2" id="female"> <label for="female">å¥³</label>
    <br>
    çˆ±å¥½ï¼š
    <input type="checkbox" name="hobby" value="1"> æ—…æ¸¸
    <input type="checkbox" name="hobby" value="2"> ç”µå½±
    <input type="checkbox" name="hobby" value="3"> æ¸¸æˆ
    <br>
    å¤´åƒï¼š
    <input type="file"><br>
    åŸå¸‚:
    <select name="city">
        <option>åŒ—äº¬</option>
        <option value="shanghai">ä¸Šæµ·</option>
        <option>å¹¿å·</option>
    </select>
    <br>
    ä¸ªäººæè¿°ï¼š
    <textarea cols="20" rows="5" name="desc"></textarea>
    <br>
    <br>
    <input type="submit" value="å…è´¹æ³¨å†Œ">
    <input type="reset" value="é‡ç½®">
    <input type="button" value="ä¸€ä¸ªæŒ‰é’®">
</form>
</body>
</html>
```

æ•ˆæœ

![](youdaonote-images/WEBRESOURCE4ff46431c44591a960f4fb16d08722ab.png)

[HTML.zip](youdaonote-attachments/WEBRESOURCE9b961742002dfac1f1870e50d5810681HTML.zip)

# CSS

## ä¸€ã€æ¦‚è¿°

CSS æ˜¯ä¸€é—¨è¯­è¨€ï¼Œç”¨äºæ§åˆ¶ç½‘é¡µè¡¨ç°ã€‚æˆ‘ä»¬ä¹‹å‰ä»‹ç»è¿‡W3Cæ ‡å‡†ã€‚W3Cæ ‡å‡†è§„å®šäº†ç½‘é¡µæ˜¯ç”±ä»¥ä¸‹ç»„æˆï¼š

- ç»“æ„ï¼šHTML

- è¡¨ç°ï¼šCSS

- è¡Œä¸ºï¼šJavaScript

CSSä¹Ÿæœ‰ä¸€ä¸ªä¸“ä¸šçš„åå­—ï¼šCascading Style Sheetï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ã€‚

å¦‚ä¸‹é¢çš„ä»£ç ï¼Œ style æ ‡ç­¾ä¸­å®šä¹‰çš„å°±æ˜¯cssä»£ç ã€‚è¯¥ä»£ç æè¿°äº†å°† div æ ‡ç­¾çš„å†…å®¹çš„å­—ä½“é¢œè‰²è®¾ç½®ä¸º çº¢è‰²ã€‚

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
 Â  Â <style>
 Â  Â  Â  Â div{
 Â  Â  Â  Â  Â  Â color: red;
 Â  Â  Â   }
 Â  Â </style>
</head>
<body>
 Â  Â <div>Hello CSS~</div>
</body>
</html>
```

åœ¨æµè§ˆå™¨ä¸­çš„æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE9b97984008f30b03593285c2c4e80fd0.png)

## äºŒã€css å¯¼å…¥æ–¹å¼

css å¯¼å…¥æ–¹å¼å…¶å®å°±æ˜¯ css ä»£ç å’Œ html ä»£ç çš„ç»“åˆæ–¹å¼ã€‚CSS å¯¼å…¥ HTMLæœ‰ä¸‰ç§æ–¹å¼ï¼š

- å†…è”æ ·å¼ï¼šåœ¨æ ‡ç­¾å†…éƒ¨ä½¿ç”¨styleå±æ€§ï¼Œå±æ€§å€¼æ˜¯csså±æ€§é”®å€¼å¯¹

```html
<div style="color: red">Hello CSS~</div>
```

> ç»™æ–¹å¼åªèƒ½ä½œç”¨åœ¨è¿™ä¸€ä¸ªæ ‡ç­¾ä¸Šï¼Œå¦‚æœå…¶ä»–çš„æ ‡ç­¾ä¹Ÿæƒ³ä½¿ç”¨åŒæ ·çš„æ ·å¼ï¼Œé‚£å°±éœ€è¦åœ¨å…¶ä»–æ ‡ç­¾ä¸Šå†™ä¸Šç›¸åŒçš„æ ·å¼ã€‚å¤ç”¨æ€§å¤ªå·®ã€‚

- å†…éƒ¨æ ·å¼ï¼šå®šä¹‰<style>æ ‡ç­¾ï¼Œåœ¨æ ‡ç­¾å†…éƒ¨å®šä¹‰cssæ ·å¼

```html
<style type="text/css">
    div{
        color: red;
 Â   }
</style>
```

> è¿™ç§æ–¹å¼å¯ä»¥åšåˆ°åœ¨è¯¥é¡µé¢ä¸­å¤ç”¨ã€‚

- å¤–éƒ¨æ ·å¼ï¼šå®šä¹‰linkæ ‡ç­¾ï¼Œå¼•å…¥å¤–éƒ¨çš„cssæ–‡ä»¶

ç¼–å†™ä¸€ä¸ªcssæ–‡ä»¶ã€‚åä¸ºï¼šdemo.cssï¼Œå†…å®¹å¦‚ä¸‹:

```css
div{
    color: red;
}
```

åœ¨htmlä¸­å¼•å…¥ css æ–‡ä»¶ã€‚

```html
<link rel="stylesheet" Â href="demo.css">
```

> è¿™ç§æ–¹å¼å¯ä»¥åœ¨å¤šä¸ªé¡µé¢è¿›è¡Œå¤ç”¨ã€‚å…¶ä»–çš„é¡µé¢æƒ³ä½¿ç”¨åŒæ ·çš„æ ·å¼ï¼Œåªéœ€è¦ä½¿ç”¨ link æ ‡ç­¾å¼•å…¥è¯¥cssæ–‡ä»¶ã€‚

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>css å¯¼å…¥æ–¹å¼</title>
    <style>
        span{
            color: gray;
        }
    </style>
    <link href="../css/color.css" rel="stylesheet">
</head>
<body>
    <div style="color: blueviolet">hello css</div>
    <span>hello css</span>
    <p>hello css</p>
</body>
</html>
```

 	css

```css
p{
    color: burlywood;
}
```

æ•ˆæœ

![](youdaonote-images/WEBRESOURCE10ca85ea59291db0696a427ab58422be.png)

## ä¸‰ã€css é€‰æ‹©å™¨

css é€‰æ‹©å™¨å°±æ˜¯é€‰å–éœ€è®¾ç½®æ ·å¼çš„å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰ï¼Œæ¯”å¦‚å¦‚ä¸‹cssä»£ç ï¼š

```css
div {
    color:red;
}
```

å¦‚ä¸Šä»£ç ä¸­çš„ div å°±æ˜¯ css ä¸­çš„é€‰æ‹©å™¨ã€‚æˆ‘ä»¬åªè®²ä¸‹é¢ä¸‰ç§é€‰æ‹©å™¨ï¼š

- å…ƒç´ é€‰æ‹©å™¨

æ ¼å¼ï¼š

```css
å…ƒç´ åç§°{color: red;}
```

ä¾‹å­ï¼š

```css
div {color:red}  /*è¯¥ä»£ç è¡¨ç¤ºå°†é¡µé¢ä¸­æ‰€æœ‰çš„divæ ‡ç­¾çš„å†…å®¹çš„é¢œè‰²è®¾ç½®ä¸ºçº¢è‰²*/
```

- idé€‰æ‹©å™¨

æ ¼å¼ï¼š

```css
#idå±æ€§å€¼{color: red;}
```

ä¾‹å­ï¼š

htmlä»£ç å¦‚ä¸‹ï¼š

```html
<div id="name">hello css2</div>
```

cssä»£ç å¦‚ä¸‹ï¼š

```css
#name{color: red;}/*è¯¥ä»£ç è¡¨ç¤ºå°†é¡µé¢ä¸­æ‰€æœ‰çš„idå±æ€§å€¼æ˜¯ name çš„æ ‡ç­¾çš„å†…å®¹çš„é¢œè‰²è®¾ç½®ä¸ºçº¢è‰²*/
```

- ç±»é€‰æ‹©å™¨

æ ¼å¼ï¼š

```css
.classå±æ€§å€¼{color: red;}
```

ä¾‹å­ï¼š

htmlä»£ç å¦‚ä¸‹ï¼š

```html
<div class="cls">hello css3</div>
```

cssä»£ç å¦‚ä¸‹ï¼š

```css
.cls{color: red;} /*è¯¥ä»£ç è¡¨ç¤ºå°†é¡µé¢ä¸­æ‰€æœ‰çš„classå±æ€§å€¼æ˜¯ cls çš„æ ‡ç­¾çš„å†…å®¹çš„é¢œè‰²è®¾ç½®ä¸ºçº¢è‰²*/
```

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>css é€‰æ‹©å™¨</title>
    <style>
        div{
            color: red;
        }
        #name{
            color: blue;
        }
        .cls{
            color: pink;
        }
    </style>
</head>
<body>
<div>div1</div>
<div id="name">div2</div>
<div class="cls">div3</div>
<span class="cls">span</span>
</body>
</html>
```

æ•ˆæœ

![](youdaonote-images/WEBRESOURCEbd4e7e56ce7123a1fd2250490b748890.png)

[CSS.zip](youdaonote-attachments/WEBRESOURCE0f978e7bfa3a930590027f2a52e53e58CSS.zip)







# JavaScript

## ä¸€ã€JavaScriptç®€ä»‹

==JavaScript æ˜¯ä¸€é—¨è·¨å¹³å°ã€é¢å‘å¯¹è±¡çš„è„šæœ¬è¯­è¨€==ï¼Œè€ŒJavaè¯­è¨€ä¹Ÿæ˜¯è·¨å¹³å°çš„ã€é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œåªä¸

è¿‡Javaæ˜¯ç¼–è¯‘è¯­è¨€ï¼Œæ˜¯éœ€è¦ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶æ‰èƒ½è¿è¡Œçš„ï¼›JavaScriptæ˜¯è„šæœ¬è¯­è¨€ï¼Œä¸éœ€è¦ç¼–è¯‘ï¼Œç”±æµè§ˆ

å™¨ç›´æ¥è§£æå¹¶æ‰§è¡Œã€‚

JavaScript æ˜¯ç”¨æ¥æ§åˆ¶ç½‘é¡µè¡Œä¸ºçš„ï¼Œå®ƒèƒ½ä½¿ç½‘é¡µå¯äº¤äº’ï¼›é‚£ä¹ˆå®ƒå¯ä»¥åšä»€ä¹ˆå‘¢ï¼Ÿå¦‚æ”¹å˜é¡µé¢å†…å®¹ã€ä¿®æ”¹æŒ‡

å®šå…ƒç´ çš„å±æ€§å€¼ã€å¯¹è¡¨å•è¿›è¡Œæ ¡éªŒç­‰ï¼Œä¸‹é¢æ˜¯è¿™äº›åŠŸèƒ½çš„æ•ˆæœå±•ç¤ºï¼š

- æ”¹å˜é¡µé¢å†…å®¹

![](youdaonote-images/WEBRESOURCE21de372811f81f302412c79c5f20eef9.png)

å½“æˆ‘ç‚¹å‡»ä¸Šé¢å·¦å›¾çš„ ç‚¹å‡»æˆ‘ æŒ‰é’®ï¼ŒæŒ‰é’®ä¸Šé¢çš„æ–‡æœ¬å°±æ”¹ä¸ºä¸Šé¢å³å›¾å†…å®¹ï¼Œè¿™å°±æ˜¯js æ”¹å˜é¡µé¢å†…å®¹çš„åŠŸèƒ½ã€‚

- ä¿®æ”¹æŒ‡å®šå…ƒç´ çš„å±æ€§å€¼

![](youdaonote-images/WEBRESOURCE0227158896d474b89d063799b8f4325b.png)

å½“æˆ‘ä»¬ç‚¹å‡»ä¸Šå›¾çš„ å¼€ç¯ æŒ‰é’®ï¼Œæ•ˆæœå°±æ˜¯ä¸Šé¢å³å›¾æ•ˆæœï¼›å½“æˆ‘ç‚¹å‡» å…³ç¯ æŒ‰é’®ï¼Œæ•ˆæœå°±æ˜¯ä¸Šé¢å·¦å›¾æ•ˆæœã€‚å…¶

ä»–è¿™ä¸ªåŠŸèƒ½ä¸­æœ‰ä¸¤å¼ ç¯æ³¡çš„å›¾ç‰‡ï¼ˆä½¿ç”¨imgæ ‡ç­¾è¿›è¡Œå±•ç¤ºï¼‰ï¼Œé€šè¿‡ä¿®æ”¹ img æ ‡ç­¾çš„ src å±æ€§å€¼æ”¹å˜å±•ç¤ºçš„

å›¾ç‰‡æ¥å®ç°ã€‚

- å¯¹è¡¨å•è¿›è¡Œæ ¡éªŒ

![](youdaonote-images/WEBRESOURCE2401864e64685609f4b84483a52118bd.png)

åœ¨ä¸Šé¢å·¦å›¾çš„è¾“å…¥æ¡†è¾“å…¥ç”¨æˆ·åï¼Œå¦‚æœè¾“å…¥çš„ç”¨æˆ·åæ˜¯ä¸æ»¡è¶³è§„åˆ™çš„å°±å±•ç¤ºå³å›¾(ä¸Š) çš„æ•ˆæœï¼›å¦‚æœè¾“å…¥çš„

ç”¨æˆ·åæ˜¯æ»¡è¶³è§„åˆ™çš„å°±å±•ç¤ºå³å›¾(ä¸‹) çš„æ•ˆæœã€‚

JavaScript å’Œ Java æ˜¯å®Œå…¨ä¸åŒçš„è¯­è¨€ï¼Œä¸è®ºæ˜¯æ¦‚å¿µè¿˜æ˜¯è®¾è®¡ï¼Œåªæ˜¯åå­—æ¯”è¾ƒåƒè€Œå·²ã€‚ä½†æ˜¯==åŸºç¡€è¯­æ³•ç±»

ä¼¼==ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰javaçš„å­¦ä¹ ç»éªŒï¼Œå†å­¦ä¹ JavaScript è¯­è¨€å°±ç›¸å¯¹æ¯”è¾ƒå®¹æ˜“äº›ã€‚

JavaScriptï¼ˆç®€ç§°ï¼šJSï¼‰ åœ¨ 1995 å¹´ç”± Brendan Eich å‘æ˜ï¼Œå¹¶äº 1997 å¹´æˆä¸ºä¸€éƒ¨ ECMA æ ‡å‡†ã€‚ECMA 

è§„å®šäº†ä¸€å¥—æ ‡å‡† å°±å« ECMAScript ï¼Œæ‰€æœ‰çš„å®¢æˆ·ç«¯æ ¡éªŒè¯­è¨€å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ï¼Œå½“ç„¶ JavaScript ä¹Ÿéµå®ˆäº†

è¿™ä¸ªæ ‡å‡†ã€‚ECMAScript 6 (ç®€ç§°ES6) æ˜¯æœ€æ–°çš„ JavaScript ç‰ˆæœ¬ï¼ˆå‘å¸ƒäº 2015 å¹´)ã€‚

## äºŒã€JavaScriptå¼•å…¥æ–¹å¼

JavaScript å¼•å…¥æ–¹å¼å°±æ˜¯ HTML å’Œ JavaScript çš„ç»“åˆæ–¹å¼ã€‚JavaScriptå¼•å…¥æ–¹å¼æœ‰ä¸¤ç§ï¼š

- å†…éƒ¨è„šæœ¬ï¼šå°† JSä»£ç å®šä¹‰åœ¨HTMLé¡µé¢ä¸­

- å¤–éƒ¨è„šæœ¬ï¼šå°† JSä»£ç å®šä¹‰åœ¨å¤–éƒ¨ JSæ–‡ä»¶ä¸­ï¼Œç„¶åå¼•å…¥åˆ° HTMLé¡µé¢ä¸­

### 1ã€å†…éƒ¨è„šæœ¬

åœ¨ HTML ä¸­ï¼ŒJavaScript ä»£ç å¿…é¡»ä½äº <script> ä¸ </script> æ ‡ç­¾ä¹‹é—´

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>å†…éƒ¨è„šæœ¬</title>
</head>
<body>

</body>
<script>
    alert("hello js")
</script>
</html>
```

æ•ˆæœ

![](youdaonote-images/WEBRESOURCEad37405fc4cbadc8246a1b49fc4045b1.png)

### 2ã€å¤–éƒ¨è„šæœ¬

ç¬¬ä¸€æ­¥ï¼šå®šä¹‰å¤–éƒ¨ js æ–‡ä»¶ã€‚å¦‚å®šä¹‰åä¸º demo.jsçš„æ–‡ä»¶

é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE014b00db9c6c739e6f231b9993a31aa7.png)

demo.js æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```
alert("hello js");
```

ç¬¬äºŒæ­¥ï¼šåœ¨é¡µé¢ä¸­å¼•å…¥å¤–éƒ¨çš„jsæ–‡ä»¶

åœ¨é¡µé¢ä½¿ç”¨ script æ ‡ç­¾ä¸­ä½¿ç”¨ src å±æ€§æŒ‡å®š js æ–‡ä»¶çš„ URL è·¯å¾„ã€‚

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
â€‹
<script src="../js/demo.js"></script>
</body>
</html>
```

> ==æ³¨æ„ï¼š==

> å¤–éƒ¨è„šæœ¬ä¸èƒ½åŒ…å« <script> æ ‡ç­¾åœ¨jsæ–‡ä»¶ä¸­ç›´æ¥å†™ js ä»£ç å³å¯ï¼Œä¸è¦åœ¨ jsæ–‡ä»¶ ä¸­å†™ script æ ‡ç­¾

> <script> æ ‡ç­¾ä¸èƒ½è‡ªé—­åˆåœ¨é¡µé¢ä¸­å¼•å…¥å¤–éƒ¨jsæ–‡ä»¶æ—¶ï¼Œä¸èƒ½å†™æˆ <script src="../js/demo.js" />ã€‚

## ä¸‰ã€JavaScriptåŸºç¡€è¯­æ³•

### 1ã€ä¹¦å†™è¯­æ³•

- åŒºåˆ†å¤§å°å†™ï¼šä¸ Java ä¸€æ ·ï¼Œå˜é‡åã€å‡½æ•°åä»¥åŠå…¶ä»–ä¸€åˆ‡ä¸œè¥¿éƒ½æ˜¯åŒºåˆ†å¤§å°å†™çš„

- æ¯è¡Œç»“å°¾çš„åˆ†å·å¯æœ‰å¯æ— 

å¦‚æœä¸€è¡Œä¸Šå†™å¤šä¸ªè¯­å¥æ—¶ï¼Œå¿…é¡»åŠ åˆ†å·ç”¨æ¥åŒºåˆ†å¤šä¸ªè¯­å¥ã€‚

- æ³¨é‡Š

- å•è¡Œæ³¨é‡Šï¼š// æ³¨é‡Šå†…å®¹

- å¤šè¡Œæ³¨é‡Šï¼š/* æ³¨é‡Šå†…å®¹ */

> æ³¨æ„ï¼šJavaScript æ²¡æœ‰æ–‡æ¡£æ³¨é‡Š

- å¤§æ‹¬å·è¡¨ç¤ºä»£ç å—

ä¸‹é¢è¯­å¥å¤§å®¶è‚¯å®šèƒ½çœ‹æ‡‚ï¼Œå’Œ java ä¸€æ · å¤§æ‹¬å·è¡¨ç¤ºä»£ç å—ã€‚

```javascript
if (count == 3) { 
 Â  alert(count); 
} 
```

### 2ã€è¾“å‡ºè¯­å¥

js å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œå†…å®¹çš„è¾“å‡ºï¼Œåªä¸è¿‡ä¸åŒçš„è¯­å¥è¾“å‡ºåˆ°çš„ä½ç½®ä¸åŒ

- ä½¿ç”¨ window.alert() å†™å…¥è­¦å‘Šæ¡†

```html
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â 
<script>
 Â  Â window.alert("hello js");//å†™å…¥è­¦å‘Šæ¡†
</script>
</body>
</html>
```

ä¸Šé¢ä»£ç é€šè¿‡æµè§ˆå™¨æ‰“å¼€ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾å¼¹æ¡†æ•ˆæœ

![](youdaonote-images/WEBRESOURCEf6c418dc6e3f4e3d380a6670b1ebc305.png)

- ä½¿ç”¨ document.write() å†™å…¥ HTML è¾“å‡º

```html
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â 
<script>
 Â  Â document.write("hello js 2~");//å†™å…¥htmlé¡µé¢
</script>
</body>
</html>
```

ä¸Šé¢ä»£ç é€šè¿‡æµè§ˆå™¨æ‰“å¼€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢ä¸Šçœ‹åˆ° document.write(å†…å®¹) è¾“å‡ºçš„å†…å®¹

![](youdaonote-images/WEBRESOURCE09bb26a7d576d86d97855ed733592aff.png)

- ä½¿ç”¨ console.log() å†™å…¥æµè§ˆå™¨æ§åˆ¶å°

```html
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
â€‹
<script>
 Â  Â console.log("hello js 3");//å†™å…¥æµè§ˆå™¨çš„æ§åˆ¶å°
</script>
</body>
</html>
```

ä¸Šé¢ä»£ç é€šè¿‡æµè§ˆå™¨æ‰“å¼€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸èƒ½é¡µé¢ä¸Šçœ‹åˆ°  console.log(å†…å®¹) è¾“å‡ºçš„å†…å®¹ï¼Œå®ƒæ˜¯è¾“å‡ºåœ¨æ§

åˆ¶å°äº†ï¼Œè€Œæ€ä¹ˆåœ¨æ§åˆ¶å°æŸ¥çœ‹è¾“å‡ºçš„å†…å®¹å‘¢ï¼Ÿåœ¨æµè§ˆå™¨ç•Œé¢æŒ‰ F12 å°±å¯ä»¥çœ‹åˆ°ä¸‹å›¾çš„æ§åˆ¶å°

![](youdaonote-images/WEBRESOURCE0c0ea929d3d403c3f752143a3d523263.png)

### 3ã€å˜é‡

JavaScript ä¸­ç”¨ var å…³é”®å­—ï¼ˆvariable çš„ç¼©å†™ï¼‰æ¥å£°æ˜å˜é‡ã€‚æ ¼å¼ var å˜é‡å = æ•°æ®å€¼;ã€‚è€Œåœ¨

JavaScript æ˜¯ä¸€é—¨å¼±ç±»å‹è¯­è¨€ï¼Œå˜é‡==å¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„å€¼==ï¼›å¦‚ä¸‹åœ¨å®šä¹‰å˜é‡æ—¶èµ‹å€¼ä¸ºæ•°å­—æ•°

æ®ï¼Œè¿˜å¯ä»¥å°†å˜é‡çš„å€¼æ”¹ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„æ•°

```javascript
var test = 20;
test = "å¼ ä¸‰";
```

js ä¸­çš„å˜é‡åå‘½åä¹Ÿæœ‰å¦‚ä¸‹è§„åˆ™ï¼Œå’Œjavaè¯­è¨€åŸºæœ¬éƒ½ç›¸åŒ

- ç»„æˆå­—ç¬¦å¯ä»¥æ˜¯ä»»ä½•å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰æˆ–ç¾å…ƒç¬¦å·ï¼ˆ$ï¼‰

- æ•°å­—ä¸èƒ½å¼€å¤´

- å»ºè®®ä½¿ç”¨é©¼å³°å‘½å

JavaScript ä¸­ var å…³é”®å­—æœ‰ç‚¹ç‰¹æ®Šï¼Œæœ‰ä»¥ä¸‹åœ°æ–¹å’Œå…¶ä»–è¯­è¨€ä¸ä¸€æ ·

- ä½œç”¨åŸŸï¼šå…¨å±€å˜é‡

```javascript
{
 Â  Â var age = 20;
}
alert(age); Â // åœ¨ä»£ç å—ä¸­å®šä¹‰çš„age å˜é‡ï¼Œåœ¨ä»£ç å—å¤–è¾¹è¿˜å¯ä»¥ä½¿ç”¨
```

- å˜é‡å¯ä»¥é‡å¤å®šä¹‰

```javascript
{
 Â  Â var age = 20;
 Â  Â var age = 30;//JavaScript ä¼šç”¨ 30 å°†ä¹‹å‰ age å˜é‡çš„ 20 æ›¿æ¢æ‰
}
alert(age); //æ‰“å°çš„ç»“æœæ˜¯ 30
```

é’ˆå¯¹å¦‚ä¸Šçš„é—®é¢˜ï¼Œ==ECMAScript 6 æ–°å¢äº† letå…³é”®å­—æ¥å®šä¹‰å˜é‡ã€‚==å®ƒçš„ç”¨æ³•ç±»ä¼¼äº varï¼Œä½†æ˜¯æ‰€å£°

æ˜çš„å˜é‡ï¼Œåªåœ¨ let å…³é”®å­—æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆï¼Œä¸”ä¸å…è®¸é‡å¤å£°æ˜ã€‚

ä¾‹å¦‚ï¼š

```javascript
{
 Â  Â let age = 20;
}
alert(age); 
```

è¿è¡Œä¸Šé¢ä»£ç ï¼Œæµè§ˆå™¨å¹¶æ²¡æœ‰å¼¹æ¡†è¾“å‡ºç»“æœï¼Œè¯´æ˜è¿™æ®µä»£ç æ˜¯æœ‰é—®é¢˜çš„ã€‚é€šè¿‡ F12 æ‰“å¼€å¼€å‘è€…æ¨¡å¼å¯

ä»¥çœ‹åˆ°å¦‚ä¸‹é”™è¯¯ä¿¡æ¯

![](youdaonote-images/WEBRESOURCE8ad8d8d4bcc5e9ca9e4a78bbf695d560.png)

è€Œå¦‚æœåœ¨ä»£ç å—ä¸­å®šä¹‰ä¸¤ä¸ªåŒåçš„å˜é‡ï¼ŒIDEA å¼€å‘å·¥å…·å°±ç›´æ¥æŠ¥é”™äº†

![](youdaonote-images/WEBRESOURCE2a676761402a505cd1866c9410917256.png)

==ECMAScript 6 æ–°å¢äº† constå…³é”®å­—ï¼Œç”¨æ¥å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚

== é€šè¿‡ä¸‹é¢çš„ä»£ç çœ‹ä¸€ä¸‹å¸¸ç”¨çš„ç‰¹ç‚¹å°±å¯ä»¥äº†

![](youdaonote-images/WEBRESOURCEa80de19c31415130cb9edd72692d0ff1.png)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç»™ PI è¿™ä¸ªå¸¸é‡é‡æ–°èµ‹å€¼æ—¶æŠ¥é”™äº†ã€‚

### 4ã€æ•°æ®ç±»å‹

JavaScript ä¸­æä¾›äº†ä¸¤ç±»æ•°æ®ç±»å‹ï¼šåŸå§‹ç±»å‹ å’Œ å¼•ç”¨ç±»å‹ã€‚

> ä½¿ç”¨ typeof è¿ç®—ç¬¦å¯ä»¥è·å–æ•°æ®ç±»å‹alert(typeof age); ä»¥å¼¹æ¡†çš„å½¢å¼å°† age å˜é‡çš„æ•°æ®ç±»å‹è¾“å‡º

åŸå§‹æ•°æ®ç±»å‹ï¼š

- numberï¼šæ•°å­—ï¼ˆæ•´æ•°ã€å°æ•°ã€NaN(Not a Number)ï¼‰

```javascript
var age = 20;
var price = 99.8;
â€‹
alert(typeof age); // ç»“æœæ˜¯ ï¼š number
alert(typeof price);// ç»“æœæ˜¯ ï¼š number
```

> ==æ³¨æ„ï¼š== NaNæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„numberç±»å‹çš„å€¼ï¼Œåé¢ç”¨åˆ°å†è¯´

- stringï¼šå­—ç¬¦ã€å­—ç¬¦ä¸²ï¼Œå•åŒå¼•çš†å¯

```javascript
var ch = 'a';
var name = 'å¼ ä¸‰'; 
var addr = "åŒ—äº¬";
â€‹
alert(typeof ch); //ç»“æœæ˜¯  string
alert(typeof name); //ç»“æœæ˜¯  string
alert(typeof addr); //ç»“æœæ˜¯  string
```

> ==æ³¨æ„ï¼š==åœ¨ js ä¸­ åŒå¼•å·å’Œå•å¼•å·éƒ½è¡¨ç¤ºå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®

- booleanï¼šå¸ƒå°”ã€‚trueï¼Œfalse

```javascript
var flag = true;
var flag2 = false;
â€‹
alert(typeof flag); //ç»“æœæ˜¯ boolean
alert(typeof flag2); //ç»“æœæ˜¯ boolean
```

- nullï¼šå¯¹è±¡ä¸ºç©º

```javascript
var obj = null;
â€‹
alert(typeof obj);//ç»“æœæ˜¯ object
```

ä¸ºä»€ä¹ˆæ‰“å°ä¸Šé¢çš„ obj å˜é‡çš„æ•°æ®ç±»å‹ï¼Œç»“æœæ˜¯objectï¼›è¿™ä¸ªå®˜æ–¹ç»™å‡ºäº†è§£é‡Šï¼Œä¸‹é¢æ˜¯ä»å®˜æ–¹æ–‡æ¡£æˆªçš„

å›¾

![](youdaonote-images/WEBRESOURCE959504a0a981a23205aa3a5daa9a6517.png)

- undefinedï¼šå½“å£°æ˜çš„å˜é‡æœªåˆå§‹åŒ–æ—¶ï¼Œè¯¥å˜é‡çš„é»˜è®¤å€¼æ˜¯ undefined

```
var a ;
alert(typeof a); //ç»“æœæ˜¯ undefined
```

### 5ã€è¿ç®—ç¬¦

JavaScript æä¾›äº†å¦‚ä¸‹çš„è¿ç®—ç¬¦ã€‚å¤§éƒ¨åˆ†å’Œ Javaè¯­è¨€ éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸åŒçš„æ˜¯ JS å…³ç³»è¿ç®—ç¬¦ä¸­çš„ == 

å’Œ ===ï¼Œä¸€ä¼šæˆ‘ä»¬åªæ¼”ç¤ºè¿™ä¸¤ä¸ªçš„åŒºåˆ«ï¼Œå…¶ä»–è¿ç®—ç¬¦å°†ä¸åšæ¼”ç¤º

- ä¸€å…ƒè¿ç®—ç¬¦ï¼š++ï¼Œ--

- ç®—æœ¯è¿ç®—ç¬¦ï¼š+ï¼Œ-ï¼Œ*ï¼Œ/ï¼Œ%

- èµ‹å€¼è¿ç®—ç¬¦ï¼š=ï¼Œ+=ï¼Œ-=â€¦

- å…³ç³»è¿ç®—ç¬¦ï¼š>ï¼Œ<ï¼Œ>=ï¼Œ<=ï¼Œ!=ï¼Œ\==ï¼Œ===â€¦

- é€»è¾‘è¿ç®—ç¬¦ï¼š&&ï¼Œ||ï¼Œ!

- ä¸‰å…ƒè¿ç®—ç¬¦ï¼šæ¡ä»¶è¡¨è¾¾å¼ ? true_value : false_value 

#### Aã€==å’Œ===åŒºåˆ«

æ¦‚è¿°:

- ==ï¼š

1. åˆ¤æ–­ç±»å‹æ˜¯å¦ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œåˆ™è¿›è¡Œç±»å‹è½¬æ¢

1. å†å»æ¯”è¾ƒå…¶å€¼

- ===ï¼šjs ä¸­çš„å…¨ç­‰äº

1. åˆ¤æ–­ç±»å‹æ˜¯å¦ä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œç›´æ¥è¿”å›false

1. å†å»æ¯”è¾ƒå…¶å€¼	

ä»£ç ï¼š

```javascript
var age1 = 20;
var age2 = "20";
â€‹
alert(age1 == age2);// true
alert(age1 === age2);// false
```

#### Bã€ç±»å‹è½¬æ¢

ä¸Šè¿°è®²è§£ == è¿ç®—ç¬¦æ—¶ï¼Œå‘ç°ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯¦ç»†çš„è®²è§£ä¸€ä¸‹ JavaScript ä¸­

çš„ç±»å‹è½¬æ¢ã€‚

- å…¶ä»–ç±»å‹è½¬ä¸ºnumber

- string è½¬æ¢ä¸º number ç±»å‹ï¼šæŒ‰ç…§å­—ç¬¦ä¸²çš„å­—é¢å€¼ï¼Œè½¬ä¸ºæ•°å­—ã€‚å¦‚æœå­—é¢å€¼ä¸æ˜¯æ•°å­—ï¼Œåˆ™è½¬ä¸ºNaN

å°† string è½¬æ¢ä¸º number æœ‰ä¸¤ç§æ–¹å¼ï¼š

- ä½¿ç”¨ + æ­£å·è¿ç®—ç¬¦ï¼š

```java
var str = +"20";
alert(str + 1) //21
```

- ä½¿ç”¨ parseInt() å‡½æ•°(æ–¹æ³•)ï¼š

```javascript
var str = "20";
alert(parseInt(str) + 1);
```

> ==å»ºè®®ä½¿ç”¨ parseInt() å‡½æ•°è¿›è¡Œè½¬æ¢ã€‚==

- boolean è½¬æ¢ä¸º number ç±»å‹ï¼štrue è½¬ä¸º1ï¼Œfalseè½¬ä¸º0

```javascript
var flag = +false;
alert(flag); // 0
```

- å…¶ä»–ç±»å‹è½¬ä¸ºboolean

- number ç±»å‹è½¬æ¢ä¸º boolean ç±»å‹ï¼š0å’ŒNaNè½¬ä¸ºfalseï¼Œå…¶ä»–çš„æ•°å­—è½¬ä¸ºtrue

- string ç±»å‹è½¬æ¢ä¸º boolean ç±»å‹ï¼šç©ºå­—ç¬¦ä¸²è½¬ä¸ºfalseï¼Œå…¶ä»–çš„å­—ç¬¦ä¸²è½¬ä¸ºtrue

- nullç±»å‹è½¬æ¢ä¸º boolean ç±»å‹æ˜¯ false

- undefined è½¬æ¢ä¸º boolean ç±»å‹æ˜¯ false

ä»£ç å¦‚ä¸‹ï¼š

```javascript
// var flag = 3;
// var flag = "";
var flag = undefined;
â€‹
if(flag){
 Â  Â alert("è½¬ä¸ºtrue");
}else {
 Â  Â alert("è½¬ä¸ºfalse");
}
```

ä½¿ç”¨åœºæ™¯ï¼š

åœ¨ Java ä¸­ä½¿ç”¨å­—ç¬¦ä¸²å‰ï¼Œä¸€èˆ¬éƒ½ä¼šå…ˆåˆ¤æ–­å­—ç¬¦ä¸²ä¸æ˜¯nullï¼Œå¹¶ä¸”ä¸æ˜¯ç©ºå­—ç¬¦æ‰ä¼šåšå…¶ä»–çš„ä¸€

äº›æ“ä½œï¼ŒJavaScriptä¹Ÿæœ‰ç±»å‹çš„æ“ä½œï¼Œä»£ç å¦‚ä¸‹ï¼š

```javascript
var str = "abc";
â€‹
//å¥å£®æ€§åˆ¤æ–­
if(str != null && str.length > 0){
 Â  Â alert("è½¬ä¸ºtrue");
}else {
 Â  Â alert("è½¬ä¸ºfalse");
}
```

ä½†æ˜¯ç”±äº JavaScript ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥ä¸Šè¿°çš„åˆ¤æ–­å¯ä»¥è¿›è¡Œç®€åŒ–ï¼Œä»£ç å¦‚ä¸‹ï¼š

```javascript
var str = "abc";
â€‹
//å¥å£®æ€§åˆ¤æ–­
if(str){
 Â  Â alert("è½¬ä¸ºtrue");
}else {
 Â  Â alert("è½¬ä¸ºfalse");
}
```

### 6ã€æµç¨‹æ§åˆ¶è¯­å¥

JavaScript ä¸­æä¾›äº†å’Œ Java ä¸€æ ·çš„æµç¨‹æ§åˆ¶è¯­å¥ï¼Œå¦‚ä¸‹

- if 

- switch

- for

- while

- dowhile

#### Aã€if è¯­å¥

```javascript
var count = 3;
if (count == 3) {
 Â  Â alert(count);
}
```

#### Bã€switch è¯­å¥

```javascript
var num = 3;
switch (num) {
 Â  Â case 1:
 Â  Â  Â  Â alert("æ˜ŸæœŸä¸€");
 Â  Â  Â  Â break;
 Â  Â case 2:
 Â  Â  Â  Â alert("æ˜ŸæœŸäºŒ");
 Â  Â  Â  Â break;
 Â  Â case 3:
 Â  Â  Â  Â alert("æ˜ŸæœŸä¸‰");
 Â  Â  Â  Â break;
 Â  Â case 4:
 Â  Â  Â  Â alert("æ˜ŸæœŸå››");
 Â  Â  Â  Â break;
 Â  Â case 5:
 Â  Â  Â  Â alert("æ˜ŸæœŸäº”");
 Â  Â  Â  Â break;
 Â  Â case 6:
 Â  Â  Â  Â alert("æ˜ŸæœŸå…­");
 Â  Â  Â  Â break;
 Â  Â case 7:
 Â  Â  Â  Â alert("æ˜ŸæœŸæ—¥");
 Â  Â  Â  Â break;
 Â  Â default:
 Â  Â  Â  Â alert("è¾“å…¥çš„æ˜ŸæœŸæœ‰è¯¯");
 Â  Â  Â  Â break;
}
```

#### Cã€for å¾ªç¯è¯­å¥

```javascript
var sum = 0;
for (let i = 1; i <= 100; i++) { //å»ºè®®forå¾ªç¯å°æ‹¬å·ä¸­å®šä¹‰çš„å˜é‡ä½¿ç”¨let
 Â  Â sum += i;
}
alert(sum);
```

#### Dã€while å¾ªç¯è¯­å¥

```javascript
var sum = 0;
var i = 1;
while (i <= 100) {
 Â  Â sum += i;
 Â  Â i++;
}
alert(sum);
```

#### Eã€dowhile å¾ªç¯è¯­å¥

```javascript
var sum = 0;
var i = 1;
do {
 Â  Â sum += i;
 Â  Â i++;
}
while (i <= 100);
alert(sum);
```

### 7ã€ å‡½æ•°

å‡½æ•°ï¼ˆå°±æ˜¯Javaä¸­çš„æ–¹æ³•ï¼‰æ˜¯è¢«è®¾è®¡ä¸ºæ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ä»£ç å—ï¼›JavaScript å‡½æ•°é€šè¿‡ function å…³é”®è¯

è¿›è¡Œå®šä¹‰ã€‚

#### Aã€å®šä¹‰æ ¼å¼

å‡½æ•°å®šä¹‰æ ¼å¼æœ‰ä¸¤ç§ï¼š

- æ–¹å¼1

```javascript
function å‡½æ•°å(å‚æ•°1,å‚æ•°2..){
 Â  Â è¦æ‰§è¡Œçš„ä»£ç 
}
```

- æ–¹å¼2

```javascript
var å‡½æ•°å = function (å‚æ•°åˆ—è¡¨){
 Â  Â è¦æ‰§è¡Œçš„ä»£ç 
}
```

> ==æ³¨æ„ï¼š==å½¢å¼å‚æ•°ä¸éœ€è¦ç±»å‹ã€‚å› ä¸ºJavaScriptæ˜¯å¼±ç±»å‹è¯­è¨€function add(a, b){ Â  Â return a + b;}ä¸Šè¿°å‡½æ•°çš„å‚æ•° a å’Œ b ä¸éœ€è¦å®šä¹‰æ•°æ®ç±»å‹ï¼Œå› ä¸ºåœ¨æ¯ä¸ªå‚æ•°å‰åŠ ä¸Š var ä¹Ÿæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚è¿”å›å€¼ä¹Ÿä¸éœ€è¦å®šä¹‰ç±»å‹ï¼Œå¯ä»¥åœ¨å‡½æ•°å†…éƒ¨ç›´æ¥ä½¿ç”¨returnè¿”å›å³å¯

#### Bã€å‡½æ•°è°ƒç”¨

å‡½æ•°è°ƒç”¨å‡½æ•°ï¼š

```javascript
å‡½æ•°åç§°(å®é™…å‚æ•°åˆ—è¡¨);
```

egï¼š

```javascript
let result = add(10,20);
```

> ==æ³¨æ„ï¼š==JSä¸­ï¼Œå‡½æ•°è°ƒç”¨å¯ä»¥ä¼ é€’ä»»æ„ä¸ªæ•°å‚æ•°ä¾‹å¦‚  let result = add(1,2,3); å®ƒæ˜¯å°†æ•°æ® 1 ä¼ é€’ç»™äº†å˜é‡aï¼Œå°†æ•°æ® 2 ä¼ é€’ç»™äº†å˜é‡ bï¼Œè€Œæ•°æ® 3 æ²¡æœ‰å˜é‡æ¥æ”¶ã€‚

## å››ã€JavaScriptå¸¸ç”¨å¯¹è±¡

JavaScript æä¾›äº†å¾ˆå¤šå¯¹è±¡ä¾›ä½¿ç”¨è€…æ¥ä½¿ç”¨ã€‚è¿™äº›å¯¹è±¡æ€»å…±åˆ†ç±»ä¸‰ç±»

- åŸºæœ¬å¯¹è±¡

![](youdaonote-images/WEBRESOURCE76e44385119f9074f9ccc0673f3ba826.png)

- BOM å¯¹è±¡

![](youdaonote-images/WEBRESOURCE8eaa0930bc9e9ee6fb1eaee40f189966.png)

- DOMå¯¹è±¡

DOM ä¸­çš„å¯¹è±¡å°±æ¯”è¾ƒå¤šäº†ï¼Œä¸‹å›¾åªæ˜¯æˆªå–éƒ¨åˆ†

![](youdaonote-images/WEBRESOURCEf9c3dfd38bd60c8852e02183386acff6.png)

### 1ã€Arrayå¯¹è±¡

JavaScript Arrayå¯¹è±¡ç”¨äºå®šä¹‰æ•°ç»„

#### Aã€å®šä¹‰æ ¼å¼

æ•°ç»„çš„å®šä¹‰æ ¼å¼æœ‰ä¸¤ç§ï¼š

- æ–¹å¼1

```javascript
var å˜é‡å = new Array(å…ƒç´ åˆ—è¡¨); 
```

ä¾‹å¦‚ï¼š

```javascript
var arr = new Array(1,2,3); //1,2,3 æ˜¯å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„æ•°æ®ï¼ˆå…ƒç´ ï¼‰
```

- æ–¹å¼2

```javascript
var å˜é‡å = [å…ƒç´ åˆ—è¡¨];
```

ä¾‹å¦‚ï¼š

```javascript
var arr = [1,2,3]; //1,2,3 æ˜¯å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„æ•°æ®ï¼ˆå…ƒç´ ï¼‰
```

==æ³¨æ„ï¼šJavaä¸­çš„æ•°ç»„é™æ€åˆå§‹åŒ–ä½¿ç”¨çš„æ˜¯{}å®šä¹‰ï¼Œè€Œ JavaScript ä¸­ä½¿ç”¨çš„æ˜¯ [] å®šä¹‰==

#### Bã€å…ƒç´ è®¿é—®

è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ å’Œ Java è¯­è¨€çš„ä¸€æ ·ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```javascript
arr[ç´¢å¼•] = å€¼;
```

ä»£ç æ¼”ç¤ºï¼š

```javascript
 // æ–¹å¼ä¸€
var arr = new Array(1,2,3);
// alert(arr);
â€‹
// æ–¹å¼äºŒ
var arr2 = [1,2,3];
//alert(arr2);
â€‹
// è®¿é—®
arr2[0] = 10;
alert(arr2)
```

#### Cã€ç‰¹ç‚¹

JavaScript ä¸­çš„æ•°ç»„ç›¸å½“äº Java ä¸­é›†åˆã€‚æ•°ç»„çš„é•¿åº¦æ˜¯å¯ä»¥å˜åŒ–çš„ï¼Œè€Œ JavaScript æ˜¯å¼±ç±»å‹ï¼Œ	

æ‰€ä»¥å¯ä»¥å­˜å‚¨ä»»æ„çš„ç±»å‹çš„æ•°æ®ã€‚

ä¾‹å¦‚å¦‚ä¸‹ä»£ç ï¼š

```javascript
// å˜é•¿
var arr3 = [1,2,3];
arr3[10] = 10;
alert(arr3[10]); // 10
alert(arr3[9]); Â //undefined
```

ä¸Šé¢ä»£ç åœ¨å®šä¹‰æ•°ç»„ä¸­ç»™äº†ä¸‰ä¸ªå…ƒç´ ï¼Œåˆç»™ç´¢å¼•æ˜¯ 10 çš„ä½ç½®æ·»åŠ äº†æ•°æ® 10ï¼Œé‚£ä¹ˆ ç´¢å¼•3 åˆ° ç´¢å¼•

9 ä½ç½®çš„å…ƒç´ æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ä¹‹å‰å°±ä»‹ç»äº†ï¼Œåœ¨ JavaScript ä¸­æ²¡æœ‰èµ‹å€¼çš„è¯ï¼Œé»˜è®¤å°±æ˜¯ 

undefinedã€‚

å¦‚æœç»™ arr3 æ•°ç»„æ·»åŠ å­—ç¬¦ä¸²çš„æ•°æ®ï¼Œä¹Ÿæ˜¯å¯ä»¥æ·»åŠ æˆåŠŸçš„

```javascript
arr3[5] = "hello";
alert(arr3[5]); // hello
```

#### Dã€å±æ€§

Array å¯¹è±¡æä¾›äº†å¾ˆå¤šå±æ€§ï¼Œå¦‚ä¸‹å›¾æ˜¯å®˜æ–¹æ–‡æ¡£æˆªå–çš„

![](youdaonote-images/WEBRESOURCE5806e37df08b5a9fddfe3bfa44db581c.png)

è€Œæˆ‘ä»¬åªè®²è§£ length å±æ€§ï¼Œè¯¥æ•°ç»„å¯ä»¥åŠ¨æ€çš„è·å–æ•°ç»„çš„é•¿åº¦ã€‚è€Œæœ‰è¿™ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥éå†

æ•°ç»„äº†

```javascript
var arr = [1,2,3];
for (let i = 0; i < arr.length; i++) {
 Â  Â alert(arr[i]);
}
```

#### Eã€æ–¹æ³•

Array å¯¹è±¡åŒæ ·ä¹Ÿæä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ˜¯å®˜æ–¹æ–‡æ¡£æˆªå–çš„

![](youdaonote-images/WEBRESOURCEe73f4f92f4face4e9646cba059049839.png)

- push å‡½æ•°ï¼šç»™æ•°ç»„æ·»åŠ å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯åœ¨æ•°ç»„çš„æœ«å°¾æ·»åŠ å…ƒç´ 

å‚æ•°è¡¨ç¤ºè¦æ·»åŠ çš„å…ƒç´ 

```javascript
// push:æ·»åŠ æ–¹æ³•
var arr5 = [1,2,3];
arr5.push(10);
alert(arr5); Â //æ•°ç»„çš„å…ƒç´ æ˜¯ {1,2,3,10}
```

- splice å‡½æ•°ï¼šåˆ é™¤å…ƒç´ 

å‚æ•°1ï¼šç´¢å¼•ã€‚è¡¨ç¤ºä»å“ªä¸ªç´¢å¼•ä½ç½®åˆ é™¤

å‚æ•°2ï¼šä¸ªæ•°ã€‚è¡¨ç¤ºåˆ é™¤å‡ ä¸ªå…ƒç´ 

```javascript
// splice:åˆ é™¤å…ƒç´ 
var arr5 = [1,2,3];
arr5.splice(0,1); //ä» 0 ç´¢å¼•ä½ç½®å¼€å§‹åˆ é™¤ï¼Œåˆ é™¤ä¸€ä¸ªå…ƒç´  
alert(arr5); // {2,3}
```

### 2ã€Stringå¯¹è±¡

Stringå¯¹è±¡çš„åˆ›å»ºæ–¹å¼æœ‰ä¸¤ç§

- æ–¹å¼1ï¼š

```javascript
var å˜é‡å = new String(s); 
```

- æ–¹å¼2ï¼š

```javascript
var å˜é‡å = "æ•°ç»„"; 
```

å±æ€§ï¼š

Stringå¯¹è±¡æä¾›äº†å¾ˆå¤šå±æ€§ï¼Œä¸‹é¢ç»™å¤§å®¶åˆ—ä¸¾äº†ä¸€ä¸ªå±æ€§ length ï¼Œè¯¥å±æ€§æ˜¯ç”¨äºåŠ¨æ€çš„è·å–å­—ç¬¦

ä¸²çš„é•¿åº¦

![](youdaonote-images/WEBRESOURCEa7e0ad6b5c477fb618ea538cea565c2c.png)

å‡½æ•°ï¼š

Stringå¯¹è±¡æä¾›äº†å¾ˆå¤šå‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ï¼Œä¸‹é¢ç»™å¤§å®¶åˆ—ä¸¾äº†ä¸¤ä¸ªæ–¹æ³•ã€‚

![](youdaonote-images/WEBRESOURCE2c7b11ccde9610d670fe5d0e91e13346.png)

Stringå¯¹è±¡è¿˜æœ‰ä¸€ä¸ªå‡½æ•° trim() ï¼Œè¯¥æ–¹æ³•åœ¨æ–‡æ¡£ä¸­æ²¡æœ‰ä½“ç°ï¼Œä½†æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒï¼›å®ƒæ˜¯ç”¨æ¥

å»æ‰å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ã€‚

ä»£ç æ¼”ç¤ºï¼š

```javascript
var str4 = '  abc Â  ';
alert(1 + str4 + 1);
```

ä¸Šé¢ä»£ç ä¼šè¾“å‡ºå†…å®¹ 1  abc  1ï¼Œå¾ˆæ˜æ˜¾å¯ä»¥çœ‹åˆ° abc å­—ç¬¦ä¸²å·¦å³ä¸¤è¾¹æ˜¯æœ‰ç©ºæ ¼çš„ã€‚æ¥ä¸‹æ¥ä½¿ç”¨ 

trim() å‡½æ•°

```javascript
var str4 = '  abc Â  ';
alert(1 + str4.trim() + 1);
```

è¾“å‡ºçš„å†…å®¹æ˜¯ 1abc1 ã€‚è¿™å°±æ˜¯ trim() å‡½æ•°çš„ä½œç”¨ã€‚

trim() å‡½æ•°åœ¨ä»¥åå¼€å‘ä¸­è¿˜æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ï¼Œä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºæ˜¯ç™»é™†ç•Œé¢

![](youdaonote-images/WEBRESOURCE9a5f1634516604e1fa2f91f7d76fd40f.png)

ç”¨æˆ·åœ¨è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ—¶ï¼Œå¯èƒ½ä¼šä¹ æƒ¯çš„è¾“å…¥ä¸€äº›ç©ºæ ¼ï¼Œè¿™æ ·åœ¨æˆ‘ä»¬åç«¯ç¨‹åºä¸­åˆ¤æ–­ç”¨æˆ·åå’Œ

å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œç»“æœè‚¯å®šæ˜¯å¤±è´¥ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šå¯¹ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²æ•°æ®è¿›è¡Œå»é™¤å‰åç©ºæ ¼

çš„æ“ä½œã€‚

### 3ã€è‡ªå®šä¹‰å¯¹è±¡

åœ¨ JavaScript ä¸­è‡ªå®šä¹‰å¯¹è±¡ç‰¹åˆ«ç®€å•ï¼Œä¸‹é¢å°±æ˜¯è‡ªå®šä¹‰å¯¹è±¡çš„æ ¼å¼ï¼š

```javascript
var å¯¹è±¡åç§° = {
 Â  Â å±æ€§åç§°1:å±æ€§å€¼1,
 Â  Â å±æ€§åç§°2:å±æ€§å€¼2,
 Â  Â ...,
 Â  Â å‡½æ•°åç§°:function (å½¢å‚åˆ—è¡¨){},
    ...
};
```

è°ƒç”¨å±æ€§çš„æ ¼å¼ï¼š

```javascript
å¯¹è±¡å.å±æ€§å
```

è°ƒç”¨å‡½æ•°çš„æ ¼å¼ï¼š

```javascript
å¯¹è±¡å.å‡½æ•°å()
```

æ¥ä¸‹æ¥é€šè¿‡ä»£ç æ¼”ç¤ºä¸€ä¸‹ï¼Œè®©å¤§å®¶ä½“éªŒä¸€ä¸‹ JavaScript ä¸­è‡ªå®šä¹‰å¯¹è±¡

```javascript
var person = {
 Â  Â  Â  Â name : "zhangsan",
 Â  Â  Â  Â age : 23,
 Â  Â  Â  Â eat: function (){
 Â  Â  Â  Â  Â  Â alert("å¹²é¥­~");
 Â  Â  Â   }
 Â   };
â€‹
â€‹
alert(person.name); Â //zhangsan
alert(person.age); //23
â€‹
person.eat(); Â //å¹²é¥­~
```

## äº”ã€BOM

BOMï¼šBrowser Object Model æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ã€‚ä¹Ÿå°±æ˜¯ JavaScript å°†æµè§ˆå™¨çš„å„ä¸ªç»„æˆéƒ¨åˆ†å°è£…ä¸ºå¯¹

è±¡ã€‚

æˆ‘ä»¬è¦æ“ä½œæµè§ˆå™¨çš„å„ä¸ªç»„æˆéƒ¨åˆ†å°±å¯ä»¥é€šè¿‡æ“ä½œ BOM ä¸­çš„å¯¹è±¡æ¥å®ç°ã€‚æ¯”å¦‚ï¼šæˆ‘ç°åœ¨æƒ³å°†æµè§ˆå™¨åœ°å€

æ çš„åœ°å€æ”¹ä¸º https://www.itheima.com å°±å¯ä»¥é€šè¿‡ä½¿ç”¨ BOM ä¸­å®šä¹‰çš„ Location å¯¹è±¡çš„ href å±æ€§ï¼Œä»£

ç ï¼š location.href = "https://itheima.com"; 

BOM ä¸­åŒ…å«äº†å¦‚ä¸‹å¯¹è±¡ï¼š

- Windowï¼šæµè§ˆå™¨çª—å£å¯¹è±¡

- Navigatorï¼šæµè§ˆå™¨å¯¹è±¡

- Screenï¼šå±å¹•å¯¹è±¡

- Historyï¼šå†å²è®°å½•å¯¹è±¡

- Locationï¼šåœ°å€æ å¯¹è±¡

ä¸‹å›¾æ˜¯ BOM ä¸­çš„å„ä¸ªå¯¹è±¡å’Œæµè§ˆå™¨çš„å„ä¸ªç»„æˆéƒ¨åˆ†çš„å¯¹åº”å…³ç³»

![](youdaonote-images/WEBRESOURCE9672891d402ea734300d3344270b355c.png)

BOM ä¸­çš„ Navigator å¯¹è±¡å’Œ Screen å¯¹è±¡åŸºæœ¬ä¸ä¼šä½¿ç”¨ã€‚

### 1ã€Windowå¯¹è±¡

window å¯¹è±¡æ˜¯ JavaScript å¯¹æµè§ˆå™¨çš„çª—å£è¿›è¡Œå°è£…çš„å¯¹è±¡ã€‚

#### Aã€è·å–windowå¯¹è±¡

è¯¥å¯¹è±¡ä¸éœ€è¦åˆ›å»ºç›´æ¥ä½¿ç”¨ windowï¼Œå…¶ä¸­ window. å¯ä»¥çœç•¥ã€‚æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„ alert() å‡½

æ•°ï¼Œå…¶å®å°±æ˜¯ window å¯¹è±¡çš„å‡½æ•°ï¼Œåœ¨è°ƒç”¨æ˜¯å¯ä»¥å†™æˆå¦‚ä¸‹ä¸¤ç§

- æ˜¾å¼ä½¿ç”¨ 

window å¯¹è±¡è°ƒç”¨

```javascript
window.alert("abc");
```

- éšå¼è°ƒç”¨

```javascript
alert("abc")
```

#### Bã€windowå¯¹è±¡å±æ€§

window å¯¹è±¡æä¾›äº†ç”¨äºè·å–å…¶ä»– BOM ç»„æˆå¯¹è±¡çš„å±æ€§

![](youdaonote-images/WEBRESOURCEbf6883e862c9e994efe1b668e99f1e70.png)

ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æƒ³ä½¿ç”¨ Location å¯¹è±¡çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ window å¯¹è±¡è·å–ï¼›å†™æˆ 

window.locationï¼Œè€Œ window. å¯ä»¥çœç•¥ï¼Œç®€åŒ–å†™æˆ location æ¥è·å– Location å¯¹è±¡ã€‚

#### Cã€windowå¯¹è±¡å‡½æ•°

window å¯¹è±¡æä¾›äº†å¾ˆå¤šå‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œè€Œå¾ˆå¤šéƒ½ä¸å¸¸ç”¨ï¼›ä¸‹é¢åˆ—ä¸¾äº†ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å‡½æ•°

![](youdaonote-images/WEBRESOURCEab3c35ebec16a9e5936fb84fe3b1f775.png)

> setTimeout(function,æ¯«ç§’å€¼) : åœ¨ä¸€å®šçš„æ—¶é—´é—´éš”åæ‰§è¡Œä¸€ä¸ªfunctionï¼Œåªæ‰§è¡Œä¸€æ¬¡
setInterval(function,æ¯«ç§’å€¼) :åœ¨ä¸€å®šçš„æ—¶é—´é—´éš”åæ‰§è¡Œä¸€ä¸ªfunctionï¼Œå¾ªç¯æ‰§è¡Œ

confirmä»£ç æ¼”ç¤ºï¼š

```javascript
// confirm()ï¼Œç‚¹å‡»ç¡®å®šæŒ‰é’®ï¼Œè¿”å›trueï¼Œç‚¹å‡»å–æ¶ˆæŒ‰é’®ï¼Œè¿”å›false
var flag = confirm("ç¡®è®¤åˆ é™¤ï¼Ÿ");
â€‹
alert(flag);
```

ä¸‹å›¾æ˜¯ confirm() å‡½æ•°çš„æ•ˆæœã€‚å½“æˆ‘ä»¬ç‚¹å‡» ç¡®å®š æŒ‰é’®ï¼Œflag å˜é‡å€¼è®°å½•çš„å°±æ˜¯ true ï¼›å½“æˆ‘ä»¬ç‚¹å‡» 

å–æ¶ˆ æŒ‰é’®ï¼Œflag å˜é‡å€¼è®°å½•çš„å°±æ˜¯ falseã€‚

![](youdaonote-images/WEBRESOURCEa73ca945b67fe9ad9264e86aa93f3a95.png)

è€Œä»¥åæˆ‘ä»¬åœ¨é¡µé¢åˆ é™¤æ•°æ®æ—¶å€™å¦‚ä¸‹å›¾æ¯ä¸€æ¡æ•°æ®åéƒ½æœ‰ åˆ é™¤ æŒ‰é’®ï¼Œæœ‰å¯èƒ½æ˜¯ç”¨æˆ·çš„ä¸€äº›è¯¯æ“

ä½œï¼Œæ‰€ä»¥å¯¹äºåˆ é™¤æ“ä½œéœ€è¦ç”¨æˆ·è¿›è¡Œå†æ¬¡ç¡®è®¤ï¼Œæ­¤æ—¶å°±éœ€è¦ç”¨åˆ° confirm() å‡½æ•°ã€‚

![](youdaonote-images/WEBRESOURCE7b98069a5a812f84d55ec7b620059a4a.png)

å®šæ—¶å™¨ä»£ç æ¼”ç¤ºï¼š

```javascript
setTimeout(function (){
 Â  Â alert("hehe");
},3000);
```

å½“æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ï¼Œ3ç§’åæ‰ä¼šå¼¹æ¡†è¾“å‡º heheï¼Œå¹¶ä¸”åªä¼šå¼¹å‡ºä¸€æ¬¡ã€‚

```javascript
setInterval(function (){
 Â  Â alert("hehe");
},2000);
```

å½“æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ï¼Œæ¯éš”2ç§’éƒ½ä¼šå¼¹æ¡†è¾“å‡º heheã€‚

### 2ã€Historyå¯¹è±¡

History å¯¹è±¡æ˜¯ JavaScript å¯¹å†å²è®°å½•è¿›è¡Œå°è£…çš„å¯¹è±¡ã€‚

- History å¯¹è±¡çš„è·å–

ä½¿ç”¨ window.historyè·å–ï¼Œå…¶ä¸­window. å¯ä»¥çœç•¥

- History å¯¹è±¡çš„å‡½æ•°

![](youdaonote-images/WEBRESOURCE807d08ad53f9dcdfacc8ed94f78cb6c1.png)

è¿™ä¸¤ä¸ªå‡½æ•°æˆ‘ä»¬å¹³æ—¶åœ¨è®¿é—®å…¶ä»–çš„ä¸€äº›ç½‘ç«™æ—¶ç»å¸¸ä½¿ç”¨å¯¹åº”çš„æ•ˆæœï¼Œå¦‚ä¸‹å›¾

![](youdaonote-images/WEBRESOURCE7b390f68ffc62d8339f9a10f93bcf488.png)

å½“æˆ‘ä»¬ç‚¹å‡»å‘å·¦çš„ç®­å¤´ï¼Œå°±è·³è½¬åˆ°å‰ä¸€ä¸ªè®¿é—®çš„é¡µé¢ï¼Œè¿™å°±æ˜¯ back() å‡½æ•°çš„ä½œç”¨ï¼›å½“æˆ‘ä»¬ç‚¹å‡»å‘å³çš„

ç®­å¤´ï¼Œå°±è·³è½¬åˆ°ä¸‹ä¸€ä¸ªè®¿é—®çš„é¡µé¢ï¼Œè¿™å°±æ˜¯ forward() å‡½æ•°çš„ä½œç”¨ã€‚

### 3ã€Locationå¯¹è±¡

![](youdaonote-images/WEBRESOURCE8d4e8e5b4ae45994bb1c94562ba689b6.png)

Location å¯¹è±¡æ˜¯ JavaScript å¯¹åœ°å€æ å°è£…çš„å¯¹è±¡ã€‚å¯ä»¥é€šè¿‡æ“ä½œè¯¥å¯¹è±¡ï¼Œè·³è½¬åˆ°ä»»æ„é¡µé¢ã€‚

#### Aã€è·å–Locationå¯¹è±¡

ä½¿ç”¨ window.locationè·å–ï¼Œå…¶ä¸­window. å¯ä»¥çœç•¥

```javascript
window.location.æ–¹æ³•();
location.æ–¹æ³•();
```

#### Bã€Locationå¯¹è±¡å±æ€§

Locationå¯¹è±¡æä¾›äº†å¾ˆå¯¹å±æ€§ã€‚ä»¥åå¸¸ç”¨çš„åªæœ‰ä¸€ä¸ªå±æ€§ href

![](youdaonote-images/WEBRESOURCE6fb9b152df84152efd2b84f9461b6a99.png)

ä»£ç æ¼”ç¤ºï¼š

```javascript
alert("è¦è·³è½¬äº†");
location.href = "https://www.baidu.com";
```

åœ¨æµè§ˆå™¨é¦–å…ˆä¼šå¼¹æ¡†æ˜¾ç¤º è¦è·³è½¬äº†ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»äº† ç¡®å®š å°±ä¼šè·³è½¬åˆ° ç™¾åº¦ çš„é¦–é¡µã€‚

## å…­ã€DOM

### 1ã€æ¦‚è¿°

DOMï¼šDocument Object Model æ–‡æ¡£å¯¹è±¡æ¨¡å‹ã€‚ä¹Ÿå°±æ˜¯ JavaScript å°† HTML æ–‡æ¡£çš„å„ä¸ªç»„æˆéƒ¨åˆ†å°

è£…ä¸ºå¯¹è±¡ã€‚

DOM å…¶å®æˆ‘ä»¬å¹¶ä¸é™Œç”Ÿï¼Œä¹‹å‰åœ¨å­¦ä¹  XML å°±æ¥è§¦è¿‡ï¼Œåªä¸è¿‡ XML æ–‡æ¡£ä¸­çš„æ ‡ç­¾éœ€è¦æˆ‘ä»¬å†™ä»£ç è§£

æï¼Œè€Œ HTML æ–‡æ¡£æ˜¯æµè§ˆå™¨è§£æã€‚å°è£…çš„å¯¹è±¡åˆ†ä¸º

- Documentï¼šæ•´ä¸ªæ–‡æ¡£å¯¹è±¡

- Elementï¼šå…ƒç´ å¯¹è±¡

- Attributeï¼šå±æ€§å¯¹è±¡

- Textï¼šæ–‡æœ¬å¯¹è±¡

- Commentï¼šæ³¨é‡Šå¯¹è±¡

å¦‚ä¸‹å›¾ï¼Œå·¦è¾¹æ˜¯ HTML æ–‡æ¡£å†…å®¹ï¼Œå³è¾¹æ˜¯ DOM æ ‘

![](youdaonote-images/WEBRESOURCEf5b73bb1839f2c2e761d8985acd3ac03.png)

ä½œç”¨ï¼š

JavaScript é€šè¿‡ DOMï¼Œ å°±èƒ½å¤Ÿå¯¹ HTMLè¿›è¡Œæ“ä½œäº†

- æ”¹å˜ HTML å…ƒç´ çš„å†…å®¹

- æ”¹å˜ HTML å…ƒç´ çš„æ ·å¼ï¼ˆCSSï¼‰

- å¯¹ HTML DOM äº‹ä»¶ä½œå‡ºååº”

- æ·»åŠ å’Œåˆ é™¤ HTML å…ƒç´ 

DOMç›¸å…³æ¦‚å¿µï¼š

DOM æ˜¯ W3Cï¼ˆä¸‡ç»´ç½‘è”ç›Ÿï¼‰å®šä¹‰äº†è®¿é—® HTML å’Œ XML æ–‡æ¡£çš„æ ‡å‡†ã€‚è¯¥æ ‡å‡†è¢«åˆ†ä¸º 3 ä¸ªä¸åŒçš„

éƒ¨åˆ†ï¼š

1. æ ¸å¿ƒ DOMï¼šé’ˆå¯¹ä»»ä½•ç»“æ„åŒ–æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹ã€‚ XML å’Œ HTML é€šç”¨çš„æ ‡å‡†

- Documentï¼šæ•´ä¸ªæ–‡æ¡£å¯¹è±¡

- Elementï¼šå…ƒç´ å¯¹è±¡

- Attributeï¼šå±æ€§å¯¹è±¡

- Textï¼šæ–‡æœ¬å¯¹è±¡

- Commentï¼šæ³¨é‡Šå¯¹è±¡

1. XML DOMï¼š é’ˆå¯¹ XML æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹

1. HTML DOMï¼š é’ˆå¯¹ HTML æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹

è¯¥æ ‡å‡†æ˜¯åœ¨æ ¸å¿ƒ DOM åŸºç¡€ä¸Šï¼Œå¯¹ HTML ä¸­çš„æ¯ä¸ªæ ‡ç­¾éƒ½å°è£…æˆäº†ä¸åŒçš„å¯¹è±¡

- ä¾‹å¦‚ï¼š

<img> æ ‡ç­¾åœ¨æµè§ˆå™¨åŠ è½½åˆ°å†…å­˜ä¸­æ—¶ä¼šè¢«å°è£…æˆ Image å¯¹è±¡ï¼ŒåŒæ—¶è¯¥å¯¹è±¡ä¹Ÿæ˜¯ Element å¯¹

è±¡ã€‚

- ä¾‹å¦‚ï¼š

<input type='button'> æ ‡ç­¾åœ¨æµè§ˆå™¨åŠ è½½åˆ°å†…å­˜ä¸­æ—¶ä¼šè¢«å°è£…æˆ Button å¯¹è±¡ï¼ŒåŒæ—¶è¯¥å¯¹è±¡ä¹Ÿ

æ˜¯ Element å¯¹è±¡ã€‚

### 2ã€è·å– Elementå¯¹è±¡

HTML ä¸­çš„ Element å¯¹è±¡å¯ä»¥é€šè¿‡ Document å¯¹è±¡è·å–ï¼Œè€Œ Document å¯¹è±¡æ˜¯é€šè¿‡ window å¯¹è±¡è·

å–ã€‚

Document å¯¹è±¡ä¸­æä¾›äº†ä»¥ä¸‹è·å– Element å…ƒç´ å¯¹è±¡çš„å‡½æ•°

- getElementById()ï¼šæ ¹æ®idå±æ€§å€¼è·å–ï¼Œè¿”å›å•ä¸ªElementå¯¹è±¡

- getElementsByTagName()ï¼šæ ¹æ®æ ‡ç­¾åç§°è·å–ï¼Œè¿”å›Elementå¯¹è±¡æ•°ç»„

- getElementsByName()ï¼šæ ¹æ®nameå±æ€§å€¼è·å–ï¼Œè¿”å›Elementå¯¹è±¡æ•°ç»„

- getElementsByClassName()ï¼šæ ¹æ®classå±æ€§å€¼è·å–ï¼Œè¿”å›Elementå¯¹è±¡æ•°ç»„

ä»£ç æ¼”ç¤ºï¼š

ä¸‹é¢æœ‰æå‰å‡†å¤‡å¥½çš„é¡µé¢ï¼š

```html
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â <img id="light" src="../imgs/off.gif"> <br>
â€‹
 Â  Â <div class="cls">ä¼ æ™ºæ•™è‚²</div> Â  <br>
 Â  Â <div class="cls">é»‘é©¬ç¨‹åºå‘˜</div> <br>
â€‹
 Â  Â <input type="checkbox" name="hobby"> ç”µå½±
 Â  Â <input type="checkbox" name="hobby"> æ—…æ¸¸
 Â  Â <input type="checkbox" name="hobby"> æ¸¸æˆ
 Â  Â <br>
 Â  Â <script>
        //åœ¨æ­¤å¤„ä¹¦å†™jsä»£ç 
 Â  Â </script>
</body>
</html>
```

1. æ ¹æ® id å±æ€§å€¼è·å–ä¸Šé¢çš„ img å…ƒç´ å¯¹è±¡ï¼Œè¿”å›å•ä¸ªå¯¹è±¡

```javascript
var img = document.getElementById("light");
alert(img);
```

ç»“æœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEff5346658e7c10f1234c96bb391fd29a.png)

ä»å¼¹æ¡†è¾“å‡ºçš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥çœ‹å‡ºæ˜¯ä¸€ä¸ªå›¾ç‰‡å…ƒç´ å¯¹è±¡ã€‚

1. æ ¹æ®æ ‡ç­¾åç§°è·å–æ‰€æœ‰çš„ div å…ƒç´ å¯¹è±¡

```javascript
var divs = document.getElementsByTagName("div");// è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯ div å…ƒç´ å¯¹è±¡
// alert(divs.length);  //è¾“å‡º æ•°ç»„çš„é•¿åº¦
//éå†æ•°ç»„
for (let i = 0; i < divs.length; i++) {
 Â  Â alert(divs[i]);
}
```

1. è·å–æ‰€æœ‰çš„æ»¡è¶³ name = 'hobby' æ¡ä»¶çš„å…ƒç´ å¯¹è±¡

```javascript
//3. getElementsByNameï¼šæ ¹æ®nameå±æ€§å€¼è·å–ï¼Œè¿”å›Elementå¯¹è±¡æ•°ç»„
var hobbys = document.getElementsByName("hobby");
for (let i = 0; i < hobbys.length; i++) {
 Â  Â alert(hobbys[i]);
}
```

1. è·å–æ‰€æœ‰çš„æ»¡è¶³ class='cls' æ¡ä»¶çš„å…ƒç´ å¯¹è±¡

```javascript
//4. getElementsByClassNameï¼šæ ¹æ®classå±æ€§å€¼è·å–ï¼Œè¿”å›Elementå¯¹è±¡æ•°ç»„
var clss = document.getElementsByClassName("cls");
for (let i = 0; i < clss.length; i++) {
 Â  Â alert(clss[i]);
}
```

### 3ã€HTML Elementå¯¹è±¡ä½¿ç”¨

HTML ä¸­çš„ Element å…ƒç´ å¯¹è±¡æœ‰å¾ˆå¤šï¼Œä¸å¯èƒ½å…¨éƒ¨è®°ä½ï¼Œä»¥åæ˜¯æ ¹æ®å…·ä½“çš„éœ€æ±‚æŸ¥é˜…æ–‡æ¡£ä½¿ç”¨ã€‚

ä¸‹é¢æˆ‘ä»¬é€šè¿‡å…·ä½“çš„æ¡ˆä¾‹æ¼”ç¤ºæ–‡æ¡£çš„æŸ¥è¯¢å’Œå¯¹è±¡çš„ä½¿ç”¨ï¼›ä¸‹é¢æå‰ç»™å¤§å®¶å‡†å¤‡å¥½çš„é¡µé¢

```html
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â <img id="light" src="../imgs/off.gif"> <br>
â€‹
 Â  Â <div class="cls">ä¼ æ™ºæ•™è‚²</div> Â  <br>
 Â  Â <div class="cls">é»‘é©¬ç¨‹åºå‘˜</div> <br>
â€‹
 Â  Â <input type="checkbox" name="hobby"> ç”µå½±
 Â  Â <input type="checkbox" name="hobby"> æ—…æ¸¸
 Â  Â <input type="checkbox" name="hobby"> æ¸¸æˆ
 Â  Â <br>
 Â  Â <script>
 Â  Â  Â  Â //åœ¨æ­¤å¤„å†™jsä»£ç 
 Â  Â </script>
</body>
</html>
```

éœ€æ±‚ï¼š

1. ç‚¹äº®ç¯æ³¡

æ­¤æ¡ˆä¾‹ç”±äºéœ€è¦æ”¹å˜ img æ ‡ç­¾ çš„å›¾ç‰‡ï¼Œæ‰€ä»¥æˆ‘ä»¬æŸ¥è¯¢æ–‡æ¡£ï¼Œä¸‹å›¾æ˜¯æŸ¥çœ‹æ–‡æ¡£çš„æµç¨‹ï¼š

![](youdaonote-images/WEBRESOURCE26f1b8662fded4344b408906a10d0052.png)

ä»£ç å®ç°ï¼š

```javascript
//1ï¼Œæ ¹æ® id='light' è·å– img å…ƒç´ å¯¹è±¡
var img = document.getElementById("light");
//2ï¼Œä¿®æ”¹ img å¯¹è±¡çš„ src å±æ€§æ¥æ”¹å˜å›¾ç‰‡
img.src = "../imgs/on.gif";
```

1. å°†æ‰€æœ‰çš„ div æ ‡ç­¾çš„æ ‡ç­¾ä½“å†…å®¹æ›¿æ¢ä¸º å‘µå‘µ

```javascript
//1ï¼Œè·å–æ‰€æœ‰çš„ div å…ƒç´ å¯¹è±¡
var divs = document.getElementsByTagName("div");
/*
 Â  Â  Â   style:è®¾ç½®å…ƒç´ cssæ ·å¼
 Â  Â  Â   innerHTMLï¼šè®¾ç½®å…ƒç´ å†…å®¹
 Â   */
//2ï¼Œéå†æ•°ç»„ï¼Œè·å–åˆ°æ¯ä¸€ä¸ª div å…ƒç´ å¯¹è±¡ï¼Œå¹¶ä¿®æ”¹å…ƒç´ å†…å®¹
for (let i = 0; i < divs.length; i++) {
 Â  Â //divs[i].style.color = 'red';
 Â  Â divs[i].innerHTML = "å‘µå‘µ";
}
```

1. ä½¿æ‰€æœ‰çš„å¤é€‰æ¡†å‘ˆç°è¢«é€‰ä¸­çš„çŠ¶æ€

æ­¤æ¡ˆä¾‹æˆ‘ä»¬éœ€è¦çœ‹ å¤é€‰æ¡† å…ƒç´ å¯¹è±¡æœ‰ä»€ä¹ˆå±æ€§æˆ–è€…å‡½æ•°æ˜¯æ¥æ“ä½œ å¤é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€ã€‚ä¸‹å›¾æ˜¯æ–‡

æ¡£çš„æŸ¥çœ‹

![](youdaonote-images/WEBRESOURCEa6de2f158500bee1117aed68f773a9da.png)

ä»£ç å®ç°ï¼š

```javascript
//1ï¼Œè·å–æ‰€æœ‰çš„ å¤é€‰æ¡† å…ƒç´ å¯¹è±¡
var hobbys = document.getElementsByName("hobby");
//2ï¼Œéå†æ•°ç»„ï¼Œé€šè¿‡å°† å¤é€‰æ¡† å…ƒç´ å¯¹è±¡çš„ checked å±æ€§å€¼è®¾ç½®ä¸º true æ¥æ”¹å˜å¤é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€
for (let i = 0; i < hobbys.length; i++) {
 Â  Â hobbys[i].checked = true;
}
```

## ä¸ƒã€äº‹ä»¶ç›‘å¬

è¦æƒ³çŸ¥é“ä»€ä¹ˆæ˜¯äº‹ä»¶ç›‘å¬ï¼Œé¦–å…ˆå…ˆèŠèŠä»€ä¹ˆæ˜¯äº‹ä»¶ï¼Ÿ

HTML äº‹ä»¶æ˜¯å‘ç”Ÿåœ¨ HTML å…ƒç´ ä¸Šçš„â€œäº‹æƒ…â€ã€‚æ¯”å¦‚ï¼šé¡µé¢ä¸Šçš„ æŒ‰é’®è¢«ç‚¹å‡»ã€é¼ æ ‡ç§»åŠ¨åˆ°å…ƒç´ ä¹‹ä¸Šã€æŒ‰ä¸‹é”®

ç›˜æŒ‰é”® ç­‰éƒ½æ˜¯äº‹ä»¶ã€‚

äº‹ä»¶ç›‘å¬æ˜¯JavaScript å¯ä»¥åœ¨äº‹ä»¶è¢«ä¾¦æµ‹åˆ°æ—¶==æ‰§è¡Œä¸€æ®µé€»è¾‘ä»£ç ã€‚==ä¾‹å¦‚ä¸‹å›¾å½“æˆ‘ä»¬ç‚¹å‡» å¼€ç¯ æŒ‰é’®ï¼Œ

å°±éœ€è¦é€šè¿‡ js ä»£ç å®ç°æ›¿æ¢å›¾ç‰‡

![](youdaonote-images/WEBRESOURCE704d1d1a8695ce28be5791bea42a4d20.png)

å†æ¯”å¦‚ä¸‹å›¾è¾“å…¥æ¡†ï¼Œå½“æˆ‘ä»¬è¾“å…¥äº†ç”¨æˆ·å å…‰æ ‡ç¦»å¼€ è¾“å…¥æ¡†ï¼Œå°±éœ€è¦é€šè¿‡ js ä»£ç å¯¹è¾“å…¥çš„å†…å®¹è¿›è¡Œæ ¡éªŒï¼Œ

æ²¡é€šè¿‡æ ¡éªŒå°±åœ¨è¾“å…¥æ¡†åæç¤º ç”¨æˆ·åæ ¼å¼æœ‰è¯¯!

![](youdaonote-images/WEBRESOURCE198f57f85890bb53cc8eb3809f2e221f.png)

### 1ã€äº‹ä»¶ç»‘å®š

JavaScript æä¾›äº†ä¸¤ç§äº‹ä»¶ç»‘å®šæ–¹å¼ï¼š

- æ–¹å¼ä¸€ï¼šé€šè¿‡ HTMLæ ‡ç­¾ä¸­çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š

å¦‚ä¸‹é¢ä»£ç ï¼Œæœ‰ä¸€ä¸ªæŒ‰é’®å…ƒç´ ï¼Œæˆ‘ä»¬æ˜¯åœ¨è¯¥æ ‡ç­¾ä¸Šå®šä¹‰ äº‹ä»¶å±æ€§ï¼Œåœ¨äº‹ä»¶å±æ€§ä¸­ç»‘å®šå‡½æ•°ã€‚onclick 

å°±æ˜¯ å•å‡»äº‹ä»¶ çš„äº‹ä»¶å±æ€§ã€‚onclick='onï¼ˆï¼‰' è¡¨ç¤ºè¯¥ç‚¹å‡»äº‹ä»¶ç»‘å®šäº†ä¸€ä¸ªåä¸º on() çš„å‡½æ•°

```html
<input type="button" onclick='on()â€™>
```

ä¸‹é¢æ˜¯ç‚¹å‡»äº‹ä»¶ç»‘å®šçš„ on() å‡½æ•°

```javascript
function on(){
    alert("æˆ‘è¢«ç‚¹äº†");
}
```

- æ–¹å¼äºŒï¼šé€šè¿‡ DOM å…ƒç´ å±æ€§ç»‘å®š

å¦‚ä¸‹é¢ä»£ç æ˜¯æŒ‰é’®æ ‡ç­¾ï¼Œåœ¨è¯¥æ ‡ç­¾ä¸Šæˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨ äº‹ä»¶å±æ€§ï¼Œç»‘å®šäº‹ä»¶çš„æ“ä½œéœ€è¦åœ¨ js ä»£ç ä¸­å®ç°

```javascript
<input type="button" id="btn">
```

ä¸‹é¢ js ä»£ç æ˜¯è·å–äº† id='btn' çš„å…ƒç´ å¯¹è±¡ï¼Œç„¶åå°† onclick ä½œä¸ºè¯¥å¯¹è±¡çš„å±æ€§ï¼Œå¹¶ä¸”ç»‘å®šåŒ¿åå‡½æ•°ã€‚

è¯¥å‡½æ•°æ˜¯åœ¨äº‹ä»¶è§¦å‘åè‡ªåŠ¨æ‰§è¡Œ

```javascript
document.getElementById("btn").onclick = function (){
 Â  Â alert("æˆ‘è¢«ç‚¹äº†");
}
```

ä»£ç æ¼”ç¤ºï¼š

```html
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â <!--æ–¹å¼1ï¼šåœ¨ä¸‹é¢inputæ ‡ç­¾ä¸Šæ·»åŠ  onclick å±æ€§ï¼Œå¹¶ç»‘å®š on() å‡½æ•°-->
 Â  Â <input type="button" value="ç‚¹æˆ‘" onclick="on()"> <br>
 Â  Â <input type="button" value="å†ç‚¹æˆ‘" id="btn">
â€‹
 Â  Â <script>
 Â  Â  Â  Â function on(){
 Â  Â  Â  Â  Â  Â alert("æˆ‘è¢«ç‚¹äº†");
 Â  Â  Â   }
 Â  Â     //æ–¹å¼2ï¼šè·å– id="btn" å…ƒç´ å¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨ onclick å±æ€§ ç»‘å®šç‚¹å‡»äº‹ä»¶
 Â  Â  Â  Â document.getElementById("btn").onclick = function (){
 Â  Â  Â  Â  Â  Â alert("æˆ‘è¢«ç‚¹äº†");
 Â  Â  Â   }
 Â  Â </script>
</body>
</html>
```

### 2ã€å¸¸è§äº‹ä»¶

ä¸Šé¢æ¡ˆä¾‹ä¸­ä½¿ç”¨åˆ°äº† onclick äº‹ä»¶å±æ€§ï¼Œé‚£éƒ½æœ‰å“ªäº›äº‹ä»¶å±æ€§ä¾›æˆ‘ä»¬ä½¿ç”¨å‘¢ï¼Ÿä¸‹é¢å°±ç»™å¤§å®¶åˆ—ä¸¾ä¸€äº›

æ¯”è¾ƒå¸¸ç”¨çš„äº‹ä»¶å±æ€§

| äº‹ä»¶å±æ€§å | è¯´æ˜ |
| - | - |
| onclick | é¼ æ ‡å•å‡»äº‹ä»¶ |
| onblur | å…ƒç´ å¤±å»ç„¦ç‚¹ |
| onfocus | å…ƒç´ è·å¾—ç„¦ç‚¹ |
| onload | æŸä¸ªé¡µé¢æˆ–å›¾åƒè¢«å®ŒæˆåŠ è½½ |
| onsubmit | å½“è¡¨å•æäº¤æ—¶è§¦å‘è¯¥äº‹ä»¶ |
| onmouseover | é¼ æ ‡è¢«ç§»åˆ°æŸå…ƒç´ ä¹‹ä¸Š |
| onmouseout | é¼ æ ‡ä»æŸå…ƒç´ ç§»å¼€ |


- onfocus

 		è·å¾—ç„¦ç‚¹äº‹ä»¶ã€‚

å¦‚ä¸‹å›¾ï¼Œå½“ç‚¹å‡»äº†è¾“å…¥æ¡†åï¼Œè¾“å…¥æ¡†å°±è·å¾—äº†ç„¦ç‚¹ã€‚è€Œä¸‹å›¾ç¤ºä¾‹æ˜¯å½“è·å–ç„¦ç‚¹åä¼šæ›´æ”¹è¾“å…¥æ¡†çš„èƒŒæ™¯	

é¢œè‰²ã€‚

![](youdaonote-images/WEBRESOURCEb8a881b1489ecbaaebb1323864d0e4c7.png)

- onblur

 å¤±å»ç„¦ç‚¹äº‹ä»¶ã€‚

å¦‚ä¸‹å›¾ï¼Œå½“ç‚¹å‡»äº†è¾“å…¥æ¡†åï¼Œè¾“å…¥æ¡†å°±è·å¾—äº†ç„¦ç‚¹ï¼›å†ç‚¹å‡»é¡µé¢å…¶ä»–ä½ç½®ï¼Œé‚£è¾“å…¥æ¡†å°±å¤±å»ç„¦ç‚¹äº†ã€‚

ä¸‹å›¾ç¤ºä¾‹æ˜¯å°†è¾“å…¥çš„æ–‡æœ¬è½¬æ¢ä¸ºå¤§å†™ã€‚

![](youdaonote-images/WEBRESOURCE669743c258e4fb02489f96fa406ab27d.png)

- onmouseout

 é¼ æ ‡ç§»å‡ºäº‹ä»¶ã€‚

- onmouseover

 é¼ æ ‡ç§»å…¥äº‹ä»¶ã€‚

å¦‚ä¸‹å›¾ï¼Œå½“é¼ æ ‡ç§»å…¥åˆ° è‹¹æœ å›¾ç‰‡ä¸Šæ—¶ï¼Œè‹¹æœå›¾ç‰‡å˜å¤§ï¼›å½“é¼ æ ‡ç§»å‡º è‹¹æœå›¾ç‰‡æ—¶ï¼Œè‹¹æœå›¾ç‰‡å˜å°ã€‚

![](youdaonote-images/WEBRESOURCE48995db53b6e03d90f7b150438e6be7d.png)

- onsubmit

è¡¨å•æäº¤äº‹ä»¶

å¦‚ä¸‹æ˜¯å¸¦æœ‰è¡¨å•çš„é¡µé¢

```html
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â <form id="register" action="#" >
 Â  Â  Â  Â <input type="text" name="username" />
 Â  Â  Â  Â <input type="submit" value="æäº¤">
 Â  Â </form>
 Â  Â <script>
 Â  Â  Â  Â 
 Â  Â </script>
</body>
</html>
```

å¦‚ä¸Šä»£ç çš„è¡¨å•ï¼Œå½“æˆ‘ä»¬ç‚¹å‡» æäº¤ æŒ‰é’®åï¼Œè¡¨å•å°±ä¼šæäº¤ï¼Œæ­¤å¤„é»˜è®¤ä½¿ç”¨çš„æ˜¯ GET æäº¤æ–¹å¼ï¼Œä¼šå°†

æäº¤çš„æ•°æ®æ‹¼æ¥åˆ° URL åã€‚ç°éœ€è¦é€šè¿‡ js ä»£ç å®ç°é˜»æ­¢è¡¨å•æäº¤çš„åŠŸèƒ½ï¼Œjs ä»£ç å®ç°å¦‚ä¸‹ï¼š

1. è·å– form è¡¨å•å…ƒç´ å¯¹è±¡ã€‚

1. ç»™ form è¡¨å•å…ƒç´ å¯¹è±¡ç»‘å®š onsubmit äº‹ä»¶ï¼Œå¹¶ç»‘å®šåŒ¿åå‡½æ•°ã€‚

1. è¯¥åŒ¿åå‡½æ•°å¦‚æœè¿”å›çš„æ˜¯trueï¼Œæäº¤è¡¨å•ï¼›å¦‚æœè¿”å›çš„æ˜¯falseï¼Œé˜»æ­¢è¡¨å•æäº¤ã€‚

```javascript
document.getElementById("register").onsubmit = function (){
 Â  Â //onsubmit è¿”å›trueï¼Œåˆ™è¡¨å•ä¼šè¢«æäº¤ï¼Œè¿”å›falseï¼Œåˆ™è¡¨å•ä¸æäº¤
 Â  Â return true;
}
```

## å…«ã€RegExpå¯¹è±¡

RegExp æ˜¯æ­£åˆ™å¯¹è±¡ã€‚æ­£åˆ™å¯¹è±¡æ˜¯åˆ¤æ–­æŒ‡å®šå­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆè§„åˆ™ã€‚

å¦‚ä¸‹å›¾æ˜¯ç™¾åº¦è´´å§ä¸­çš„å¸–å­

![](youdaonote-images/WEBRESOURCEedfdd0b38114a5364961f0a16ee1abf5.png)

æˆ‘ä»¬å¯ä»¥é€šè¿‡çˆ¬è™«æŠ€æœ¯å»çˆ¬å–è¯¥é¡µé¢æºä»£ç ï¼Œç„¶åè·å–é¡µé¢ä¸­æ‰€æœ‰çš„é‚®ç®±ï¼ŒåæœŸæˆ‘ä»¬å¯ä»¥ç»™è¿™äº›é‚®ç®±åœ°å€	

å‘é€æ¨å¹¿çš„é‚®ä»¶ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•æ‰èƒ½çŸ¥é“é¡µé¢å†…å®¹ä¸­å“ªäº›äº‹é‚®ç®±åœ°å€å‘¢ï¼Ÿè¿™é‡Œå°±å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾

å¼æ¥åŒ¹é…é‚®ç®±ã€‚

åœ¨ js ä¸­å¯¹æ­£åˆ™è¡¨è¾¾å¼å°è£…çš„å¯¹è±¡å°±æ˜¯æ­£åˆ™å¯¹è±¡ã€‚

### 1ã€æ­£åˆ™å¯¹è±¡ä½¿ç”¨

#### Aã€åˆ›å»ºå¯¹è±¡

æ­£åˆ™å¯¹è±¡æœ‰ä¸¤ç§åˆ›å»ºæ–¹å¼ï¼š

- ç›´æ¥é‡æ–¹å¼ï¼šæ³¨æ„ä¸è¦åŠ å¼•å·

```javascript
var reg = /æ­£åˆ™è¡¨è¾¾å¼/;
```

- åˆ›å»º RegExp å¯¹è±¡

```javascript
var reg = new RegExp("æ­£åˆ™è¡¨è¾¾å¼");
```

#### Bã€å‡½æ•°

test(str) ï¼šåˆ¤æ–­æŒ‡å®šå­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆè§„åˆ™ï¼Œè¿”å› trueæˆ– false

### 2ã€æ­£åˆ™è¡¨è¾¾å¼

ä»ä¸Šé¢åˆ›å»ºæ­£åˆ™å¯¹è±¡çš„æ ¼å¼ä¸­å¯ä»¥çœ‹å‡ºä¸ç®¡å“ªç§æ–¹å¼éƒ½éœ€è¦æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼å‘¢ï¼Ÿ

æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰äº†å­—ç¬¦ä¸²ç»„æˆçš„è§„åˆ™ã€‚ä¹Ÿå°±æ˜¯åˆ¤æ–­æŒ‡å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆæŒ‡å®šçš„è§„åˆ™ï¼Œå¦‚æœç¬¦åˆè¿”å›

trueï¼Œå¦‚æœä¸ç¬¦åˆè¿”å›falseã€‚

æ­£åˆ™è¡¨è¾¾å¼æ˜¯å’Œè¯­è¨€æ— å…³çš„ã€‚å¾ˆå¤šè¯­è¨€éƒ½æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼ŒJavaè¯­è¨€ä¹Ÿæ”¯æŒï¼Œåªä¸è¿‡æ­£åˆ™è¡¨è¾¾å¼åœ¨ä¸

åŒçš„è¯­è¨€ä¸­çš„ä½¿ç”¨æ–¹å¼ä¸åŒï¼Œjs ä¸­éœ€è¦ä½¿ç”¨æ­£åˆ™å¯¹è±¡æ¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚

æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨çš„è§„åˆ™å¦‚ä¸‹ï¼š

- ^ï¼šè¡¨ç¤ºå¼€å§‹

- $ï¼šè¡¨ç¤ºç»“æŸ

- [ ]ï¼šä»£è¡¨æŸä¸ªèŒƒå›´å†…çš„å•ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚ï¼š [0-9] å•ä¸ªæ•°å­—å­—ç¬¦

- .ï¼šä»£è¡¨ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œé™¤äº†æ¢è¡Œå’Œè¡Œç»“æŸç¬¦

- \wï¼šä»£è¡¨å•è¯å­—ç¬¦ï¼šå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿()ï¼Œç›¸å½“äº [A-Za-z0-9]

- \dï¼šä»£è¡¨æ•°å­—å­—ç¬¦ï¼š ç›¸å½“äº [0-9]

é‡è¯ï¼š

- +ï¼šè‡³å°‘ä¸€ä¸ª

- *ï¼šé›¶ä¸ªæˆ–å¤šä¸ª

- ï¼Ÿï¼šé›¶ä¸ªæˆ–ä¸€ä¸ª

- {x}ï¼šxä¸ª

- {m,}ï¼šè‡³å°‘mä¸ª

- {m,n}ï¼šè‡³å°‘mä¸ªï¼Œæœ€å¤šnä¸ª

ä»£ç æ¼”ç¤ºï¼š

```java
// è§„åˆ™ï¼šå•è¯å­—ç¬¦ï¼Œ6~12
//1,åˆ›å»ºæ­£åˆ™å¯¹è±¡ï¼Œå¯¹æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œå°è£…
var reg = /^\w{6,12}$/;
â€‹
var str = "abcccc";
//2,åˆ¤æ–­ str å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆ reg å°è£…çš„æ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™
var flag = reg.test(str);
alert(flag);
```

## ä¹ã€ç»¼åˆæ¡ˆä¾‹

[ç»¼åˆæ¡ˆä¾‹.zip](youdaonote-attachments/WEBRESOURCE4d76b53830b8797ae7d3d8bb699e3ca1ç»¼åˆæ¡ˆä¾‹.zip)

# Webæ¦‚è¿°

## ä¸€ã€Webå’ŒJavaWebçš„æ¦‚å¿µ

==Webæ˜¯å…¨çƒå¹¿åŸŸç½‘ï¼Œä¹Ÿç§°ä¸ºä¸‡ç»´ç½‘(www)ï¼Œèƒ½å¤Ÿé€šè¿‡æµè§ˆå™¨è®¿é—®çš„ç½‘ç«™ã€‚==åœ¨æˆ‘ä»¬æ—¥å¸¸çš„ç”Ÿæ´»ä¸­ï¼Œç»å¸¸

ä¼šä½¿ç”¨æµè§ˆå™¨å»è®¿é—®ç™¾åº¦ã€äº¬ä¸œã€ä¼ æ™ºå®˜ç½‘ç­‰è¿™äº›ç½‘ç«™ï¼Œè¿™äº›ç½‘ç«™ç»Ÿç§°ä¸ºWebç½‘ç«™ã€‚

## äºŒã€JavaWebæŠ€æœ¯æ ˆ

### 1ã€B/Sæ¶æ„

	ä»€ä¹ˆæ˜¯B/Sæ¶æ„?

B/S æ¶æ„ï¼šBrowser/Serverï¼Œæµè§ˆå™¨/æœåŠ¡å™¨ æ¶æ„æ¨¡å¼ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼Œå®¢æˆ·ç«¯åªéœ€è¦æµè§ˆå™¨ï¼Œåº”ç”¨

ç¨‹åºçš„é€»è¾‘å’Œæ•°æ®éƒ½å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ã€‚æµè§ˆå™¨åªéœ€è¦è¯·æ±‚æœåŠ¡å™¨ï¼Œè·å–Webèµ„æºï¼ŒæœåŠ¡å™¨æŠŠWeb

èµ„æºå‘é€ç»™æµè§ˆå™¨å³å¯ã€‚å¤§å®¶å¯ä»¥é€šè¿‡ä¸‹é¢è¿™å¼ å›¾æ¥å›æƒ³ä¸‹æˆ‘ä»¬å¹³å¸¸çš„ä¸Šç½‘è¿‡ç¨‹:

![](youdaonote-images/WEBRESOURCEa5c0c662b931bb1b16819c8a16a3dcba.png)

### 2ã€é™æ€èµ„æº

- é™æ€èµ„æºä¸»è¦åŒ…å«HTMLã€CSSã€JavaScriptã€å›¾ç‰‡ç­‰ï¼Œä¸»è¦è´Ÿè´£é¡µé¢çš„å±•ç¤ºã€‚

- æˆ‘ä»¬ä¹‹å‰å·²ç»å­¦è¿‡å‰ç«¯ç½‘é¡µåˆ¶ä½œä¸‰å‰‘å®¢(HTML+CSS+JavaScript),ä½¿ç”¨è¿™äº›æŠ€æœ¯æˆ‘ä»¬å°±å¯ä»¥åˆ¶ä½œå‡ºæ•ˆæœæ¯”è¾ƒä¸°å¯Œçš„ç½‘é¡µï¼Œå°†æ¥å±•ç°ç»™ç”¨æˆ·ã€‚ä½†æ˜¯ç”±äºåšå‡ºæ¥çš„è¿™äº›å†…å®¹éƒ½æ˜¯é™æ€çš„ï¼Œè¿™å°±ä¼šå¯¼è‡´æ‰€æœ‰çš„äººçœ‹åˆ°çš„å†…å®¹å°†æ˜¯ä¸€æ¨¡ä¸€æ ·ã€‚

- åœ¨æ—¥å¸¸ä¸Šç½‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é™¤äº†çœ‹åˆ°è¿™äº›å¥½çœ‹çš„é¡µé¢ä»¥å¤–ï¼Œè¿˜ä¼šç¢°åˆ°å¾ˆå¤šåŠ¨æ€å†…å®¹ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„ç™¾åº¦ç™»å½•æ•ˆæœ:

å¼ ä¸‰ç™»å½•ä»¥ååœ¨ç½‘é¡µçš„å³ä¸Šè§’çœ‹åˆ°çš„æ˜¯ å¼ ä¸‰ï¼Œè€Œæå››ç™»å½•ä»¥åçœ‹åˆ°çš„åˆ™æ˜¯æå››ã€‚æ‰€ä»¥ä¸åŒ

çš„ç”¨æˆ·è®¿é—®ç›¸åŒçš„èµ„æºçœ‹åˆ°çš„å†…å®¹å¤§å¤šæ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¦æƒ³å®ç°è¿™æ ·çš„æ•ˆæœï¼Œå…‰é é™æ€èµ„

æºæ˜¯æ— æ³•å®ç°çš„ã€‚

### 3ã€åŠ¨æ€èµ„æº

- åŠ¨æ€èµ„æºä¸»è¦åŒ…å«Servletã€JSPç­‰ï¼Œä¸»è¦ç”¨æ¥è´Ÿè´£é€»è¾‘å¤„ç†ã€‚

- åŠ¨æ€èµ„æºå¤„ç†å®Œé€»è¾‘åä¼šæŠŠå¾—åˆ°çš„ç»“æœäº¤ç»™é™æ€èµ„æºæ¥è¿›è¡Œå±•ç¤ºï¼ŒåŠ¨æ€èµ„æºå’Œé™æ€èµ„æºè¦ç»“åˆä¸€èµ·ä½¿ç”¨ã€‚

- åŠ¨æ€èµ„æºè™½ç„¶å¯ä»¥å¤„ç†é€»è¾‘ï¼Œä½†æ˜¯å½“ç”¨æˆ·æ¥ç™»å½•ç™¾åº¦çš„æ—¶å€™ï¼Œå°±éœ€è¦è¾“å…¥

ç”¨æˆ·åå’Œå¯†ç ,è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±åˆéœ€è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œç”¨æˆ·åœ¨æ³¨å†Œçš„æ—¶å€™å¡«å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€ä»¥

åŠæˆ‘ä»¬ç»å¸¸ä¼šè®¿é—®åˆ°ä¸€äº›æ•°æ®åˆ—è¡¨çš„å†…å®¹å±•ç¤º(å¦‚ä¸‹å›¾æ‰€ç¤º)ï¼Œè¿™äº›æ•°æ®éƒ½å­˜å‚¨åœ¨å“ªé‡Œ?æˆ‘ä»¬éœ€è¦çš„æ—¶å€™

åˆæ˜¯ä»å“ªé‡Œæ¥å–å‘¢?

![](youdaonote-images/WEBRESOURCE7d59d02ad88f9205f43e521cfe58957d.png)

### 4ã€æ•°æ®åº“

- æ•°æ®åº“ä¸»è¦è´Ÿè´£å­˜å‚¨æ•°æ®ã€‚

- æ•´ä¸ªWebçš„è®¿é—®è¿‡ç¨‹å°±å¦‚ä¸‹å›¾æ‰€ç¤º:

![](youdaonote-images/WEBRESOURCEbdba59766554d35781778a5a1a3079ee.png)

(1)æµè§ˆå™¨å‘é€ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œå»è¯·æ±‚æ‰€éœ€è¦çš„ç›¸å…³èµ„æº;

(2)èµ„æºåˆ†ä¸ºåŠ¨æ€èµ„æºå’Œé™æ€èµ„æº,åŠ¨æ€èµ„æºå¯ä»¥æ˜¯ä½¿ç”¨Javaä»£ç æŒ‰ç…§Servletå’ŒJSPçš„è§„èŒƒç¼–å†™çš„å†…å®¹;

(3)åœ¨Javaä»£ç å¯ä»¥è¿›è¡Œä¸šåŠ¡å¤„ç†ä¹Ÿå¯ä»¥ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®;

(4)æ‹¿åˆ°æ•°æ®åï¼ŒæŠŠæ•°æ®äº¤ç»™HTMLé¡µé¢è¿›è¡Œå±•ç¤º,å†ç»“åˆCSSå’ŒJavaScriptä½¿å±•ç¤ºæ•ˆæœæ›´å¥½;

(5)æœåŠ¡ç«¯å°†é™æ€èµ„æºå“åº”ç»™æµè§ˆå™¨;

(6)æµè§ˆå™¨å°†è¿™äº›èµ„æºè¿›è¡Œè§£æ;

(7)è§£æåå°†æ•ˆæœå±•ç¤ºåœ¨æµè§ˆå™¨ï¼Œç”¨æˆ·å°±å¯ä»¥çœ‹åˆ°æœ€ç»ˆçš„ç»“æœã€‚

### 5ã€HTTPåè®®

- HTTPåè®®:ä¸»è¦å®šä¹‰é€šä¿¡è§„åˆ™

- æµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å“åº”æ•°æ®ç»™æµè§ˆå™¨ï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹éƒ½éœ€è¦éµå®ˆä¸€å®šçš„è§„åˆ™ï¼Œä¹‹å‰å¤§å®¶å­¦ä¹ è¿‡TCPã€UDPï¼Œè¿™äº›éƒ½å±äºè§„åˆ™ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ˜¯HTTPåè®®ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§è§„åˆ™ã€‚

### 6ã€WebæœåŠ¡å™¨

- WebæœåŠ¡å™¨:è´Ÿè´£è§£æ HTTP åè®®ï¼Œè§£æè¯·æ±‚æ•°æ®ï¼Œå¹¶å‘é€å“åº”æ•°æ®

- æµè§ˆå™¨æŒ‰ç…§HTTPåè®®å‘é€è¯·æ±‚å’Œæ•°æ®ï¼Œåå°å°±éœ€è¦ä¸€ä¸ªWebæœåŠ¡å™¨è½¯ä»¶æ¥æ ¹æ®HTTPåè®®è§£æè¯·æ±‚å’Œæ•°æ®ï¼Œç„¶åæŠŠå¤„ç†ç»“æœå†æŒ‰ç…§HTTPåè®®å‘é€ç»™æµè§ˆå™¨

# HTTP

## ä¸€ã€ç®€ä»‹

HTTPæ¦‚å¿µ

HyperText Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œè§„å®šäº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´==æ•°æ®ä¼ è¾“çš„è§„åˆ™==ã€‚

- æ•°æ®ä¼ è¾“çš„è§„åˆ™æŒ‡çš„æ˜¯è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®éœ€è¦æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼è¿›è¡Œä¼ è¾“ã€‚

- å¦‚æœæƒ³çŸ¥é“å…·ä½“çš„æ ¼å¼ï¼Œå¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œç‚¹å‡»F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»Networkæ¥æŸ¥çœ‹æŸä¸€æ¬¡è¯·æ±‚çš„è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®å…·ä½“çš„æ ¼å¼å†…å®¹ï¼Œ

HTTPåè®®ç‰¹ç‚¹

HTTPåè®®æœ‰å®ƒè‡ªå·±çš„ä¸€äº›ç‰¹ç‚¹ï¼Œåˆ†åˆ«æ˜¯:

- åŸºäºTCPåè®®: é¢å‘è¿æ¥ï¼Œå®‰å…¨

TCPæ˜¯ä¸€ç§é¢å‘è¿æ¥çš„(å»ºç«‹è¿æ¥ä¹‹å‰æ˜¯éœ€è¦ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹)ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡å

è®®ï¼Œåœ¨æ•°æ®ä¼ è¾“æ–¹é¢æ›´å®‰å…¨ã€‚

- åŸºäºè¯·æ±‚-å“åº”æ¨¡å‹çš„:ä¸€æ¬¡è¯·æ±‚å¯¹åº”ä¸€æ¬¡å“åº”

è¯·æ±‚å’Œå“åº”æ˜¯ä¸€ä¸€å¯¹åº”å…³ç³»

- HTTPåè®®æ˜¯æ— çŠ¶æ€åè®®:å¯¹äºäº‹ç‰©å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚æ¯æ¬¡è¯·æ±‚-å“åº”éƒ½æ˜¯ç‹¬ç«‹çš„

æ— çŠ¶æ€æŒ‡çš„æ˜¯å®¢æˆ·ç«¯å‘é€HTTPè¯·æ±‚ç»™æœåŠ¡ç«¯ä¹‹åï¼ŒæœåŠ¡ç«¯æ ¹æ®è¯·æ±‚å“åº”æ•°æ®ï¼Œå“åº”å®Œåï¼Œä¸ä¼šè®°å½•

ä»»ä½•ä¿¡æ¯ã€‚è¿™ç§ç‰¹æ€§æœ‰ä¼˜ç‚¹ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œ

- ç¼ºç‚¹:å¤šæ¬¡è¯·æ±‚é—´ä¸èƒ½å…±äº«æ•°æ®

- ä¼˜ç‚¹:é€Ÿåº¦å¿«

è¯·æ±‚ä¹‹é—´æ— æ³•å…±äº«æ•°æ®ä¼šå¼•å‘çš„é—®é¢˜ï¼Œå¦‚:

- äº¬ä¸œè´­ç‰©ï¼ŒåŠ å…¥è´­ç‰©è½¦å’Œå»è´­ç‰©è½¦ç»“ç®—æ˜¯ä¸¤æ¬¡è¯·æ±‚ï¼Œ

- HTTPåè®®çš„æ— çŠ¶æ€ç‰¹æ€§ï¼ŒåŠ å…¥è´­ç‰©è½¦è¯·æ±‚å“åº”ç»“æŸåï¼Œå¹¶æœªè®°å½•åŠ å…¥è´­ç‰©è½¦æ˜¯ä½•å•†å“

- å‘èµ·å»è´­ç‰©è½¦ç»“ç®—çš„è¯·æ±‚åï¼Œå› ä¸ºæ— æ³•è·å–å“ªäº›å•†å“åŠ å…¥äº†è´­ç‰©è½¦ï¼Œä¼šå¯¼è‡´æ­¤æ¬¡è¯·æ±‚æ— æ³•æ­£ç¡®å±•ç¤ºæ•°æ®

å…·ä½“ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°äº¬ä¸œæ˜¯å¯ä»¥æ­£å¸¸å±•ç¤ºæ•°æ®çš„ï¼ŒåŸå› æ˜¯Javaæ—©å·²è€ƒè™‘åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¹¶æå‡ºäº†

ä½¿ç”¨ä¼šè¯æŠ€æœ¯(Cookieã€Session)æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

## äºŒã€è¯·æ±‚æ•°æ®æ ¼å¼

### 1ã€æ ¼å¼ä»‹ç»

è¯·æ±‚æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼Œåˆ†åˆ«æ˜¯==è¯·æ±‚è¡Œ==ã€==è¯·æ±‚å¤´==ã€==è¯·æ±‚ä½“==

![](youdaonote-images/WEBRESOURCEa4aea99ed2f5eb3b1ec3aa8f5a009c22.png)

- è¯·æ±‚è¡Œ: HTTPè¯·æ±‚ä¸­çš„ç¬¬ä¸€è¡Œæ•°æ®ï¼Œè¯·æ±‚è¡ŒåŒ…å«ä¸‰å—å†…å®¹ï¼Œåˆ†åˆ«æ˜¯ GET[è¯·æ±‚æ–¹å¼] /[è¯·æ±‚URLè·¯å¾„] HTTP/1.1[HTTPåè®®åŠç‰ˆæœ¬]

è¯·æ±‚æ–¹å¼æœ‰ä¸ƒç§,æœ€å¸¸ç”¨çš„æ˜¯GETå’ŒPOST

- è¯·æ±‚å¤´: ç¬¬äºŒè¡Œå¼€å§‹ï¼Œæ ¼å¼ä¸ºkey: valueå½¢å¼

è¯·æ±‚å¤´ä¸­ä¼šåŒ…å«è‹¥å¹²ä¸ªå±æ€§ï¼Œå¸¸è§çš„HTTPè¯·æ±‚å¤´æœ‰:

```
Host: è¡¨ç¤ºè¯·æ±‚çš„ä¸»æœºå
User-Agent: æµè§ˆå™¨ç‰ˆæœ¬,ä¾‹å¦‚Chromeæµè§ˆå™¨çš„æ ‡è¯†ç±»ä¼¼Mozilla/5.0 ...Chrome/79ï¼ŒIEæµè§ˆå™¨çš„æ ‡è¯†ç±»ä¼¼Mozilla/5.0 (Windows NT ...)like Geckoï¼›
Acceptï¼šè¡¨ç¤ºæµè§ˆå™¨èƒ½æ¥æ”¶çš„èµ„æºç±»å‹ï¼Œå¦‚text/*ï¼Œimage/*æˆ–è€…*/*è¡¨ç¤ºæ‰€æœ‰ï¼›
Accept-Languageï¼šè¡¨ç¤ºæµè§ˆå™¨åå¥½çš„è¯­è¨€ï¼ŒæœåŠ¡å™¨å¯ä»¥æ®æ­¤è¿”å›ä¸åŒè¯­è¨€çš„ç½‘é¡µï¼›
Accept-Encodingï¼šè¡¨ç¤ºæµè§ˆå™¨å¯ä»¥æ”¯æŒçš„å‹ç¼©ç±»å‹ï¼Œä¾‹å¦‚gzip, deflateç­‰ã€‚
```

 ==è¿™äº›æ•°æ®æœ‰ä»€ä¹ˆç”¨å¤„?==

ä¸¾ä¾‹è¯´æ˜:æœåŠ¡ç«¯å¯ä»¥æ ¹æ®è¯·æ±‚å¤´ä¸­çš„å†…å®¹æ¥è·å–å®¢æˆ·ç«¯çš„ç›¸å…³ä¿¡æ¯ï¼Œæœ‰äº†è¿™äº›ä¿¡æ¯æœåŠ¡ç«¯å°±å¯ä»¥å¤„ç†ä¸åŒ	

çš„ä¸šåŠ¡éœ€æ±‚ï¼Œæ¯”å¦‚:

- ä¸åŒæµè§ˆå™¨è§£æHTMLå’ŒCSSæ ‡ç­¾çš„ç»“æœä¼šæœ‰ä¸ä¸€è‡´ï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´ç›¸åŒçš„ä»£ç åœ¨ä¸åŒçš„æµè§ˆå™¨ä¼šå‡ºç°ä¸åŒçš„æ•ˆæœ

- æœåŠ¡ç«¯æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚å¤´ä¸­çš„æ•°æ®è·å–åˆ°å®¢æˆ·ç«¯çš„æµè§ˆå™¨ç±»å‹ï¼Œå°±å¯ä»¥æ ¹æ®ä¸åŒçš„æµè§ˆå™¨è®¾ç½®ä¸åŒçš„ä»£ç æ¥è¾¾åˆ°ä¸€è‡´çš„æ•ˆæœ

- è¿™å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜

- è¯·æ±‚ä½“: POSTè¯·æ±‚çš„æœ€åä¸€éƒ¨åˆ†ï¼Œå­˜å‚¨è¯·æ±‚å‚æ•°

![](youdaonote-images/WEBRESOURCE9181e98130de25809684d761d1272c7c.png)

å¦‚ä¸Šå›¾çº¢çº¿æ¡†çš„å†…å®¹å°±æ˜¯è¯·æ±‚ä½“çš„å†…å®¹ï¼Œè¯·æ±‚ä½“å’Œè¯·æ±‚å¤´ä¹‹é—´æ˜¯æœ‰ä¸€ä¸ªç©ºè¡Œéš”å¼€ã€‚æ­¤æ—¶æµè§ˆå™¨å‘é€çš„æ˜¯

POSTè¯·æ±‚ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨GETå‘¢?è¿™æ—¶å°±éœ€è¦å›é¡¾GETå’ŒPOSTä¸¤ä¸ªè¯·æ±‚ä¹‹é—´çš„åŒºåˆ«äº†:

- GETè¯·æ±‚è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚è¡Œä¸­ï¼Œæ²¡æœ‰è¯·æ±‚ä½“ï¼ŒPOSTè¯·æ±‚è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­

- GETè¯·æ±‚è¯·æ±‚å‚æ•°å¤§å°æœ‰é™åˆ¶ï¼ŒPOSTæ²¡æœ‰

## ä¸‰ã€å“åº”æ•°æ®æ ¼å¼

### 1ã€æ ¼å¼ä»‹ç»

å“åº”æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼Œåˆ†åˆ«æ˜¯==å“åº”è¡Œ==ã€==å“åº”å¤´==ã€==å“åº”ä½“==

![](youdaonote-images/WEBRESOURCE72e3b9b6e7b3d2e87d1fbe9a6779eaaa.png)

- å“åº”è¡Œï¼šå“åº”æ•°æ®çš„ç¬¬ä¸€è¡Œ,å“åº”è¡ŒåŒ…å«ä¸‰å—å†…å®¹ï¼Œåˆ†åˆ«æ˜¯ HTTP/1.1[HTTPåè®®åŠç‰ˆæœ¬] 200[å“åº”çŠ¶æ€ç ] ok[çŠ¶æ€ç çš„æè¿°]

- å“åº”å¤´ï¼šç¬¬äºŒè¡Œå¼€å§‹ï¼Œæ ¼å¼ä¸ºkeyï¼švalueå½¢å¼

å“åº”å¤´ä¸­ä¼šåŒ…å«è‹¥å¹²ä¸ªå±æ€§ï¼Œå¸¸è§çš„HTTPå“åº”å¤´æœ‰:

```
Content-Typeï¼šè¡¨ç¤ºè¯¥å“åº”å†…å®¹çš„ç±»å‹ï¼Œä¾‹å¦‚text/htmlï¼Œimage/jpegï¼›
Content-Lengthï¼šè¡¨ç¤ºè¯¥å“åº”å†…å®¹çš„é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰ï¼›
Content-Encodingï¼šè¡¨ç¤ºè¯¥å“åº”å‹ç¼©ç®—æ³•ï¼Œä¾‹å¦‚gzipï¼›
Cache-Controlï¼šæŒ‡ç¤ºå®¢æˆ·ç«¯åº”å¦‚ä½•ç¼“å­˜ï¼Œä¾‹å¦‚max-age=300è¡¨ç¤ºå¯ä»¥æœ€å¤šç¼“å­˜300ç§’
```

- å“åº”ä½“ï¼š æœ€åä¸€éƒ¨åˆ†ã€‚å­˜æ”¾å“åº”æ•°æ®

ä¸Šå›¾ä¸­<html>...</html>è¿™éƒ¨åˆ†å†…å®¹å°±æ˜¯å“åº”ä½“ï¼Œå®ƒå’Œå“åº”å¤´ä¹‹é—´æœ‰ä¸€ä¸ªç©ºè¡Œéš”å¼€ã€‚

### 2ã€å“åº”çŠ¶æ€ç 

[å“åº”çŠ¶æ€ç .md](youdaonote-attachments/WEBRESOURCEa555bfa1e788135696dfd46aef809e13å“åº”çŠ¶æ€ç .md)

ä¸»è¦è®¤è¯†ä¸‰ä¸ªçŠ¶æ€ç ï¼Œå…¶ä½™çš„ç­‰åæœŸç”¨åˆ°äº†å†å»æŒæ¡:

- 200  ok å®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ

- 404  Not Found è¯·æ±‚èµ„æºä¸å­˜åœ¨

- 500 Internal Server Error æœåŠ¡ç«¯å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯

# Tomcat

## ä¸€ã€ç®€ä»‹

### 1ã€ä»€ä¹ˆæ˜¯WebæœåŠ¡å™¨

WebæœåŠ¡å™¨æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆ==è½¯ä»¶==ï¼‰ï¼Œå¯¹HTTPåè®®çš„æ“ä½œè¿›è¡Œå°è£…ï¼Œä½¿å¾—ç¨‹åºå‘˜ä¸å¿…ç›´æ¥å¯¹å	

è®®è¿›è¡Œæ“ä½œï¼Œè®©Webå¼€å‘æ›´åŠ ä¾¿æ·ã€‚ä¸»è¦åŠŸèƒ½æ˜¯"æä¾›ç½‘ä¸Šä¿¡æ¯æµè§ˆæœåŠ¡"ã€‚

WebæœåŠ¡å™¨æ˜¯å®‰è£…åœ¨æœåŠ¡å™¨ç«¯çš„ä¸€æ¬¾è½¯ä»¶ï¼Œå°†æ¥æˆ‘ä»¬æŠŠè‡ªå·±å†™çš„Webé¡¹ç›®éƒ¨ç½²åˆ°Web TomcatæœåŠ¡å™¨

è½¯ä»¶ä¸­ï¼Œå½“WebæœåŠ¡å™¨è½¯ä»¶å¯åŠ¨åï¼Œéƒ¨ç½²åœ¨WebæœåŠ¡å™¨è½¯ä»¶ä¸­çš„é¡µé¢å°±å¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨æ¥è®¿é—®

äº†ã€‚

WebæœåŠ¡å™¨è½¯ä»¶ä½¿ç”¨æ­¥éª¤

- å‡†å¤‡é™æ€èµ„æº

- ä¸‹è½½å®‰è£…WebæœåŠ¡å™¨è½¯ä»¶

- å°†é™æ€èµ„æºéƒ¨ç½²åˆ°WebæœåŠ¡å™¨ä¸Š

- å¯åŠ¨WebæœåŠ¡å™¨ä½¿ç”¨æµè§ˆå™¨è®¿é—®å¯¹åº”çš„èµ„æº

Tomcat

Tomcatçš„ç›¸å…³æ¦‚å¿µ:

- Tomcatæ˜¯Apacheè½¯ä»¶åŸºé‡‘ä¼šä¸€ä¸ªæ ¸å¿ƒé¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„è½»é‡çº§WebæœåŠ¡å™¨ï¼Œæ”¯æŒServlet/JSPå°‘é‡JavaEEè§„èŒƒã€‚

- æ¦‚å¿µä¸­æåˆ°äº†JavaEEè§„èŒƒï¼Œé‚£ä»€ä¹ˆåˆæ˜¯JavaEEè§„èŒƒå‘¢?

JavaEE: Java Enterprise Edition,Javaä¼ä¸šç‰ˆã€‚æŒ‡Javaä¼ä¸šçº§å¼€å‘çš„æŠ€æœ¯è§„èŒƒæ€»å’Œã€‚åŒ…å«13é¡¹æŠ€

æœ¯è§„èŒƒ:JDBCã€JNDIã€EJBã€RMIã€JSPã€Servletã€XMLã€JMSã€Java IDLã€JTSã€JTAã€

JavaMailã€JAFã€‚

- å› ä¸ºTomcatæ”¯æŒServlet/JSPè§„èŒƒï¼Œæ‰€ä»¥Tomcatä¹Ÿè¢«ç§°ä¸ºWebå®¹å™¨ã€Servletå®¹å™¨ã€‚Servletéœ€è¦ä¾èµ–Tomcatæ‰èƒ½è¿è¡Œã€‚

- Tomcatçš„å®˜ç½‘: https://tomcat.apache.org/ ä»å®˜ç½‘ä¸Šå¯ä»¥ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬è¿›è¡Œä½¿ç”¨ã€‚

## ä¸‰ã€Mavenåˆ›å»ºWebé¡¹ç›®

### 1ã€Webé¡¹ç›®ç»“æ„

Webé¡¹ç›®çš„ç»“æ„åˆ†ä¸º:å¼€å‘ä¸­çš„é¡¹ç›®å’Œå¼€å‘å®Œå¯ä»¥éƒ¨ç½²çš„Webé¡¹ç›®,è¿™ä¸¤ç§é¡¹ç›®çš„ç»“æ„æ˜¯ä¸ä¸€æ ·çš„ã€‚

- Maven Webé¡¹ç›®ç»“æ„: å¼€å‘ä¸­çš„é¡¹ç›®

![](youdaonote-images/WEBRESOURCEa04b8108bc98c1a7ab4202a67b9f4245.png)

- å¼€å‘å®Œæˆéƒ¨ç½²çš„Webé¡¹ç›®

![](youdaonote-images/WEBRESOURCEa5e4a789856845fdaf60eb61e25e8e70.png)

- å¼€å‘é¡¹ç›®é€šè¿‡æ‰§è¡ŒMavenæ‰“åŒ…å‘½ä»¤==package==,å¯ä»¥è·å–åˆ°éƒ¨ç½²çš„Webé¡¹ç›®ç›®å½•

- ç¼–è¯‘åçš„Javaå­—èŠ‚ç æ–‡ä»¶å’Œresourcesçš„èµ„æºæ–‡ä»¶ï¼Œä¼šè¢«æ”¾åˆ°WEB-INFä¸‹çš„classesç›®å½•ä¸‹

- pom.xmlä¸­ä¾èµ–åæ ‡å¯¹åº”çš„jaråŒ…ï¼Œä¼šè¢«æ”¾å…¥WEB-INFä¸‹çš„libç›®å½•ä¸‹

### 2ã€åˆ›å»ºMaven Webé¡¹ç›®

åˆ›å»ºæ–¹å¼æœ‰ä¸¤ç§:ä½¿ç”¨éª¨æ¶å’Œä¸ä½¿ç”¨éª¨æ¶

ä½¿ç”¨éª¨æ¶

å…·ä½“çš„æ­¥éª¤åŒ…å«:

1. åˆ›å»ºMavené¡¹ç›®

![](youdaonote-images/WEBRESOURCE0970b67a68c0d3f9f7e35c0591d3918f.png)

1. é€‰æ‹©ä½¿ç”¨Webé¡¹ç›®éª¨æ¶

![](youdaonote-images/WEBRESOURCE32035450a46116d0848bd8ef474e2a1d.png)

1. è¾“å…¥Mavené¡¹ç›®åæ ‡åˆ›å»ºé¡¹ç›®

![](youdaonote-images/WEBRESOURCE68fd7dced2ef041fd49de337235cb13c.png)

1. ç¡®è®¤Mavenç›¸å…³çš„é…ç½®ä¿¡æ¯åï¼Œå®Œæˆé¡¹ç›®åˆ›å»º

![](youdaonote-images/WEBRESOURCEa770ae309abbbb399b6ebc0d7980e3ca.png)

1. åˆ é™¤pom.xmlä¸­å¤šä½™å†…å®¹ï¼Œåªç•™ä¸‹é¢çš„è¿™äº›å†…å®¹ï¼Œæ³¨æ„æ‰“åŒ…æ–¹å¼ jarå’Œwarçš„åŒºåˆ«

![](youdaonote-images/WEBRESOURCE038912b7d82d8ee5532660d299f0a279.png)

1. è¡¥é½Maven Webé¡¹ç›®ç¼ºå¤±çš„ç›®å½•ç»“æ„ï¼Œé»˜è®¤æ²¡æœ‰javaå’Œresourcesç›®å½•ï¼Œéœ€è¦æ‰‹åŠ¨å®Œæˆåˆ›å»ºè¡¥é½ï¼Œæœ€ç»ˆçš„ç›®å½•ç»“æœå¦‚ä¸‹

![](youdaonote-images/WEBRESOURCEb9882b9f3fd9692b75235bbb1fe3e9bf.png)

ä¸ä½¿ç”¨éª¨æ¶

1. åˆ›å»ºMavené¡¹ç›®

![](youdaonote-images/WEBRESOURCE62e27758edaec7e0fe07ee3d246fac95.png)

1. é€‰æ‹©ä¸ä½¿ç”¨Webé¡¹ç›®éª¨æ¶

![](youdaonote-images/WEBRESOURCE6b354080cc79d089bf2cdd1eeb0b9b74.png)

1. è¾“å…¥Mavené¡¹ç›®åæ ‡åˆ›å»ºé¡¹ç›®

![](youdaonote-images/WEBRESOURCEb030730cb2d861cf5b9e8ae21ab54f0f.png)

1. åœ¨pom.xmlè®¾ç½®æ‰“åŒ…æ–¹å¼ä¸ºwar,é»˜è®¤æ˜¯ä¸å†™ä»£è¡¨æ‰“åŒ…æ–¹å¼ä¸ºjar

![](youdaonote-images/WEBRESOURCE43c60c0de66135829377b4b39609bfce.png)

1. è¡¥é½Maven Webé¡¹ç›®ç¼ºå¤±webappçš„ç›®å½•ç»“æ„

![](youdaonote-images/WEBRESOURCE3d2199245178a6077768a1d6ae71b4f7.png)

1. è¡¥é½Maven Webé¡¹ç›®ç¼ºå¤±WEB-INF/web.xmlçš„ç›®å½•ç»“æ„

![](youdaonote-images/WEBRESOURCEca69ecccde5a053b6d5361b14fb635bb.png)

1. è¡¥å……å®Œåï¼Œæœ€ç»ˆçš„é¡¹ç›®ç»“æ„å¦‚ä¸‹:

![](youdaonote-images/WEBRESOURCE5ee5a227ad653760c0e11cbfdc0ee8dc.png)

ä¸Šè¿°ä¸¤ç§æ–¹å¼ï¼Œåˆ›å»ºçš„webé¡¹ç›®ï¼Œéƒ½ä¸æ˜¯å¾ˆå…¨ï¼Œéœ€è¦æ‰‹åŠ¨è¡¥å……å†…å®¹ï¼Œè‡³äºæœ€ç»ˆé‡‡ç”¨å“ªç§æ–¹å¼æ¥åˆ›å»º

Maven Webé¡¹ç›®ï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼Œæ ¹æ®å„è‡ªçš„å–œå¥½æ¥é€‰æ‹©ä½¿ç”¨å³å¯ã€‚

## å››ã€IDEAä½¿ç”¨Tomcat

- Maven Webé¡¹ç›®åˆ›å»ºæˆåŠŸåï¼Œé€šè¿‡Mavençš„packageå‘½ä»¤å¯ä»¥å°†é¡¹ç›®æ‰“åŒ…æˆwaråŒ…ï¼Œå°†waræ–‡ä»¶æ‹·è´åˆ°Tomcatçš„webappsç›®å½•ä¸‹ï¼Œå¯åŠ¨Tomcatå°±å¯ä»¥å°†é¡¹ç›®éƒ¨ç½²æˆåŠŸï¼Œç„¶åé€šè¿‡æµè§ˆå™¨è¿›è¡Œè®¿é—®å³å¯ã€‚

- ç„¶è€Œæˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œé¡¹ç›®ä¸­çš„å†…å®¹ä¼šç»å¸¸å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæŒ‰ç…§ä¸Šé¢è¿™ç§æ–¹å¼æ¥éƒ¨ç½²æµ‹è¯•ï¼Œæ˜¯éå¸¸ä¸æ–¹ä¾¿çš„

- å¦‚ä½•åœ¨IDEAä¸­èƒ½å¿«é€Ÿä½¿ç”¨Tomcatå‘¢?

åœ¨IDEAä¸­é›†æˆä½¿ç”¨Tomcatæœ‰ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯==é›†æˆæœ¬åœ°Tomcat==å’Œ==Tomcat Mavenæ’ä»¶==

### 1ã€é›†æˆæœ¬åœ°Tomcat

1. æ‰“å¼€æ·»åŠ æœ¬åœ°Tomcatçš„é¢æ¿

![](youdaonote-images/WEBRESOURCE031cde722c30af480cac23182721f955.png)

1. æŒ‡å®šæœ¬åœ°Tomcatçš„å…·ä½“è·¯å¾„

![](youdaonote-images/WEBRESOURCEf7cbc6fc13c9c77e569d268b63175fb1.png)

1. ä¿®æ”¹Tomcatçš„åç§°ï¼Œæ­¤æ­¥éª¤å¯ä»¥ä¸æ”¹ï¼Œåªæ˜¯è®©åå­—çœ‹èµ·æ¥æ›´æœ‰æ„ä¹‰ï¼ŒHTTP portä¸­çš„ç«¯å£ä¹Ÿå¯ä»¥è¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚æŠŠ8080æ”¹æˆ80

![](youdaonote-images/WEBRESOURCE9623598ffc13a53d65fbb07f73681b75.png)

1. å°†å¼€å‘é¡¹ç›®éƒ¨ç½²é¡¹ç›®åˆ°Tomcatä¸­

![](youdaonote-images/WEBRESOURCEf7891e398ede7b5709efa46b3bc8afe7.png)



æ‰©å±•å†…å®¹ï¼š xxx.warå’Œ xxx.war explodedè¿™ä¸¤ç§éƒ¨ç½²é¡¹ç›®æ¨¡å¼çš„åŒºåˆ«?

- waræ¨¡å¼æ˜¯å°†WEBå·¥ç¨‹æ‰“æˆwaråŒ…ï¼ŒæŠŠwaråŒ…å‘å¸ƒåˆ°TomcatæœåŠ¡å™¨ä¸Š

- war explodedæ¨¡å¼æ˜¯å°†WEBå·¥ç¨‹ä»¥å½“å‰æ–‡ä»¶å¤¹çš„ä½ç½®å…³ç³»å‘å¸ƒåˆ°TomcatæœåŠ¡å™¨ä¸Š

- waræ¨¡å¼éƒ¨ç½²æˆåŠŸåï¼ŒTomcatçš„webappsç›®å½•ä¸‹ä¼šæœ‰éƒ¨ç½²çš„é¡¹ç›®å†…å®¹

- war explodedæ¨¡å¼éƒ¨ç½²æˆåŠŸåï¼ŒTomcatçš„webappsç›®å½•ä¸‹æ²¡æœ‰ï¼Œè€Œä½¿ç”¨çš„æ˜¯é¡¹ç›®çš„targetç›®å½•ä¸‹çš„å†…å®¹è¿›è¡Œéƒ¨ç½²

- å»ºè®®å¤§å®¶éƒ½é€‰waræ¨¡å¼è¿›è¡Œéƒ¨ç½²ï¼Œæ›´ç¬¦åˆé¡¹ç›®éƒ¨ç½²çš„å®é™…æƒ…å†µ

1. éƒ¨ç½²æˆåŠŸåï¼Œå°±å¯ä»¥å¯åŠ¨é¡¹ç›®ï¼Œä¸ºäº†èƒ½æ›´å¥½çš„çœ‹åˆ°å¯åŠ¨çš„æ•ˆæœï¼Œå¯ä»¥åœ¨webappç›®å½•ä¸‹æ·»åŠ a.htmlé¡µé¢

![](youdaonote-images/WEBRESOURCEed1891b5acbfec97d12b1c14d9e9a175.png)

1. å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨è¿›è¡Œè®¿é—®æµ‹è¯•

![](youdaonote-images/WEBRESOURCEda469a4c278667852e005646a93fe6f7.png)

1. æœ€ç»ˆçš„æ³¨æ„äº‹é¡¹

![](youdaonote-images/WEBRESOURCEe5c252e56dadb2f7b48ac72a982a53a8.png)

### 2ã€Tomcat Mavenæ’ä»¶

åœ¨IDEAä¸­ä½¿ç”¨æœ¬åœ°Tomcatè¿›è¡Œé¡¹ç›®éƒ¨ç½²ï¼Œç›¸å¯¹æ¥è¯´æ­¥éª¤æ¯”è¾ƒç¹çï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ç§æ›´ç®€ä¾¿çš„æ–¹å¼æ¥

æ›¿æ¢å®ƒï¼Œé‚£å°±æ˜¯ç›´æ¥ä½¿ç”¨Mavenä¸­çš„Tomcatæ’ä»¶æ¥éƒ¨ç½²é¡¹ç›®ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤ï¼Œåªéœ€è¦ä¸¤æ­¥ï¼Œåˆ†åˆ«æ˜¯:

1. åœ¨pom.xmlä¸­æ·»åŠ Tomcatæ’ä»¶

```xml
<build>
 Â  Â <plugins>
 Â       <!--Tomcatæ’ä»¶ -->
 Â  Â  Â  Â <plugin>
 Â  Â  Â  Â  Â  Â <groupId>org.apache.tomcat.maven</groupId>
 Â  Â  Â  Â  Â  Â <artifactId>tomcat7-maven-plugin</artifactId>
 Â  Â  Â  Â  Â  Â <version>2.2</version>
 Â  Â  Â  Â </plugin>
 Â  Â </plugins>
</build>
```

1. ä½¿ç”¨Maven Helperæ’ä»¶å¿«é€Ÿå¯åŠ¨é¡¹ç›®ï¼Œé€‰ä¸­é¡¹ç›®ï¼Œå³é”®-->Run Maven --> tomcat7:run

![](youdaonote-images/WEBRESOURCE7a12234799856605798ea27a0dfec9c5.png)

==æ³¨æ„:==

- å¦‚æœé€‰ä¸­é¡¹ç›®å¹¶å³é”®ç‚¹å‡»åï¼Œçœ‹ä¸åˆ°Run Mavenå’ŒDebug Mavenï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦åœ¨IDEAä¸­ä¸‹è½½Maven Helperæ’ä»¶ï¼Œ

- Maven Tomcatæ’ä»¶ç›®å‰åªæœ‰Tomcat7ç‰ˆæœ¬ï¼Œæ²¡æœ‰æ›´é«˜çš„ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨

- ä½¿ç”¨Maven Tomcatæ’ä»¶ï¼Œè¦æƒ³ä¿®æ”¹Tomcatçš„ç«¯å£å’Œè®¿é—®è·¯å¾„ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹pom.xml

```xml
<build>
 Â  Â <plugins>
 Â       <!--Tomcatæ’ä»¶ -->
 Â  Â  Â  Â <plugin>
 Â  Â  Â  Â  Â  Â <groupId>org.apache.tomcat.maven</groupId>
 Â  Â  Â  Â  Â  Â <artifactId>tomcat7-maven-plugin</artifactId>
 Â  Â  Â  Â  Â  Â <version>2.2</version>
 Â  Â  Â  Â  Â  Â <configuration>
 Â  Â  Â  Â  Â       <port>80</port><!--è®¿é—®ç«¯å£å· -->
 Â  Â  Â  Â  Â  Â  Â  Â <!--é¡¹ç›®è®¿é—®è·¯å¾„
                    æœªé…ç½®è®¿é—®è·¯å¾„: http://localhost:8080/tomcat-demo2/a.html
                    é…ç½®/åè®¿é—®è·¯å¾„: http://localhost:80/a.html
                    å¦‚æœé…ç½®æˆ /hello,è®¿é—®è·¯å¾„ä¼šå˜æˆä»€ä¹ˆ?
                        ç­”æ¡ˆ: http://localhost:80/hello/a.html
                -->
 Â  Â  Â  Â  Â  Â  Â  Â <path>/</path>
 Â  Â  Â  Â  Â  Â </configuration>
 Â  Â  Â  Â </plugin>
 Â  Â </plugins>
</build>
```

#  Servlet

## ä¸€ã€ç®€ä»‹

- Servletæ˜¯JavaWebæœ€ä¸ºæ ¸å¿ƒçš„å†…å®¹ï¼Œå®ƒæ˜¯Javaæä¾›çš„ä¸€é—¨==åŠ¨æ€==webèµ„æºå¼€å‘æŠ€æœ¯ã€‚

- ä½¿ç”¨Servletå°±å¯ä»¥å®ç°ï¼Œæ ¹æ®ä¸åŒçš„ç™»å½•ç”¨æˆ·åœ¨é¡µé¢ä¸ŠåŠ¨æ€æ˜¾ç¤ºä¸åŒå†…å®¹ã€‚

- Servletæ˜¯JavaEEè§„èŒƒä¹‹ä¸€ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå°†æ¥æˆ‘ä»¬éœ€è¦å®šä¹‰Servletç±»å®ç°Servletæ¥å£ï¼Œå¹¶ç”±webæœåŠ¡å™¨è¿è¡ŒServlet



## äºŒã€å¿«é€Ÿå…¥é—¨

==éœ€æ±‚åˆ†æ: ç¼–å†™ä¸€ä¸ªServletç±»ï¼Œå¹¶ä½¿ç”¨IDEAä¸­Tomcatæ’ä»¶è¿›è¡Œéƒ¨ç½²ï¼Œæœ€ç»ˆé€šè¿‡æµè§ˆå™¨è®¿é—®æ‰€ç¼–å†™çš„

Servletç¨‹åºã€‚==

å…·ä½“çš„å®ç°æ­¥éª¤ä¸º:

1. åˆ›å»ºWebé¡¹ç›®web-demoï¼Œå¯¼å…¥Servletä¾èµ–åæ ‡

```xml
<dependency>
 Â  Â <groupId>javax.servlet</groupId>
 Â  Â <artifactId>javax.servlet-api</artifactId>
 Â  Â <version>3.1.0</version>
 Â  Â <!--
 Â  Â  Â æ­¤å¤„ä¸ºä»€ä¹ˆéœ€è¦æ·»åŠ è¯¥æ ‡ç­¾?
 Â  Â  Â providedæŒ‡çš„æ˜¯åœ¨ç¼–è¯‘å’Œæµ‹è¯•è¿‡ç¨‹ä¸­æœ‰æ•ˆ,æœ€åç”Ÿæˆçš„waråŒ…æ—¶ä¸ä¼šåŠ å…¥
 Â  Â  Â  å› ä¸ºTomcatçš„libç›®å½•ä¸­å·²ç»æœ‰servlet-apiè¿™ä¸ªjaråŒ…ï¼Œå¦‚æœåœ¨ç”ŸæˆwaråŒ…çš„æ—¶å€™ç”Ÿæ•ˆå°±ä¼šå’ŒTomcatä¸­çš„jaråŒ…å†²çªï¼Œå¯¼è‡´æŠ¥é”™
 Â  Â -->
 Â  Â <scope>provided</scope>
</dependency>
```

1. åˆ›å»º:å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£ï¼Œå¹¶é‡å†™æ¥å£ä¸­æ‰€æœ‰æ–¹æ³•ï¼Œå¹¶åœ¨serviceæ–¹æ³•ä¸­è¾“å…¥ä¸€å¥è¯

```java
package com.itheima.web;
â€‹
import javax.servlet.*;
import java.io.IOException;
â€‹
public class ServletDemo1 implements Servlet {
â€‹
 Â  Â public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("servlet hello world~");
 Â   }
 Â  Â public void init(ServletConfig servletConfig) throws ServletException {
â€‹
 Â   }
â€‹
 Â  Â public ServletConfig getServletConfig() {
 Â  Â  Â  Â return null;
 Â   }
â€‹
 Â  Â public String getServletInfo() {
 Â  Â  Â  Â return null;
 Â   }
â€‹
 Â  Â public void destroy() {
â€‹
 Â   }
}
```

1. é…ç½®:åœ¨ç±»ä¸Šä½¿ç”¨@WebServletæ³¨è§£ï¼Œé…ç½®è¯¥Servletçš„è®¿é—®è·¯å¾„

```java
@WebServlet("/demo1")
```

1. è®¿é—®:å¯åŠ¨Tomcat,æµè§ˆå™¨ä¸­è¾“å…¥URLåœ°å€è®¿é—®è¯¥Servlet

```
http://localhost:8080/web-demo/demo1
```

1. å™¨è®¿é—®åï¼Œåœ¨æ§åˆ¶å°ä¼šæ‰“å°servlet hello world~ è¯´æ˜servletç¨‹åºå·²ç»æˆåŠŸè¿è¡Œã€‚

## ä¸‰ã€æ‰§è¡Œæµç¨‹

![](youdaonote-images/WEBRESOURCE89e5c916bb8e613dcd5c7b82308ad09e.png)

- æµè§ˆå™¨å‘å‡ºhttp://localhost:8080/web-demo/demo1è¯·æ±‚ï¼Œä»è¯·æ±‚ä¸­å¯ä»¥è§£æå‡ºä¸‰éƒ¨åˆ†å†…å®¹ï¼Œåˆ†åˆ«æ˜¯localhost:8080ã€web-demoã€demo1

- æ ¹æ®localhost:8080å¯ä»¥æ‰¾åˆ°è¦è®¿é—®çš„Tomcat WebæœåŠ¡å™¨

- æ ¹æ®web-demoå¯ä»¥æ‰¾åˆ°éƒ¨ç½²åœ¨TomcatæœåŠ¡å™¨ä¸Šçš„web-demoé¡¹ç›®

- æ ¹æ®demo1å¯ä»¥æ‰¾åˆ°è¦è®¿é—®çš„æ˜¯é¡¹ç›®ä¸­çš„å“ªä¸ªServletç±»ï¼Œæ ¹æ®@WebServletåé¢çš„å€¼è¿›è¡ŒåŒ¹é…

- æ‰¾åˆ°ServletDemo1è¿™ä¸ªç±»åï¼ŒTomcat WebæœåŠ¡å™¨å°±ä¼šä¸ºServletDemo1è¿™ä¸ªç±»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè°ƒç”¨å¯¹è±¡ä¸­çš„serviceæ–¹æ³•

- ServletDemo1å®ç°äº†Servletæ¥å£ï¼Œæ‰€ä»¥ç±»ä¸­å¿…ç„¶ä¼šé‡å†™serviceæ–¹æ³•ä¾›Tomcat WebæœåŠ¡å™¨è¿›è¡Œè°ƒç”¨

- serviceæ–¹æ³•ä¸­æœ‰ServletRequestå’ŒServletResponseä¸¤ä¸ªå‚æ•°ï¼ŒServletRequestå°è£…çš„æ˜¯è¯·æ±‚æ•°æ®ï¼ŒServletResponseå°è£…çš„æ˜¯å“åº”æ•°æ®ï¼ŒåæœŸæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸¤ä¸ªå‚æ•°å®ç°å‰åç«¯çš„æ•°æ®äº¤äº’

å°ç»“

ä»‹ç»å®ŒServletçš„æ‰§è¡Œæµç¨‹ï¼Œéœ€è¦å¤§å®¶æŒæ¡ä¸¤ä¸ªé—®é¢˜ï¼š

1. Servletç”±è°åˆ›å»º?Servletæ–¹æ³•ç”±è°è°ƒç”¨?

Servletç”±webæœåŠ¡å™¨åˆ›å»ºï¼ŒServletæ–¹æ³•ç”±webæœåŠ¡å™¨è°ƒç”¨

1. æœåŠ¡å™¨æ€ä¹ˆçŸ¥é“Servletä¸­ä¸€å®šæœ‰serviceæ–¹æ³•?

å› ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„Servlet,å¿…é¡»å®ç°Servletæ¥å£å¹¶å¤å†™å…¶æ–¹æ³•ï¼Œè€ŒServletæ¥å£ä¸­æœ‰serviceæ–¹æ³•

## å››ã€ç”Ÿå‘½å‘¨æœŸ

ä»‹ç»å®ŒServletçš„æ‰§è¡Œæµç¨‹åï¼Œæˆ‘ä»¬çŸ¥é“Servletæ˜¯ç”±Tomcat WebæœåŠ¡å™¨å¸®æˆ‘ä»¬åˆ›å»ºçš„ã€‚

æ¥ä¸‹æ¥å’±ä»¬å†æ¥æ€è€ƒä¸€ä¸ªé—®é¢˜:==Tomcatä»€ä¹ˆæ—¶å€™åˆ›å»ºçš„Servletå¯¹è±¡?==

è¦æƒ³å›ç­”ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹Servletçš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œä¸€ä¸ªå­¦ä¹ ã€‚

- ç”Ÿå‘½å‘¨æœŸ: å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæŒ‡ä¸€ä¸ªå¯¹è±¡ä»è¢«åˆ›å»ºåˆ°è¢«é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ã€‚

- Servletè¿è¡Œåœ¨Servletå®¹å™¨(webæœåŠ¡å™¨)ä¸­ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸç”±å®¹å™¨æ¥ç®¡ç†ï¼Œåˆ†ä¸º4ä¸ªé˜¶æ®µï¼š

1. ==åŠ è½½å’Œå®ä¾‹åŒ–==ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œå½“Servletç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼Œç”±å®¹å™¨åˆ›å»ºServletå¯¹è±¡

```
é»˜è®¤æƒ…å†µï¼ŒServletä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—®è¢«å®¹å™¨åˆ›å»ºï¼Œä½†æ˜¯å¦‚æœåˆ›å»ºServletæ¯”è¾ƒè€—æ—¶çš„è¯ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªè®¿é—®çš„äººç­‰å¾…çš„æ—¶é—´å°±æ¯”è¾ƒé•¿ï¼Œç”¨æˆ·çš„ä½“éªŒå°±æ¯”è¾ƒå·®ï¼Œé‚£ä¹ˆæˆ‘ä»¬èƒ½ä¸èƒ½æŠŠServletçš„åˆ›å»ºæ”¾åˆ°æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™æ¥åˆ›å»ºï¼Œå…·ä½“å¦‚ä½•æ¥é…ç½®?
â€‹
@WebServlet(urlPatterns = "/demo1",loadOnStartup = 1)
loadOnstartupçš„å–å€¼æœ‰ä¸¤ç±»æƒ…å†µ
    ï¼ˆ1ï¼‰è´Ÿæ•´æ•°:ç¬¬ä¸€æ¬¡è®¿é—®æ—¶åˆ›å»ºServletå¯¹è±¡
    ï¼ˆ2ï¼‰0æˆ–æ­£æ•´æ•°:æœåŠ¡å™¨å¯åŠ¨æ—¶åˆ›å»ºServletå¯¹è±¡ï¼Œæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜
```

1. ==åˆå§‹åŒ–==ï¼šåœ¨Servletå®ä¾‹åŒ–ä¹‹åï¼Œå®¹å™¨å°†è°ƒç”¨Servletçš„==init()==æ–¹æ³•åˆå§‹åŒ–è¿™ä¸ªå¯¹è±¡ï¼Œå®Œæˆä¸€äº›å¦‚åŠ è½½é…ç½®æ–‡ä»¶ã€åˆ›å»ºè¿æ¥ç­‰åˆå§‹åŒ–çš„å·¥ä½œã€‚è¯¥æ–¹æ³•åª==è°ƒç”¨ä¸€æ¬¡==

1. ==è¯·æ±‚å¤„ç†==ï¼š==æ¯æ¬¡==è¯·æ±‚Servletæ—¶ï¼ŒServletå®¹å™¨éƒ½ä¼šè°ƒç”¨Servletçš„==service()==æ–¹æ³•å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†

1. ==æœåŠ¡ç»ˆæ­¢==ï¼šå½“éœ€è¦é‡Šæ”¾å†…å­˜æˆ–è€…å®¹å™¨å…³é—­æ—¶ï¼Œå®¹å™¨å°±ä¼šè°ƒç”¨Servletå®ä¾‹çš„==destroy()==æ–¹æ³•å®Œæˆèµ„æºçš„é‡Šæ”¾ã€‚åœ¨destroy()æ–¹æ³•è°ƒç”¨ä¹‹åï¼Œå®¹å™¨ä¼šé‡Šæ”¾è¿™ä¸ªServletå®ä¾‹ï¼Œè¯¥å®ä¾‹éšåä¼šè¢«Javaçš„åƒåœ¾æ”¶é›†å™¨æ‰€å›æ”¶

- é€šè¿‡æ¡ˆä¾‹æ¼”ç¤ºä¸‹ä¸Šè¿°çš„ç”Ÿå‘½å‘¨æœŸ

```java
package com.itheima.web;
â€‹
import javax.servlet.*;
import javax.servlet.annotation.WebServlet;
import java.io.IOException;
/**
* Servletç”Ÿå‘½å‘¨æœŸæ–¹æ³•
*/
@WebServlet(urlPatterns = "/demo2",loadOnStartup = 1)
public class ServletDemo2 implements Servlet {
â€‹
 Â  Â /**
 Â  Â  *  åˆå§‹åŒ–æ–¹æ³•
 Â  Â  *  1.è°ƒç”¨æ—¶æœºï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒServletè¢«ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ï¼Œè°ƒç”¨
 Â  Â  * Â  Â   * loadOnStartup: é»˜è®¤ä¸º-1ï¼Œä¿®æ”¹ä¸º0æˆ–è€…æ­£æ•´æ•°ï¼Œåˆ™ä¼šåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œè°ƒç”¨
 Â  Â  *  2.è°ƒç”¨æ¬¡æ•°: 1æ¬¡
 Â  Â  * @param config
 Â  Â  * @throws ServletException
 Â  Â  */
 Â  Â public void init(ServletConfig config) throws ServletException {
 Â  Â  Â  Â System.out.println("init...");
 Â   }
â€‹
 Â  Â /**
 Â  Â  * æä¾›æœåŠ¡
 Â  Â  * 1.è°ƒç”¨æ—¶æœº:æ¯ä¸€æ¬¡Servletè¢«è®¿é—®æ—¶ï¼Œè°ƒç”¨
 Â  Â  * 2.è°ƒç”¨æ¬¡æ•°: å¤šæ¬¡
 Â  Â  * @param req
 Â  Â  * @param res
 Â  Â  * @throws ServletException
 Â  Â  * @throws IOException
 Â  Â  */
 Â  Â public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("servlet hello world~");
 Â   }
â€‹
 Â  Â /**
 Â  Â  * é”€æ¯æ–¹æ³•
 Â  Â  * 1.è°ƒç”¨æ—¶æœºï¼šå†…å­˜é‡Šæ”¾æˆ–è€…æœåŠ¡å™¨å…³é—­çš„æ—¶å€™ï¼ŒServletå¯¹è±¡ä¼šè¢«é”€æ¯ï¼Œè°ƒç”¨
 Â  Â  * 2.è°ƒç”¨æ¬¡æ•°: 1æ¬¡
 Â  Â  */
 Â  Â public void destroy() {
 Â  Â  Â  Â System.out.println("destroy...");
 Â   }
 Â  Â public ServletConfig getServletConfig() {
 Â  Â  Â  Â return null;
 Â   }
â€‹
 Â  Â public String getServletInfo() {
 Â  Â  Â  Â return null;
 Â   }
â€‹
â€‹
}
```

==æ³¨æ„:å¦‚ä½•æ‰èƒ½è®©Servletä¸­çš„destroyæ–¹æ³•è¢«æ‰§è¡Œï¼Ÿ==

![](youdaonote-images/WEBRESOURCEc196ed7b7565baa0ff53d13c33f2e7f3.png)

åœ¨Terminalå‘½ä»¤è¡Œä¸­ï¼Œå…ˆä½¿ç”¨mvn tomcat7:runå¯åŠ¨ï¼Œç„¶åå†ä½¿ç”¨ctrl+cå…³é—­tomcat

å°ç»“

è¿™èŠ‚ä¸­éœ€è¦æŒæ¡çš„å†…å®¹æ˜¯:

1. Servletå¯¹è±¡åœ¨ä»€ä¹ˆæ—¶å€™è¢«åˆ›å»ºçš„?

> é»˜è®¤æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™è¢«åˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨@WebServlet(urlPatterns = "/demo2",loadOnStartup = 1)çš„loadOnStartup ä¿®æ”¹æˆåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºã€‚

1. Servletç”Ÿå‘½å‘¨æœŸä¸­æ¶‰åŠåˆ°çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•æ˜¯ä»€ä¹ˆ?ä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨?è°ƒç”¨å‡ æ¬¡?

> æ¶‰åŠåˆ°ä¸‰ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ init()ã€service()ã€destroy()initæ–¹æ³•åœ¨Servletå¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™æ‰§è¡Œï¼Œåªæ‰§è¡Œ1æ¬¡serviceæ–¹æ³•åœ¨Servletè¢«è®¿é—®çš„æ—¶å€™è°ƒç”¨ï¼Œæ¯è®¿é—®1æ¬¡å°±è°ƒç”¨1æ¬¡destroyæ–¹æ³•åœ¨Servletå¯¹è±¡è¢«é”€æ¯çš„æ—¶å€™è°ƒç”¨ï¼Œåªæ‰§è¡Œ1æ¬¡

## äº”ã€æ–¹æ³•ä»‹ç»

Servletä¸­æ€»å…±æœ‰5ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»è¿‡å…¶ä¸­çš„ä¸‰ä¸ªï¼Œå‰©ä¸‹çš„ä¸¤ä¸ªæ–¹æ³•ä½œç”¨åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸‹å‰é¢è®²çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯:

- åˆå§‹åŒ–æ–¹æ³•ï¼Œåœ¨Servletè¢«åˆ›å»ºæ—¶æ‰§è¡Œï¼Œåªæ‰§è¡Œä¸€æ¬¡	

```java
void init(ServletConfig config) 
```

- æä¾›æœåŠ¡æ–¹æ³•ï¼Œ æ¯æ¬¡Servletè¢«è®¿é—®ï¼Œéƒ½ä¼šè°ƒç”¨è¯¥æ–¹æ³•

```java
void service(ServletRequestÂ req, ServletResponseÂ res)
```

- é”€æ¯æ–¹æ³•ï¼Œå½“Servletè¢«é”€æ¯æ—¶ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ã€‚åœ¨å†…å­˜é‡Šæ”¾æˆ–æœåŠ¡å™¨å…³é—­æ—¶é”€æ¯Servlet

```java
void destroy() 
```

å‰©ä¸‹çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯:

- è·å–Servletä¿¡æ¯	

```java
String getServletInfo() 
//è¯¥æ–¹æ³•ç”¨æ¥è¿”å›Servletçš„ç›¸å…³ä¿¡æ¯ï¼Œæ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„ç”¨å¤„ï¼Œä¸€èˆ¬æˆ‘ä»¬è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²å³å¯
public String getServletInfo() {
 Â  Â return "";
}
```

- è·å–ServletConfigå¯¹è±¡

```
ServletConfig getServletConfig()
```

ServletConfigå¯¹è±¡ï¼Œåœ¨initæ–¹æ³•çš„å‚æ•°ä¸­æœ‰ï¼Œè€ŒTomcat WebæœåŠ¡å™¨åœ¨åˆ›å»ºServletå¯¹è±¡çš„æ—¶å€™ä¼šè°ƒç”¨init

æ–¹æ³•ï¼Œå¿…å®šä¼šä¼ å…¥ä¸€ä¸ªServletConfigå¯¹è±¡ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æœåŠ¡å™¨ä¼ è¿‡æ¥çš„ServletConfigè¿›è¡Œè¿”å›å³

å¯ã€‚å…·ä½“å¦‚ä½•æ“ä½œ?

```java
package com.itheima.web;
â€‹
import javax.servlet.*;
import javax.servlet.annotation.WebServlet;
import java.io.IOException;
â€‹
/**
 * Servletæ–¹æ³•ä»‹ç»
 */
@WebServlet(urlPatterns = "/demo3",loadOnStartup = 1)
public class ServletDemo3 implements Servlet {
â€‹
 Â  Â private ServletConfig servletConfig;
 Â  Â /**
 Â  Â  *  åˆå§‹åŒ–æ–¹æ³•
 Â  Â  *  1.è°ƒç”¨æ—¶æœºï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒServletè¢«ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ï¼Œè°ƒç”¨
 Â  Â  * Â  Â   * loadOnStartup: é»˜è®¤ä¸º-1ï¼Œä¿®æ”¹ä¸º0æˆ–è€…æ­£æ•´æ•°ï¼Œåˆ™ä¼šåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œè°ƒç”¨
 Â  Â  *  2.è°ƒç”¨æ¬¡æ•°: 1æ¬¡
 Â  Â  * @param config
 Â  Â  * @throws ServletException
 Â  Â  */
 Â  Â public void init(ServletConfig config) throws ServletException {
 Â  Â  Â  Â this.servletConfig = config;
 Â  Â  Â  Â System.out.println("init...");
 Â   }
 Â  Â public ServletConfig getServletConfig() {
 Â  Â  Â  Â return servletConfig;
 Â   }
 Â  Â 
 Â  Â /**
 Â  Â  * æä¾›æœåŠ¡
 Â  Â  * 1.è°ƒç”¨æ—¶æœº:æ¯ä¸€æ¬¡Servletè¢«è®¿é—®æ—¶ï¼Œè°ƒç”¨
 Â  Â  * 2.è°ƒç”¨æ¬¡æ•°: å¤šæ¬¡
 Â  Â  * @param req
 Â  Â  * @param res
 Â  Â  * @throws ServletException
 Â  Â  * @throws IOException
 Â  Â  */
 Â  Â public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("servlet hello world~");
 Â   }
â€‹
 Â  Â /**
 Â  Â  * é”€æ¯æ–¹æ³•
 Â  Â  * 1.è°ƒç”¨æ—¶æœºï¼šå†…å­˜é‡Šæ”¾æˆ–è€…æœåŠ¡å™¨å…³é—­çš„æ—¶å€™ï¼ŒServletå¯¹è±¡ä¼šè¢«é”€æ¯ï¼Œè°ƒç”¨
 Â  Â  * 2.è°ƒç”¨æ¬¡æ•°: 1æ¬¡
 Â  Â  */
 Â  Â public void destroy() {
 Â  Â  Â  Â System.out.println("destroy...");
 Â   }
 Â  Â 
 Â  Â public String getServletInfo() {
 Â  Â  Â  Â return "";
 Â   }
}
```

getServletInfo()å’ŒgetServletConfig()è¿™ä¸¤ä¸ªæ–¹æ³•ä½¿ç”¨çš„ä¸æ˜¯å¾ˆå¤šã€‚

## å…­ã€ä½“ç³»ç»“æ„

é€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“è¦æƒ³ç¼–å†™ä¸€ä¸ªServletå°±å¿…é¡»è¦å®ç°Servletæ¥å£ï¼Œé‡å†™æ¥å£ä¸­çš„5ä¸ªæ–¹æ³•ï¼Œè™½ç„¶

å·²ç»èƒ½å®Œæˆè¦æ±‚ï¼Œä½†æ˜¯ç¼–å†™èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ›´å…³æ³¨çš„å…¶å®åªæœ‰serviceæ–¹æ³•ï¼Œé‚£æœ‰æ²¡æœ‰æ›´ç®€

å•æ–¹å¼æ¥åˆ›å»ºServletå‘¢?

è¦æƒ³è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå¯¹Servletçš„ä½“ç³»ç»“æ„è¿›è¡Œä¸‹äº†è§£:

![](youdaonote-images/WEBRESOURCE0ed61ecde4e86b010d664b637dec19b9.png)

å› ä¸ºæˆ‘ä»¬å°†æ¥å¼€å‘B/Sæ¶æ„çš„webé¡¹ç›®ï¼Œéƒ½æ˜¯é’ˆå¯¹HTTPåè®®ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå®šä¹‰Servlet,ä¼šé€šè¿‡ç»§æ‰¿

==HttpServlet==å…·ä½“çš„ç¼–å†™æ ¼å¼å¦‚ä¸‹:

```java
@WebServlet("/demo4")
public class ServletDemo4 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
 Â  Â  Â  Â //TODO GET è¯·æ±‚æ–¹å¼å¤„ç†é€»è¾‘
 Â  Â  Â  Â System.out.println("get...");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
 Â  Â  Â  Â //TODO Post è¯·æ±‚æ–¹å¼å¤„ç†é€»è¾‘
 Â  Â  Â  Â System.out.println("post...");
 Â   }
}
```

- è¦æƒ³å‘é€ä¸€ä¸ªGETè¯·æ±‚ï¼Œè¯·æ±‚è¯¥Servletï¼Œåªéœ€è¦é€šè¿‡æµè§ˆå™¨å‘é€http://localhost:8080/web-demo/demo4,å°±èƒ½çœ‹åˆ°doGetæ–¹æ³•è¢«æ‰§è¡Œäº†

- è¦æƒ³å‘é€ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œè¯·æ±‚è¯¥Servletï¼Œå•å•é€šè¿‡æµè§ˆå™¨æ˜¯æ— æ³•å®ç°çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç¼–å†™ä¸€ä¸ªformè¡¨å•æ¥å‘é€è¯·æ±‚ï¼Œåœ¨webappä¸‹åˆ›å»ºä¸€ä¸ªa.htmlé¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹:

```html
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â <form action="/web-demo/demo4" method="post">
 Â  Â  Â  Â <input name="username"/><input type="submit"/>
 Â  Â </form>
</body>
</html>
```

å¯åŠ¨æµ‹è¯•ï¼Œå³å¯çœ‹åˆ°doPostæ–¹æ³•è¢«æ‰§è¡Œäº†ã€‚

Servletçš„ç®€åŒ–ç¼–å†™å°±ä»‹ç»å®Œäº†ï¼Œæ¥ç€éœ€è¦æ€è€ƒä¸¤ä¸ªé—®é¢˜:

1. HttpServletä¸­ä¸ºä»€ä¹ˆè¦æ ¹æ®è¯·æ±‚æ–¹å¼çš„ä¸åŒï¼Œè°ƒç”¨ä¸åŒçš„æ–¹æ³•?

1. å¦‚ä½•è°ƒç”¨?

é’ˆå¯¹é—®é¢˜ä¸€ï¼Œæˆ‘ä»¬éœ€è¦å›é¡¾ä¹‹å‰çš„çŸ¥è¯†ç‚¹==å‰ç«¯å‘é€GETå’ŒPOSTè¯·æ±‚çš„æ—¶å€™ï¼Œå‚æ•°çš„ä½ç½®ä¸ä¸€è‡´ï¼ŒGET

è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚è¡Œä¸­ï¼ŒPOSTè¯·æ±‚å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­==ï¼Œä¸ºäº†èƒ½å¤„ç†ä¸åŒçš„è¯·æ±‚æ–¹å¼ï¼Œæˆ‘ä»¬å¾—åœ¨serviceæ–¹æ³•

ä¸­è¿›è¡Œåˆ¤æ–­ï¼Œç„¶åå†™ä¸åŒçš„ä¸šåŠ¡å¤„ç†ï¼Œè¿™æ ·èƒ½å®ç°ï¼Œä½†æ˜¯æ¯ä¸ªServletç±»ä¸­éƒ½å°†æœ‰ç›¸ä¼¼çš„ä»£ç ï¼Œé’ˆå¯¹è¿™ä¸ªé—®

é¢˜ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥ä¼˜åŒ–çš„ç­–ç•¥ä¹ˆ?

```java
package com.itheima.web;
â€‹
import javax.servlet.*;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
â€‹
â€‹
@WebServlet("/demo5")
public class ServletDemo5 implements Servlet {
â€‹
 Â  Â public void init(ServletConfig config) throws ServletException {
â€‹
 Â   }
â€‹
 Â  Â public ServletConfig getServletConfig() {
 Â  Â  Â  Â return null;
 Â   }
â€‹
 Â  Â public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {
 Â  Â  Â  Â //å¦‚ä½•è°ƒç”¨?
 Â  Â  Â  Â //è·å–è¯·æ±‚æ–¹å¼ï¼Œæ ¹æ®ä¸åŒçš„è¯·æ±‚æ–¹å¼è¿›è¡Œä¸åŒçš„ä¸šåŠ¡å¤„ç†
 Â  Â  Â  Â HttpServletRequest request = (HttpServletRequest)req;
 Â  Â  Â  //1. è·å–è¯·æ±‚æ–¹å¼
 Â  Â  Â  Â String method = request.getMethod();
 Â  Â  Â  Â //2. åˆ¤æ–­
 Â  Â  Â  Â if("GET".equals(method)){
 Â  Â  Â  Â  Â  Â // getæ–¹å¼çš„å¤„ç†é€»è¾‘
 Â  Â  Â   }else if("POST".equals(method)){
 Â  Â  Â  Â  Â  Â // postæ–¹å¼çš„å¤„ç†é€»è¾‘
 Â  Â  Â   }
 Â   }
â€‹
 Â  Â public String getServletInfo() {
 Â  Â  Â  Â return null;
 Â   }
â€‹
 Â  Â public void destroy() {
â€‹
 Â   }
}
â€‹
```

è¦è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹Servletæ¥å£è¿›è¡Œç»§æ‰¿å°è£…ï¼Œæ¥ç®€åŒ–ä»£ç å¼€å‘ã€‚

```java
package com.itheima.web;
â€‹
import javax.servlet.*;
import javax.servlet.http.HttpServletRequest;
import java.io.IOException;
â€‹
public class MyHttpServlet implements Servlet {
 Â  Â public void init(ServletConfig config) throws ServletException {
â€‹
 Â   }
â€‹
 Â  Â public ServletConfig getServletConfig() {
 Â  Â  Â  Â return null;
 Â   }
â€‹
 Â  Â public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {
 Â  Â  Â  Â HttpServletRequest request = (HttpServletRequest)req;
 Â  Â  Â  Â //1. è·å–è¯·æ±‚æ–¹å¼
 Â  Â  Â  Â String method = request.getMethod();
 Â  Â  Â  Â //2. åˆ¤æ–­
 Â  Â  Â  Â if("GET".equals(method)){
 Â  Â  Â  Â  Â  Â // getæ–¹å¼çš„å¤„ç†é€»è¾‘
 Â  Â  Â  Â  Â  Â doGet(req,res);
 Â  Â  Â   }else if("POST".equals(method)){
 Â  Â  Â  Â  Â  Â // postæ–¹å¼çš„å¤„ç†é€»è¾‘
 Â  Â  Â  Â  Â  Â doPost(req,res);
 Â  Â  Â   }
 Â   }
â€‹
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â   }
â€‹
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
 Â   }
â€‹
 Â  Â public String getServletInfo() {
 Â  Â  Â  Â return null;
 Â   }
â€‹
 Â  Â public void destroy() {
â€‹
 Â   }
}
â€‹
```

æœ‰äº†MyHttpServletè¿™ä¸ªç±»ï¼Œä»¥åæˆ‘ä»¬å†ç¼–å†™Servletç±»çš„æ—¶å€™ï¼Œåªéœ€è¦ç»§æ‰¿MyHttpServletï¼Œé‡å†™çˆ¶ç±»ä¸­çš„

doGetå’ŒdoPostæ–¹æ³•ï¼Œå°±å¯ä»¥ç”¨æ¥å¤„ç†GETå’ŒPOSTè¯·æ±‚çš„ä¸šåŠ¡é€»è¾‘ã€‚æ¥ä¸‹æ¥ï¼Œå¯ä»¥æŠŠServletDemo5ä»£ç 

è¿›è¡Œæ”¹é€ 

```java
@WebServlet("/demo5")
public class ServletDemo5 extends MyHttpServlet {
â€‹
 Â  Â @Override
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
 Â  Â  Â  Â System.out.println("get...");
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â  Â  Â  Â System.out.println("post...");
 Â   }
}
â€‹
```

å°†æ¥é¡µé¢å‘é€çš„æ˜¯GETè¯·æ±‚ï¼Œåˆ™ä¼šè¿›å…¥åˆ°doGetæ–¹æ³•ä¸­è¿›è¡Œæ‰§è¡Œï¼Œå¦‚æœæ˜¯POSTè¯·æ±‚ï¼Œåˆ™è¿›å…¥åˆ°doPostæ–¹

æ³•ã€‚è¿™æ ·ä»£ç åœ¨ç¼–å†™çš„æ—¶å€™å°±ç›¸å¯¹æ¥è¯´æ›´åŠ ç®€å•å¿«æ·ã€‚

ç±»ä¼¼MyHttpServletè¿™æ ·çš„ç±»Servletä¸­å·²ç»ä¸ºæˆ‘ä»¬æä¾›å¥½äº†ï¼Œå°±æ˜¯HttpServlet,ç¿»å¼€æºç ï¼Œæœç´¢service()æ–¹

æ³•ï¼Œä½ ä¼šå‘ç°HttpServletåšçš„äº‹æ›´å¤šï¼Œä¸ä»…å¯ä»¥å¤„ç†GETå’ŒPOSTè¿˜å¯ä»¥å¤„ç†å…¶ä»–äº”ç§è¯·æ±‚æ–¹å¼ã€‚

```java
protected void service(HttpServletRequest req, HttpServletResponse resp)
 Â  Â  Â  Â throws ServletException, IOException
 Â   {
 Â  Â  Â  Â String method = req.getMethod();
â€‹
 Â  Â  Â  Â if (method.equals(METHOD_GET)) {
 Â  Â  Â  Â  Â  Â long lastModified = getLastModified(req);
 Â  Â  Â  Â  Â  Â if (lastModified == -1) {
 Â  Â  Â  Â  Â  Â  Â  Â // servlet doesn't support if-modified-since, no reason
 Â  Â  Â  Â  Â  Â  Â  Â // to go through further expensive logic
 Â  Â  Â  Â  Â  Â  Â  Â doGet(req, resp);
 Â  Â  Â  Â  Â   } else {
 Â  Â  Â  Â  Â  Â  Â  Â long ifModifiedSince = req.getDateHeader(HEADER_IFMODSINCE);
 Â  Â  Â  Â  Â  Â  Â  Â if (ifModifiedSince < lastModified) {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // If the servlet mod time is later, call doGet()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // Round down to the nearest second for a proper compare
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // A ifModifiedSince of -1 will always be less
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â maybeSetLastModified(resp, lastModified);
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â doGet(req, resp);
 Â  Â  Â  Â  Â  Â  Â   } else {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â resp.setStatus(HttpServletResponse.SC_NOT_MODIFIED);
 Â  Â  Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â   } else if (method.equals(METHOD_HEAD)) {
 Â  Â  Â  Â  Â  Â long lastModified = getLastModified(req);
 Â  Â  Â  Â  Â  Â maybeSetLastModified(resp, lastModified);
 Â  Â  Â  Â  Â  Â doHead(req, resp);
â€‹
 Â  Â  Â   } else if (method.equals(METHOD_POST)) {
 Â  Â  Â  Â  Â  Â doPost(req, resp);
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â   } else if (method.equals(METHOD_PUT)) {
 Â  Â  Â  Â  Â  Â doPut(req, resp);
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â   } else if (method.equals(METHOD_DELETE)) {
 Â  Â  Â  Â  Â  Â doDelete(req, resp);
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â   } else if (method.equals(METHOD_OPTIONS)) {
 Â  Â  Â  Â  Â  Â doOptions(req,resp);
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â   } else if (method.equals(METHOD_TRACE)) {
 Â  Â  Â  Â  Â  Â doTrace(req,resp);
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â   } else {
 Â  Â  Â  Â  Â  Â //
 Â  Â  Â  Â  Â  Â // Note that this means NO servlet supports whatever
 Â  Â  Â  Â  Â  Â // method was requested, anywhere on this server.
 Â  Â  Â  Â  Â  Â //
â€‹
 Â  Â  Â  Â  Â  Â String errMsg = lStrings.getString("http.method_not_implemented");
 Â  Â  Â  Â  Â  Â Object[] errArgs = new Object[1];
 Â  Â  Â  Â  Â  Â errArgs[0] = method;
 Â  Â  Â  Â  Â  Â errMsg = MessageFormat.format(errMsg, errArgs);
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â resp.sendError(HttpServletResponse.SC_NOT_IMPLEMENTED, errMsg);
 Â  Â  Â   }
 Â   }
```

å°ç»“

é€šè¿‡è¿™ä¸€èŠ‚çš„å­¦ä¹ ï¼Œè¦æŒæ¡:

1. HttpServletçš„ä½¿ç”¨æ­¥éª¤

ç»§æ‰¿HttpServleté‡å†™doGetå’ŒdoPostæ–¹æ³•

1. HttpServletåŸç†

è·å–è¯·æ±‚æ–¹å¼ï¼Œå¹¶æ ¹æ®ä¸åŒçš„è¯·æ±‚æ–¹å¼ï¼Œè°ƒç”¨ä¸åŒçš„doXxxæ–¹æ³•

## ä¸ƒã€urlPatterné…ç½®

Servletç±»ç¼–å†™å¥½åï¼Œè¦æƒ³è¢«è®¿é—®åˆ°ï¼Œå°±éœ€è¦é…ç½®å…¶è®¿é—®è·¯å¾„ï¼ˆ==urlPattern==ï¼‰

- ä¸€ä¸ªServlet,å¯ä»¥é…ç½®å¤šä¸ªurlPattern

![](youdaonote-images/WEBRESOURCE2230cdb8060d3ee275dbfd5f2426220e.png)

```java
package com.itheima.web;
â€‹
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebServlet;
â€‹
/**
* urlPattern: ä¸€ä¸ªServletå¯ä»¥é…ç½®å¤šä¸ªè®¿é—®è·¯å¾„
*/
@WebServlet(urlPatterns = {"/demo7","/demo8"})
public class ServletDemo7 extends MyHttpServlet {
â€‹
 Â  Â @Override
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
 Â  Â  Â  Â 
 Â  Â  Â  Â System.out.println("demo7 get...");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â   }
}
```

åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥http://localhost:8080/web-demo/demo7,http://localhost:8080/web-demo/demo8è¿™ä¸¤ä¸ªåœ°

å€éƒ½èƒ½è®¿é—®åˆ°ServletDemo7çš„doGetæ–¹æ³•ã€‚

- ==urlPatterné…ç½®è§„åˆ™==

- ç²¾ç¡®åŒ¹é…

![](youdaonote-images/WEBRESOURCE3594ac09fe2c02c3c01f0eddb6bc454a.png)



```java
/**
 * UrlPattern:
 * * ç²¾ç¡®åŒ¹é…
 */
@WebServlet(urlPatterns = "/user/select")
public class ServletDemo8 extends MyHttpServlet {
â€‹
 Â  Â @Override
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
â€‹
 Â  Â  Â  Â System.out.println("demo8 get...");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â   }
}
```

è®¿é—®è·¯å¾„http://localhost:8080/web-demo/user/select

- ç›®å½•åŒ¹é…

![](youdaonote-images/WEBRESOURCE52b9d072a066bfb20fda3652bd606d06.png)

```java
package com.itheima.web;
â€‹
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebServlet;
â€‹
/**
 * UrlPattern:
 * * ç›®å½•åŒ¹é…: /user/*
 */
@WebServlet(urlPatterns = "/user/*")
public class ServletDemo9 extends MyHttpServlet {
â€‹
 Â  Â @Override
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
â€‹
 Â  Â  Â  Â System.out.println("demo9 get...");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â   }
}
```

è®¿é—®è·¯å¾„http://localhost:8080/web-demo/user/ä»»æ„

==æ€è€ƒ:==

1. è®¿é—®è·¯å¾„http://localhost:8080/web-demo/useræ˜¯å¦èƒ½è®¿é—®åˆ°demo9çš„doGetæ–¹æ³•?

1. è®¿é—®è·¯å¾„http://localhost:8080/web-demo/user/a/bæ˜¯å¦èƒ½è®¿é—®åˆ°demo9çš„doGetæ–¹æ³•?

1. è®¿é—®è·¯å¾„http://localhost:8080/web-demo/user/selectæ˜¯å¦èƒ½è®¿é—®åˆ°demo9è¿˜æ˜¯demo8çš„doGetæ–¹æ³•?

ç­”æ¡ˆæ˜¯: èƒ½ã€èƒ½ã€demo8ï¼Œè¿›è€Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„ç»“è®ºæ˜¯/user/*ä¸­çš„/*ä»£è¡¨çš„æ˜¯é›¶æˆ–å¤šä¸ªå±‚çº§è®¿é—®ç›®å½•åŒ

æ—¶ç²¾ç¡®åŒ¹é…ä¼˜å…ˆçº§è¦é«˜äºç›®å½•åŒ¹é…ã€‚

- æ‰©å±•ååŒ¹é…

![](youdaonote-images/WEBRESOURCE82690ad959c06155f6e3b1c86fa5887d.png)

```
package com.itheima.web;
â€‹
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebServlet;
â€‹
/**
 * UrlPattern:
 * * æ‰©å±•ååŒ¹é…: *.do
 */
@WebServlet(urlPatterns = "*.do")
public class ServletDemo10 extends MyHttpServlet {
â€‹
 Â  Â @Override
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
â€‹
 Â  Â  Â  Â System.out.println("demo10 get...");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â   }
}
```

è®¿é—®è·¯å¾„http://localhost:8080/web-demo/ä»»æ„.do

==æ³¨æ„==:

1. å¦‚æœè·¯å¾„é…ç½®çš„ä¸æ˜¯æ‰©å±•åï¼Œé‚£ä¹ˆåœ¨è·¯å¾„çš„å‰é¢å°±å¿…é¡»è¦åŠ /å¦åˆ™ä¼šæŠ¥é”™

1. å¦‚æœè·¯å¾„é…ç½®çš„æ˜¯*.do,é‚£ä¹ˆåœ¨*.doçš„å‰é¢ä¸èƒ½åŠ /,å¦åˆ™ä¼šæŠ¥é”™

- ä»»æ„åŒ¹é…

![](youdaonote-images/WEBRESOURCE44df1be453a097427ce7d63add0333eb.png)

```java
package com.itheima.web;
â€‹
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebServlet;
â€‹
/**
 * UrlPattern:
 * * ä»»æ„åŒ¹é…ï¼š /
 */
@WebServlet(urlPatterns = "/")
public class ServletDemo11 extends MyHttpServlet {
â€‹
 Â  Â @Override
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
â€‹
 Â  Â  Â  Â System.out.println("demo11 get...");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â   }
}
```

è®¿é—®è·¯å¾„http://localhost:8080/demo-web/ä»»æ„

```java
package com.itheima.web;
â€‹
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebServlet;
â€‹
/**
 * UrlPattern:
 * * ä»»æ„åŒ¹é…ï¼š /*
 */
@WebServlet(urlPatterns = "/*")
public class ServletDemo12 extends MyHttpServlet {
â€‹
 Â  Â @Override
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
â€‹
 Â  Â  Â  Â System.out.println("demo12 get...");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â   }
}
â€‹
```

è®¿é—®è·¯å¾„`http://localhost:8080/demo-web/ä»»æ„

==æ³¨æ„:==/å’Œ/*çš„åŒºåˆ«?

1. å½“æˆ‘ä»¬çš„é¡¹ç›®ä¸­çš„Servleté…ç½®äº† "/",ä¼šè¦†ç›–æ‰tomcatä¸­çš„DefaultServlet,å½“å…¶ä»–çš„url-patternéƒ½åŒ¹é…ä¸ä¸Šæ—¶éƒ½ä¼šèµ°è¿™ä¸ªServlet

1. å½“æˆ‘ä»¬çš„é¡¹ç›®ä¸­é…ç½®äº†"/*",æ„å‘³ç€åŒ¹é…ä»»æ„è®¿é—®è·¯å¾„

1. DefaultServletæ˜¯ç”¨æ¥å¤„ç†é™æ€èµ„æºï¼Œå¦‚æœé…ç½®äº†"/"ä¼šæŠŠé»˜è®¤çš„è¦†ç›–æ‰ï¼Œå°±ä¼šå¼•å‘è¯·æ±‚é™æ€èµ„æºçš„æ—¶å€™æ²¡æœ‰èµ°é»˜è®¤çš„è€Œæ˜¯èµ°äº†è‡ªå®šä¹‰çš„Servletç±»ï¼Œæœ€ç»ˆå¯¼è‡´é™æ€èµ„æºä¸èƒ½è¢«è®¿é—®

å°ç»“

1. urlPatternæ€»å…±æœ‰å››ç§é…ç½®æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ç²¾ç¡®åŒ¹é…ã€ç›®å½•åŒ¹é…ã€æ‰©å±•ååŒ¹é…ã€ä»»æ„åŒ¹é…

1. äº”ç§é…ç½®çš„ä¼˜å…ˆçº§ä¸º ç²¾ç¡®åŒ¹é… > ç›®å½•åŒ¹é…> æ‰©å±•ååŒ¹é… > /* > / ,æ— éœ€è®°ï¼Œä»¥æœ€ç»ˆè¿è¡Œç»“æœä¸ºå‡†ã€‚

## å…«ã€XMLé…ç½®

å‰é¢å¯¹åº”Servletçš„é…ç½®ï¼Œéƒ½ä½¿ç”¨çš„æ˜¯@WebServlet,è¿™ä¸ªæ˜¯Servletä»3.0ç‰ˆæœ¬åå¼€å§‹æ”¯æŒæ³¨è§£é…ç½®ï¼Œ3.0ç‰ˆæœ¬

å‰åªæ”¯æŒXMLé…ç½®æ–‡ä»¶çš„é…ç½®æ–¹æ³•ã€‚

å¯¹äºXMLçš„é…ç½®æ­¥éª¤æœ‰ä¸¤æ­¥:

- ç¼–å†™Servletç±»	

```java
package com.itheima.web;
â€‹
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebServlet;
â€‹
public class ServletDemo13 extends MyHttpServlet {
â€‹
 Â  Â @Override
 Â  Â protected void doGet(ServletRequest req, ServletResponse res) {
â€‹
 Â  Â  Â  Â System.out.println("demo13 get...");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(ServletRequest req, ServletResponse res) {
 Â   }
}
```

- åœ¨web.xmlä¸­é…ç½®è¯¥Servlet

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
 Â  Â  Â  Â  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 Â  Â  Â  Â  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
 Â  Â  Â  Â  version="4.0">
 Â  Â 
 Â  Â 
 Â  Â 
 Â  Â <!-- 
 Â  Â  Â  Â Servlet å…¨ç±»å
 Â  Â -->
 Â  Â <servlet>
 Â  Â  Â  Â <!-- servletçš„åç§°ï¼Œåå­—ä»»æ„-->
 Â  Â  Â  Â <servlet-name>demo13</servlet-name>
 Â  Â  Â  Â <!--servletçš„ç±»å…¨å-->
 Â  Â  Â  Â <servlet-class>com.itheima.web.ServletDemo13</servlet-class>
 Â  Â </servlet>
â€‹
 Â  Â <!-- 
 Â  Â  Â  Â Servlet è®¿é—®è·¯å¾„
 Â  Â -->
 Â  Â <servlet-mapping>
 Â  Â  Â  Â <!-- servletçš„åç§°ï¼Œè¦å’Œä¸Šé¢çš„åç§°ä¸€è‡´-->
 Â  Â  Â  Â <servlet-name>demo13</servlet-name>
 Â  Â  Â  Â <!-- servletçš„è®¿é—®è·¯å¾„-->
 Â  Â  Â  Â <url-pattern>/demo13</url-pattern>
 Â  Â </servlet-mapping>
</web-app>
```

è¿™ç§é…ç½®æ–¹å¼å’Œæ³¨è§£æ¯”èµ·æ¥ï¼Œç¡®è®¤éº»çƒ¦å¾ˆå¤šï¼Œæ‰€ä»¥å»ºè®®å¤§å®¶ä½¿ç”¨æ³¨è§£æ¥å¼€å‘ã€‚è¦è®¤è¯†ä¸Šé¢è¿™ç§é…ç½®æ–¹å¼ï¼Œ

å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„é¡¹ç›®éƒ½æ˜¯åŸºäºæ³¨è§£å¼€å‘çš„ã€‚

# Requestå’ŒResponseçš„æ¦‚è¿°

==Requestæ˜¯è¯·æ±‚å¯¹è±¡ï¼ŒResponseæ˜¯å“åº”å¯¹è±¡ã€‚==è¿™ä¸¤ä¸ªå¯¹è±¡åœ¨æˆ‘ä»¬ä½¿ç”¨Servletçš„æ—¶å€™æœ‰çœ‹åˆ°ï¼š

![](youdaonote-images/WEBRESOURCEb12b87c41f306e73d292e50364c50813.png)

æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æ€è€ƒä¸€ä¸ªé—®é¢˜requestå’Œresponseè¿™ä¸¤ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆ?

![](youdaonote-images/WEBRESOURCE117a5f7fab9c550b16bb1028916293ca.png)

- request:==è·å–==è¯·æ±‚æ•°æ®

- æµè§ˆå™¨ä¼šå‘é€HTTPè¯·æ±‚åˆ°åå°æœåŠ¡å™¨[Tomcat]

- HTTPçš„è¯·æ±‚ä¸­ä¼šåŒ…å«å¾ˆå¤šè¯·æ±‚æ•°æ®[è¯·æ±‚è¡Œ+è¯·æ±‚å¤´+è¯·æ±‚ä½“]

- åå°æœåŠ¡å™¨[Tomcat]ä¼šå¯¹HTTPè¯·æ±‚ä¸­çš„æ•°æ®è¿›è¡Œè§£æå¹¶æŠŠè§£æç»“æœå­˜å…¥åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­

- æ‰€å­˜å…¥çš„å¯¹è±¡å³ä¸ºrequestå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»requestå¯¹è±¡ä¸­è·å–è¯·æ±‚çš„ç›¸å…³å‚æ•°

- è·å–åˆ°æ•°æ®åå°±å¯ä»¥ç»§ç»­åç»­çš„ä¸šåŠ¡ï¼Œæ¯”å¦‚è·å–ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥å®ç°ç™»å½•æ“ä½œçš„ç›¸å…³ä¸šåŠ¡

- response:==è®¾ç½®==å“åº”æ•°æ®

- ä¸šåŠ¡å¤„ç†å®Œåï¼Œåå°å°±éœ€è¦ç»™å‰ç«¯è¿”å›ä¸šåŠ¡å¤„ç†çš„ç»“æœå³å“åº”æ•°æ®

- æŠŠå“åº”æ•°æ®å°è£…åˆ°responseå¯¹è±¡ä¸­

- åå°æœåŠ¡å™¨[Tomcat]ä¼šè§£æresponseå¯¹è±¡,æŒ‰ç…§[å“åº”è¡Œ+å“åº”å¤´+å“åº”ä½“]æ ¼å¼æ‹¼æ¥ç»“æœ

- æµè§ˆå™¨æœ€ç»ˆè§£æç»“æœï¼ŒæŠŠå†…å®¹å±•ç¤ºåœ¨æµè§ˆå™¨ç»™ç”¨æˆ·æµè§ˆ

# Requestå¯¹è±¡

## ä¸€ã€Requestç»§æ‰¿ä½“ç³»

- å½“æˆ‘ä»¬çš„Servletç±»å®ç°çš„æ˜¯Servletæ¥å£çš„æ—¶å€™ï¼Œserviceæ–¹æ³•ä¸­çš„å‚æ•°æ˜¯ServletRequestå’ŒServletResponse

- å½“æˆ‘ä»¬çš„Servletç±»ç»§æ‰¿çš„æ˜¯HttpServletç±»çš„æ—¶å€™ï¼ŒdoGetå’ŒdoPostæ–¹æ³•ä¸­çš„å‚æ•°å°±å˜æˆHttpServletRequestå’ŒHttpServletReponse

é‚£ä¹ˆï¼Œ

- ServletRequestå’ŒHttpServletRequestçš„å…³ç³»æ˜¯ä»€ä¹ˆ?

- requestå¯¹è±¡æ˜¯æœ‰è°æ¥åˆ›å»ºçš„?

- requestæä¾›äº†å“ªäº›API,è¿™äº›APIä»å“ªé‡ŒæŸ¥?

é¦–å…ˆï¼Œå…ˆæ¥çœ‹ä¸‹Requestçš„ç»§æ‰¿ä½“ç³»:

![](youdaonote-images/WEBRESOURCEffb2040c9f73f41774bdee43d65c503c.png)

ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒServletRequestå’ŒHttpServletRequestéƒ½æ˜¯Javaæä¾›çš„ï¼Œæ‰“å¼€JavaEEæä¾›çš„APIæ–‡æ¡£

å¯ä»¥çœ‹åˆ°:

![](youdaonote-images/WEBRESOURCE77dc9ac08cb9fc1ab0b215953ef180b7.png)

æ‰€ä»¥ServletRequestå’ŒHttpServletRequestæ˜¯ç»§æ‰¿å…³ç³»ï¼Œå¹¶ä¸”ä¸¤ä¸ªéƒ½æ˜¯æ¥å£ï¼Œæ¥å£æ˜¯æ— æ³•åˆ›å»ºå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶

å€™å°±å¼•å‘äº†ä¸‹é¢è¿™ä¸ªé—®é¢˜:

![](youdaonote-images/WEBRESOURCEe41b10afb4d913b83704b45582bbe9d4.png)

è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°Requestç»§æ‰¿ä½“ç³»ä¸­çš„RequestFacade:

- è¯¥ç±»å®ç°äº†HttpServletRequestæ¥å£ï¼Œä¹Ÿé—´æ¥å®ç°äº†ServletRequestæ¥å£ã€‚

- Servletç±»ä¸­çš„serviceæ–¹æ³•ã€doGetæ–¹æ³•æˆ–è€…æ˜¯doPostæ–¹æ³•æœ€ç»ˆéƒ½æ˜¯ç”±WebæœåŠ¡å™¨[Tomcat]æ¥è°ƒç”¨çš„ï¼Œæ‰€ä»¥Tomcatæä¾›äº†æ–¹æ³•å‚æ•°æ¥å£çš„å…·ä½“å®ç°ç±»ï¼Œå¹¶å®Œæˆäº†å¯¹è±¡çš„åˆ›å»º

- è¦æƒ³äº†è§£RequestFacadeä¸­éƒ½æä¾›äº†å“ªäº›æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŸ¥çœ‹JavaEEçš„APIæ–‡æ¡£ä¸­å…³äºServletRequestå’ŒHttpServletRequestçš„æ¥å£æ–‡æ¡£ï¼Œå› ä¸ºRequestFacadeå®ç°äº†å…¶æ¥å£å°±éœ€è¦é‡å†™æ¥å£ä¸­çš„æ–¹æ³•

å¯¹äºä¸Šè¿°ç»“è®ºï¼Œè¦æƒ³éªŒè¯ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªServletï¼Œåœ¨æ–¹æ³•ä¸­æŠŠrequestå¯¹è±¡æ‰“å°ä¸‹ï¼Œå°±èƒ½çœ‹åˆ°æœ€ç»ˆçš„å¯¹è±¡æ˜¯ä¸æ˜¯RequestFacade,ä»£ç å¦‚ä¸‹:

```
@WebServlet("/demo2")
public class ServletDemo2 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println(request);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â   }
}
```

å¯åŠ¨æœåŠ¡å™¨ï¼Œè¿è¡Œè®¿é—®http://localhost:8080/request-demo/demo2,å¾—åˆ°è¿è¡Œç»“æœ:

![](youdaonote-images/WEBRESOURCE3404debb7fd1d2b50bf92a18f052397d.png)

## äºŒã€Requestè·å–è¯·æ±‚æ•°æ®

### 1ã€ è·å–è¯·æ±‚è¡Œæ•°æ®

è¯·æ±‚è¡ŒåŒ…å«ä¸‰å—å†…å®¹ï¼Œåˆ†åˆ«æ˜¯è¯·æ±‚æ–¹å¼ã€è¯·æ±‚èµ„æºè·¯å¾„ã€HTTPåè®®åŠç‰ˆæœ¬

![](youdaonote-images/WEBRESOURCE3355cd36cbe7954936831756fbc74698.png)

å¯¹äºè¿™ä¸‰éƒ¨åˆ†å†…å®¹ï¼Œrequestå¯¹è±¡éƒ½æä¾›äº†å¯¹åº”çš„APIæ–¹æ³•æ¥è·å–ï¼Œå…·ä½“å¦‚ä¸‹:

- è·å–è¯·æ±‚æ–¹å¼: GET

```java
String getMethod()
```

- è·å–è™šæ‹Ÿç›®å½•(é¡¹ç›®è®¿é—®è·¯å¾„): /request-demo

```java
String getContextPath()
```

- è·å–URL(ç»Ÿä¸€èµ„æºå®šä½ç¬¦): http://localhost:8080/request-demo/req1

```java
StringBuffer getRequestURL()
```

- è·å–URI(ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦): /request-demo/req1

```java
String getRequestURI()
```

- è·å–è¯·æ±‚å‚æ•°(GETæ–¹å¼): username=zhangsan&password=123

```java
String getQueryString()
```

### 2ã€è·å–è¯·æ±‚å¤´æ•°æ®

å¯¹äºè¯·æ±‚å¤´çš„æ•°æ®ï¼Œæ ¼å¼ä¸ºkey: valueå¦‚ä¸‹:

![](youdaonote-images/WEBRESOURCE99a7a0463184e85645acf536c29bb112.png)

æ‰€ä»¥æ ¹æ®è¯·æ±‚å¤´åç§°è·å–å¯¹åº”å€¼çš„æ–¹æ³•ä¸º:

```java
String getHeader(String name)
```

ç¤ºä¾‹ä»£ç 

```java
package web;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet("/demo2")
public class demo2 extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        String header = request.getHeader("user-agent");
        System.out.println(header);
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request,response);
    }
}

```

### 3ã€è·å–è¯·æ±‚ä½“æ•°æ®

æµè§ˆå™¨åœ¨å‘é€GETè¯·æ±‚çš„æ—¶å€™æ˜¯æ²¡æœ‰è¯·æ±‚ä½“çš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠè¯·æ±‚æ–¹å¼å˜æ›´ä¸ºPOSTï¼Œè¯·æ±‚ä½“ä¸­çš„æ•°æ®

æ ¼å¼å¦‚ä¸‹:

![](youdaonote-images/WEBRESOURCE8d6db0aa8f3a314fc7bcf83d82cf44f6.png)

å¯¹äºè¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼ŒRequestå¯¹è±¡æä¾›äº†å¦‚ä¸‹ä¸¤ç§æ–¹å¼æ¥è·å–å…¶ä¸­çš„æ•°æ®ï¼Œåˆ†åˆ«æ˜¯:

- è·å–å­—èŠ‚è¾“å…¥æµï¼Œå¦‚æœå‰ç«¯å‘é€çš„æ˜¯å­—èŠ‚æ•°æ®ï¼Œæ¯”å¦‚ä¼ é€’çš„æ˜¯æ–‡ä»¶æ•°æ®ï¼Œåˆ™ä½¿ç”¨è¯¥æ–¹æ³•

```java
ServletInputStream getInputStream()
è¯¥æ–¹æ³•å¯ä»¥è·å–å­—èŠ‚
```

- è·å–å­—ç¬¦è¾“å…¥æµï¼Œå¦‚æœå‰ç«¯å‘é€çš„æ˜¯çº¯æ–‡æœ¬æ•°æ®ï¼Œåˆ™ä½¿ç”¨è¯¥æ–¹æ³•

```java
BufferedReader getReader()
```

è¦æƒ³è·å–åˆ°è¯·æ±‚ä½“çš„å†…å®¹è¯¥å¦‚ä½•å®ç°?

> å…·ä½“å®ç°çš„æ­¥éª¤å¦‚ä¸‹:

> 1.å‡†å¤‡ä¸€ä¸ªé¡µé¢ï¼Œåœ¨é¡µé¢ä¸­æ·»åŠ formè¡¨å•,ç”¨æ¥å‘é€postè¯·æ±‚

> 2.åœ¨Servletçš„doPostæ–¹æ³•ä¸­è·å–è¯·æ±‚ä½“æ•°æ®

> 3.åœ¨doPostæ–¹æ³•ä¸­ä½¿ç”¨requestçš„getReader()æˆ–è€…getInputStream()æ¥è·å–

> 4.è®¿é—®æµ‹è¯•

ç¤ºä¾‹ä»£ç 

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form action="demo3" method="post">
    ç”¨æˆ·åï¼š<input type="text" name="username">
    å¯†ç ï¼š<input type="password" name="password">
    <input type="submit">
</form>
</body>
</html>
```

```java
package web;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.BufferedReader;
import java.io.IOException;

@WebServlet("/demo3")
public class demo3 extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        BufferedReader reader = request.getReader();
        String s = reader.readLine();
        System.out.println(s);
    }
}

```

å°ç»“

HTTPè¯·æ±‚æ•°æ®ä¸­åŒ…å«äº†è¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ï¼Œé’ˆå¯¹è¿™ä¸‰éƒ¨åˆ†å†…å®¹ï¼ŒRequestå¯¹è±¡éƒ½æä¾›äº†å¯¹åº”çš„APIæ–¹æ³•æ¥è·å–å¯¹åº”çš„å€¼:

- è¯·æ±‚è¡Œ

- getMethod()è·å–è¯·æ±‚æ–¹å¼

- getContextPath()è·å–é¡¹ç›®è®¿é—®è·¯å¾„

- getRequestURL()è·å–è¯·æ±‚URL

- getRequestURI()è·å–è¯·æ±‚URI

- getQueryString()è·å–GETè¯·æ±‚æ–¹å¼çš„è¯·æ±‚å‚æ•°

- è¯·æ±‚å¤´

- getHeader(String name)æ ¹æ®è¯·æ±‚å¤´åç§°è·å–å…¶å¯¹åº”çš„å€¼

- è¯·æ±‚ä½“

- æ³¨æ„: ==æµè§ˆå™¨å‘é€çš„POSTè¯·æ±‚æ‰æœ‰è¯·æ±‚ä½“==

- å¦‚æœæ˜¯çº¯æ–‡æœ¬æ•°æ®:getReader()

- å¦‚æœæ˜¯å­—èŠ‚æ•°æ®å¦‚æ–‡ä»¶æ•°æ®:getInputStream()

### 4ã€è·å–è¯·æ±‚å‚æ•°çš„é€šç”¨æ–¹å¼

1.ä»€ä¹ˆæ˜¯è¯·æ±‚å‚æ•°?

æ‹¿ç”¨æˆ·ç™»å½•çš„ä¾‹å­æ¥è¯´æ˜

1.1 æƒ³è¦ç™»å½•ç½‘å€ï¼Œéœ€è¦è¿›å…¥ç™»å½•é¡µé¢

1.2 åœ¨ç™»å½•é¡µé¢è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 

1.3 å°†ç”¨æˆ·åå’Œå¯†ç æäº¤åˆ°åå°

1.4 åå°æ ¡éªŒç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®

1.5 å¦‚æœæ­£ç¡®ï¼Œåˆ™æ­£å¸¸ç™»å½•ï¼Œå¦‚æœä¸æ­£ç¡®ï¼Œåˆ™æç¤ºç”¨æˆ·åæˆ–å¯†ç é”™è¯¯

ä¸Šè¿°ä¾‹å­ä¸­ï¼Œç”¨æˆ·åå’Œå¯†ç å…¶å®å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„è¯·æ±‚å‚æ•°ã€‚

2.ä»€ä¹ˆæ˜¯è¯·æ±‚æ•°æ®?

è¯·æ±‚æ•°æ®åˆ™æ˜¯åŒ…å«è¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“çš„æ‰€æœ‰æ•°æ®

3.è¯·æ±‚å‚æ•°å’Œè¯·æ±‚æ•°æ®çš„å…³ç³»æ˜¯ä»€ä¹ˆ?

3.1 è¯·æ±‚å‚æ•°æ˜¯è¯·æ±‚æ•°æ®ä¸­çš„éƒ¨åˆ†å†…å®¹

3.2 å¦‚æœæ˜¯GETè¯·æ±‚ï¼Œè¯·æ±‚å‚æ•°åœ¨è¯·æ±‚è¡Œä¸­

3.3 å¦‚æœæ˜¯POSTè¯·æ±‚ï¼Œè¯·æ±‚å‚æ•°ä¸€èˆ¬åœ¨è¯·æ±‚ä½“ä¸­

å¯¹äºè¯·æ±‚å‚æ•°çš„è·å–,å¸¸ç”¨çš„æœ‰ä»¥ä¸‹ä¸¤ç§:

- GETæ–¹å¼:

```java
String getQueryString()
```

- POSTæ–¹å¼:

```java
BufferedReader getReader();
```

GETè¯·æ±‚æ–¹å¼å’ŒPOSTè¯·æ±‚æ–¹å¼åŒºåˆ«ä¸»è¦åœ¨äºè·å–è¯·æ±‚å‚æ•°çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œæ˜¯å¦å¯ä»¥æä¾›ä¸€ç§==ç»Ÿä¸€

==è·å–è¯·æ±‚å‚æ•°çš„æ–¹å¼ï¼Œä»è€Œ==ç»Ÿä¸€==doGetå’ŒdoPostæ–¹æ³•å†…çš„ä»£ç ?

è§£å†³æ–¹æ¡ˆä¸€:

```java
@WebServlet("/req1")
public class RequestDemo1 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
 Â  Â  Â  Â //è·å–è¯·æ±‚æ–¹å¼
 Â  Â  Â  Â String method = req.getMethod();
 Â  Â  Â  Â //è·å–è¯·æ±‚å‚æ•°
 Â  Â  Â  Â String params = "";
 Â  Â  Â  Â if("GET".equals(method)){
 Â  Â  Â  Â  Â  Â params = req.getQueryString();
 Â  Â  Â   }else if("POST".equals(method)){
 Â  Â  Â  Â  Â  Â BufferedReader reader = req.getReader();
 Â  Â  Â  Â  Â  Â params = reader.readLine();
 Â  Â  Â   }
 Â  Â  Â  Â //å°†è¯·æ±‚å‚æ•°è¿›è¡Œæ‰“å°æ§åˆ¶å°
 Â  Â  Â  Â System.out.println(params);
 Â  Â  Â 
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(req,resp);
 Â   }
}
```

ä½¿ç”¨requestçš„getMethod()æ¥è·å–è¯·æ±‚æ–¹å¼ï¼Œæ ¹æ®è¯·æ±‚æ–¹å¼çš„ä¸åŒåˆ†åˆ«è·å–è¯·æ±‚å‚æ•°å€¼ï¼Œè¿™æ ·å°±å¯ä»¥

è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œä½†æ˜¯ä»¥åæ¯ä¸ªServletéƒ½éœ€è¦è¿™æ ·å†™ä»£ç ï¼Œå®ç°èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œè¿™ç§æ–¹æ¡ˆæˆ‘ä»¬ä¸é‡‡ç”¨

è§£å†³æ–¹æ¡ˆäºŒ:

requestå¯¹è±¡å·²ç»å°†ä¸Šè¿°è·å–è¯·æ±‚å‚æ•°çš„æ–¹æ³•è¿›è¡Œäº†å°è£…ï¼Œå¹¶ä¸”requestæä¾›çš„æ–¹æ³•å®ç°çš„åŠŸèƒ½æ›´å¼º

å¤§ï¼Œä»¥ååªéœ€è¦è°ƒç”¨requestæä¾›çš„æ–¹æ³•å³å¯ï¼Œåœ¨requestçš„æ–¹æ³•ä¸­éƒ½å®ç°äº†å“ªäº›æ“ä½œ?

(1)æ ¹æ®ä¸åŒçš„è¯·æ±‚æ–¹å¼è·å–è¯·æ±‚å‚æ•°ï¼Œè·å–çš„å†…å®¹å¦‚ä¸‹:

![](youdaonote-images/WEBRESOURCEbfe0de67e1e0950d71fb5b87c5eef5eb.png)

(2)æŠŠè·å–åˆ°çš„å†…å®¹è¿›è¡Œåˆ†å‰²ï¼Œå†…å®¹å¦‚ä¸‹:

![](youdaonote-images/WEBRESOURCE736afd01926b205a901ecd82004dae41.png)

(3)æŠŠåˆ†å‰²åç«¯æ•°æ®ï¼Œå­˜å…¥åˆ°ä¸€ä¸ªMapé›†åˆä¸­:

![](youdaonote-images/WEBRESOURCE643804ceb70b34ed72a5bd4f2c689e33.png)

æ³¨æ„:å› ä¸ºå‚æ•°çš„å€¼å¯èƒ½æ˜¯ä¸€ä¸ªï¼Œä¹Ÿå¯èƒ½æœ‰å¤šä¸ªï¼Œæ‰€ä»¥Mapçš„å€¼çš„ç±»å‹ä¸ºStringæ•°ç»„ã€‚

åŸºäºä¸Šè¿°ç†è®ºï¼Œrequestå¯¹è±¡ä¸ºæˆ‘ä»¬æä¾›äº†å¦‚ä¸‹æ–¹æ³•:

- è·å–æ‰€æœ‰å‚æ•°Mapé›†åˆ

```java
Map<String,String[]> getParameterMap()
```

- æ ¹æ®åç§°è·å–å‚æ•°å€¼ï¼ˆæ•°ç»„ï¼‰

```java
String[] getParameterValues(String name)
```

- æ ¹æ®åç§°è·å–å‚æ•°å€¼(å•ä¸ªå€¼)

```java
String getParameter(String name)
```

## ä¸‰ã€IDEAå¿«é€Ÿåˆ›å»ºServlet

(1)æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚ï¼Œä¿®æ”¹Servletåˆ›å»ºçš„æ¨¡æ¿å†…å®¹

![](youdaonote-images/WEBRESOURCE57cfb320291c482c8bf3ccc1802393e4.png)

(2)ä½¿ç”¨servletæ¨¡æ¿åˆ›å»ºServletç±»	

![](youdaonote-images/WEBRESOURCE8c7039e6542d4cdb5110429044632b34.png)

## å››ã€è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜

### 1ã€POSTè¯·æ±‚è§£å†³æ–¹æ¡ˆ

- åˆ†æå‡ºç°ä¸­æ–‡ä¹±ç çš„åŸå› ï¼š

- POSTçš„è¯·æ±‚å‚æ•°æ˜¯é€šè¿‡requestçš„getReader()æ¥è·å–æµä¸­çš„æ•°æ®

- TOMCATåœ¨è·å–æµçš„æ—¶å€™é‡‡ç”¨çš„ç¼–ç æ˜¯ISO-8859-1

- ISO-8859-1ç¼–ç æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä¹±ç 

- è§£å†³æ–¹æ¡ˆï¼š

- é¡µé¢è®¾ç½®çš„ç¼–ç æ ¼å¼ä¸ºUTF-8

- æŠŠTOMCATåœ¨è·å–æµæ•°æ®ä¹‹å‰çš„ç¼–ç è®¾ç½®ä¸ºUTF-8

- é€šè¿‡request.setCharacterEncoding("UTF-8")è®¾ç½®ç¼–ç ,UTF-8ä¹Ÿå¯ä»¥å†™æˆå°å†™

ä¿®æ”¹åçš„ä»£ç ä¸º:

```java
/**
 * ä¸­æ–‡ä¹±ç é—®é¢˜è§£å†³æ–¹æ¡ˆ
 */
@WebServlet("/req4")
public class RequestDemo4 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //1. è§£å†³ä¹±ç : POST getReader()
 Â  Â  Â  Â //è®¾ç½®å­—ç¬¦è¾“å…¥æµçš„ç¼–ç ï¼Œè®¾ç½®çš„å­—ç¬¦é›†è¦å’Œé¡µé¢ä¿æŒä¸€è‡´
 Â  Â  Â  Â request.setCharacterEncoding("UTF-8");
 Â  Â  Â  //2. è·å–username
 Â  Â  Â  String username = request.getParameter("username");
 Â  Â  Â  System.out.println(username);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

é‡æ–°å‘é€POSTè¯·æ±‚ï¼Œå°±ä¼šåœ¨æ§åˆ¶å°çœ‹åˆ°æ­£å¸¸å±•ç¤ºçš„ä¸­æ–‡ç»“æœã€‚

### 2ã€GETè¯·æ±‚è§£å†³æ–¹æ¡ˆ

- åˆ†æå‡ºç°ä¸­æ–‡ä¹±ç çš„åŸå› ï¼š

- æµè§ˆå™¨æŠŠä¸­æ–‡å‚æ•°æŒ‰ç…§UTF-8è¿›è¡ŒURLç¼–ç 

- Tomcatå¯¹è·å–åˆ°çš„å†…å®¹è¿›è¡Œäº†ISO-8859-1çš„URLè§£ç 

- åœ¨æ§åˆ¶å°å°±ä¼šå‡ºç°ç±»ä¼¼Ã¥Â¼ Ã¤Â¸Â‰çš„ä¹±ç ï¼Œæœ€åä¸€ä½æ˜¯ä¸ªç©ºæ ¼

- è§£å†³æ–¹æ¡ˆ

- åœ¨è¿›è¡Œç¼–ç å’Œè§£ç çš„æ—¶å€™ï¼Œä¸ç®¡ä½¿ç”¨çš„æ˜¯å“ªä¸ªå­—ç¬¦é›†ï¼Œä»–ä»¬å¯¹åº”çš„%E5%BC%A0%E4%B8%89æ˜¯ä¸€è‡´çš„

- é‚£ä»–ä»¬å¯¹åº”çš„äºŒè¿›åˆ¶å€¼ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¸º:

- 1110 0101 1011 1100 1010 0000 1110 0100 1011 1000 1000 1001

- æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘æŠŠÃ¥Â¼ Ã¤Â¸Â‰è½¬æ¢æˆå­—èŠ‚ï¼Œåœ¨æŠŠå­—èŠ‚è½¬æ¢æˆå¼ ä¸‰ï¼Œåœ¨è½¬æ¢çš„è¿‡ç¨‹ä¸­æ˜¯å®ƒä»¬çš„ç¼–ç ä¸€è‡´ï¼Œå°±å¯ä»¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚

å…·ä½“çš„å®ç°æ­¥éª¤ä¸º:

> 1.æŒ‰ç…§ISO-8859-1ç¼–ç è·å–ä¹±ç Ã¥Â¼ Ã¤Â¸Â‰å¯¹åº”çš„å­—èŠ‚æ•°ç»„

> 2.æŒ‰ç…§UTF-8ç¼–ç è·å–å­—èŠ‚æ•°ç»„å¯¹åº”çš„å­—ç¬¦ä¸²

ç¤ºä¾‹ä»£ç 

```java
package web;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.BufferedReader;
import java.io.IOException;
import java.nio.charset.StandardCharsets;

@WebServlet("/demo4")
public class demo4 extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        String username = request.getParameter("username");
        username=new String(username.getBytes(StandardCharsets.ISO_8859_1),StandardCharsets.UTF_8);
        System.out.println(username);
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request,response);
    }
}

```

æ³¨æ„

- æŠŠrequest.setCharacterEncoding("UTF-8")ä»£ç æ³¨é‡Šæ‰åï¼Œä¼šå‘ç°GETè¯·æ±‚å‚æ•°ä¹±ç è§£å†³æ–¹æ¡ˆåŒæ—¶ä¹Ÿå¯ä¹ŸæŠŠPOSTè¯·æ±‚å‚æ•°ä¹±ç çš„é—®é¢˜ä¹Ÿè§£å†³äº†

- åªä¸è¿‡å¯¹äºPOSTè¯·æ±‚å‚æ•°ä¸€èˆ¬éƒ½ä¼šæ¯”è¾ƒå¤šï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼è§£å†³ä¹±ç èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥å¯¹äºPOSTè¯·æ±‚è¿˜æ˜¯å»ºè®®ä½¿ç”¨è®¾ç½®ç¼–ç çš„æ–¹å¼è¿›è¡Œã€‚

å¦å¤–éœ€è¦è¯´æ˜ä¸€ç‚¹çš„æ˜¯==Tomcat8.0ä¹‹åï¼Œå·²å°†GETè¯·æ±‚ä¹±ç é—®é¢˜è§£å†³ï¼Œè®¾ç½®é»˜è®¤çš„è§£ç æ–¹å¼ä¸ºUTF-

8==

## äº”ã€Requestè¯·æ±‚è½¬å‘

1. ==è¯·æ±‚è½¬å‘(forward):ä¸€ç§åœ¨æœåŠ¡å™¨å†…éƒ¨çš„èµ„æºè·³è½¬æ–¹å¼ã€‚==

![](youdaonote-images/WEBRESOURCEe6ea4eaecfa55679001af82d9644d3d4.png)

(1)æµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸­å¯¹åº”çš„èµ„æºAæ¥æ”¶åˆ°è¯·æ±‚

(2)èµ„æºAå¤„ç†å®Œè¯·æ±‚åå°†è¯·æ±‚å‘ç»™èµ„æºB

(3)èµ„æºBå¤„ç†å®Œåå°†ç»“æœå“åº”ç»™æµè§ˆå™¨

(4)è¯·æ±‚ä»èµ„æºAåˆ°èµ„æºBçš„è¿‡ç¨‹å°±å«==è¯·æ±‚è½¬å‘==

1. è¯·æ±‚è½¬å‘çš„å®ç°æ–¹å¼:

```java
req.getRequestDispatcher("èµ„æºBè·¯å¾„").forward(req,resp);
```

å…·ä½“å¦‚ä½•æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹éœ€æ±‚:

![](youdaonote-images/WEBRESOURCE771b93989d042fcdd9c4746e1f52158c.png)

é’ˆå¯¹ä¸Šè¿°éœ€æ±‚ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤ä¸º:

> 1.åˆ›å»ºä¸€ä¸ªRequestDemo5ç±»ï¼Œæ¥æ”¶/req5çš„è¯·æ±‚ï¼Œåœ¨doGetæ–¹æ³•ä¸­æ‰“å°demo52.åˆ›å»ºä¸€ä¸ªRequestDemo6ç±»ï¼Œæ¥æ”¶/req6çš„è¯·æ±‚ï¼Œåœ¨doGetæ–¹æ³•ä¸­æ‰“å°demo63.åœ¨RequestDemo5çš„æ–¹æ³•ä¸­ä½¿ç”¨	req.getRequestDispatcher("/req6").forward(req,resp)è¿›è¡Œè¯·æ±‚è½¬å‘4.å¯åŠ¨æµ‹è¯•

(1)åˆ›å»ºRequestDemo5ç±»

```java
/**
 * è¯·æ±‚è½¬å‘
 */
@WebServlet("/req5")
public class RequestDemo5 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("demo5...");
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(2)åˆ›å»ºRequestDemo6ç±»

```java
/**
 * è¯·æ±‚è½¬å‘
 */
@WebServlet("/req6")
public class RequestDemo6 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("demo6...");
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(3)åœ¨RequestDemo5çš„doGetæ–¹æ³•ä¸­è¿›è¡Œè¯·æ±‚è½¬å‘

```java
/**
 * è¯·æ±‚è½¬å‘
 */
@WebServlet("/req5")
public class RequestDemo5 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("demo5...");
 Â  Â  Â  Â //è¯·æ±‚è½¬å‘
 Â  Â  Â  Â request.getRequestDispatcher("/req6").forward(request,response);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(4)å¯åŠ¨æµ‹è¯•

è®¿é—®http://localhost:8080/request-demo/req5,å°±å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°å¦‚ä¸‹å†…å®¹:

![](youdaonote-images/WEBRESOURCE884d5a202a68d10c4b6b3e336a481713.png)

è¯´æ˜è¯·æ±‚å·²ç»è½¬å‘åˆ°äº†/req6

1. è¯·æ±‚è½¬å‘èµ„æºé—´å…±äº«æ•°æ®:ä½¿ç”¨Requestå¯¹è±¡

æ­¤å¤„ä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯æŠŠè¯·æ±‚ä»/req5è½¬å‘åˆ°/req6çš„æ—¶å€™ï¼Œå¦‚ä½•ä¼ é€’æ•°æ®ç»™/req6ã€‚

éœ€è¦ä½¿ç”¨requestå¯¹è±¡æä¾›çš„ä¸‰ä¸ªæ–¹æ³•:

- å­˜å‚¨æ•°æ®åˆ°requeståŸŸ[èŒƒå›´,æ•°æ®æ˜¯å­˜å‚¨åœ¨requestå¯¹è±¡]ä¸­

```java
void setAttribute(String name,Object o);
```

- æ ¹æ®keyè·å–å€¼

```java
Object getAttribute(String name);
```

- æ ¹æ®keyåˆ é™¤è¯¥é”®å€¼å¯¹

```java
void removeAttribute(String name);
```

æ¥ç€ä¸Šä¸ªéœ€æ±‚æ¥:



![](youdaonote-images/WEBRESOURCEe51930c991e01a6244c5df15a418b337.png)

> 1.åœ¨RequestDemo5çš„doGetæ–¹æ³•ä¸­è½¬å‘è¯·æ±‚ä¹‹å‰ï¼Œå°†æ•°æ®å­˜å…¥requeståŸŸå¯¹è±¡ä¸­

> 2.åœ¨RequestDemo6çš„doGetæ–¹æ³•ä»requeståŸŸå¯¹è±¡ä¸­è·å–æ•°æ®ï¼Œå¹¶å°†æ•°æ®æ‰“å°åˆ°æ§åˆ¶å°

> 3.å¯åŠ¨è®¿é—®æµ‹è¯•

(1)ä¿®æ”¹RequestDemo5ä¸­çš„æ–¹æ³•

```java
@WebServlet("/req5")
public class RequestDemo5 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("demo5...");
 Â  Â  Â  Â //å­˜å‚¨æ•°æ®
 Â  Â  Â  Â request.setAttribute("msg","hello");
 Â  Â  Â  Â //è¯·æ±‚è½¬å‘
 Â  Â  Â  Â request.getRequestDispatcher("/req6").forward(request,response);
â€‹
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(2)ä¿®æ”¹RequestDemo6ä¸­çš„æ–¹æ³•

```java
/**
 * è¯·æ±‚è½¬å‘
 */
@WebServlet("/req6")
public class RequestDemo6 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("demo6...");
 Â  Â  Â  Â //è·å–æ•°æ®
 Â  Â  Â  Â Object msg = request.getAttribute("msg");
 Â  Â  Â  Â System.out.println(msg);
â€‹
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(3)å¯åŠ¨æµ‹è¯•

è®¿é—®http://localhost:8080/request-demo/req5,å°±å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°å¦‚ä¸‹å†…å®¹:

![](youdaonote-images/WEBRESOURCE52267a96efb4fabe7332522f21c270cc.png)

æ­¤æ—¶å°±å¯ä»¥å®ç°åœ¨è½¬å‘å¤šä¸ªèµ„æºä¹‹é—´å…±äº«æ•°æ®ã€‚

1. è¯·æ±‚è½¬å‘çš„ç‰¹ç‚¹

- æµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸å‘ç”Ÿå˜åŒ–

è™½ç„¶åå°ä»/req5è½¬å‘åˆ°/req6,ä½†æ˜¯æµè§ˆå™¨çš„åœ°å€ä¸€ç›´æ˜¯/req5,æœªå‘ç”Ÿå˜åŒ–

![](youdaonote-images/WEBRESOURCEe0ad6c1126e27701741f0b2b473fe404.png)

- åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨çš„å†…éƒ¨èµ„æº

ä¸èƒ½ä»ä¸€ä¸ªæœåŠ¡å™¨é€šè¿‡è½¬å‘è®¿é—®å¦ä¸€å°æœåŠ¡å™¨

- ä¸€æ¬¡è¯·æ±‚ï¼Œå¯ä»¥åœ¨è½¬å‘èµ„æºé—´ä½¿ç”¨requestå…±äº«æ•°æ®

è™½ç„¶åå°ä»/req5è½¬å‘åˆ°/req6ï¼Œä½†æ˜¯è¿™ä¸ª==åªæœ‰ä¸€æ¬¡è¯·æ±‚==

# Responseå¯¹è±¡

## ä¸€ã€ Responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»

HTTPå“åº”æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼Œåˆ†åˆ«æ˜¯==å“åº”è¡Œã€å“åº”å¤´ã€å“åº”ä½“==ï¼Œå¯¹äºè¿™ä¸‰éƒ¨åˆ†å†…å®¹çš„æ•°æ®ï¼Œ

responeå¯¹è±¡éƒ½æä¾›äº†å“ªäº›æ–¹æ³•æ¥è¿›è¡Œè®¾ç½®?

1. å“åº”è¡Œ

![](youdaonote-images/WEBRESOURCE4edbb0b230fada95e0bb3d1d1e789b89.png)

å¯¹äºå“åº”å¤´ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å°±æ˜¯è®¾ç½®å“åº”çŠ¶æ€ç :

```java
void setStatus(int sc);
```

1. å“åº”å¤´

![](youdaonote-images/WEBRESOURCE2765d36be89be5d3d122f7c124870133.png)

è®¾ç½®å“åº”å¤´é”®å€¼å¯¹ï¼š

```java
void setHeader(String name,String value);
```

1. å“åº”ä½“

![](youdaonote-images/WEBRESOURCE627c372057e28b974f05320937e34ac0.png)

å¯¹äºå“åº”ä½“ï¼Œæ˜¯é€šè¿‡å­—ç¬¦ã€å­—èŠ‚è¾“å‡ºæµçš„æ–¹å¼å¾€æµè§ˆå™¨å†™ï¼Œ

è·å–å­—ç¬¦è¾“å‡ºæµ:

```java
PrintWriter getWriter();
```

è·å–å­—èŠ‚è¾“å‡ºæµ

```java
ServletOutputStream getOutputStream();
```

## äºŒã€Responesè¯·æ±‚é‡å®šå‘

1. ==Responseé‡å®šå‘(redirect):ä¸€ç§èµ„æºè·³è½¬æ–¹å¼ã€‚==

![](youdaonote-images/WEBRESOURCE9c585e63483874a3777eea8930957af8.png)

(1)æµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸­å¯¹åº”çš„èµ„æºAæ¥æ”¶åˆ°è¯·æ±‚

(2)èµ„æºAç°åœ¨æ— æ³•å¤„ç†è¯¥è¯·æ±‚ï¼Œå°±ä¼šç»™æµè§ˆå™¨å“åº”ä¸€ä¸ª302çš„çŠ¶æ€ç +locationçš„ä¸€ä¸ªè®¿é—®èµ„æºBçš„è·¯å¾„

(3)æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”çŠ¶æ€ç ä¸º302å°±ä¼šé‡æ–°å‘é€è¯·æ±‚åˆ°locationå¯¹åº”çš„è®¿é—®åœ°å€å»è®¿é—®èµ„æºB

(4)èµ„æºBæ¥æ”¶åˆ°è¯·æ±‚åè¿›è¡Œå¤„ç†å¹¶æœ€ç»ˆç»™æµè§ˆå™¨å“åº”ç»“æœï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹å°±å«==é‡å®šå‘==

1. é‡å®šå‘çš„å®ç°æ–¹å¼:

```java
resp.setStatus(302);
resp.setHeader("location","èµ„æºBçš„è®¿é—®è·¯å¾„");
```

å…·ä½“å¦‚ä½•æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹éœ€æ±‚:

![](youdaonote-images/WEBRESOURCE6d4893d5f58b4de4af5cadbe5065c95b.png)

é’ˆå¯¹ä¸Šè¿°éœ€æ±‚ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤ä¸º:

> 1.åˆ›å»ºä¸€ä¸ªResponseDemo1ç±»ï¼Œæ¥æ”¶/resp1çš„è¯·æ±‚ï¼Œåœ¨doGetæ–¹æ³•ä¸­æ‰“å°resp1....

> 2.åˆ›å»ºä¸€ä¸ªResponseDemo2ç±»ï¼Œæ¥æ”¶/resp2çš„è¯·æ±‚ï¼Œåœ¨doGetæ–¹æ³•ä¸­æ‰“å°resp2....

> 3.åœ¨ResponseDemo1çš„æ–¹æ³•ä¸­ä½¿ç”¨	response.setStatus(302);	response.setHeader("Location","/request-demo/resp2") æ¥ç»™å‰ç«¯å“åº”ç»“æœæ•°æ®

> 4.å¯åŠ¨æµ‹è¯•

ç¤ºä¾‹ä»£ç 

```java
package web;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;

@WebServlet("/demo1")
public class demo1 extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        response.setStatus(302);
        response.setHeader("location","demo2");
        System.out.println("demo1");
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request, response);
    }
}

```

```java
package web;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet("/demo2")
public class demo2 extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        System.out.println("demo2");
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request, response);
    }
}

```

è™½ç„¶åŠŸèƒ½å·²ç»å®ç°ï¼Œä½†æ˜¯ä»è®¾ç½®é‡å®šå‘çš„ä¸¤è¡Œä»£ç æ¥çœ‹ï¼Œä¼šå‘ç°é™¤äº†é‡å®šå‘çš„åœ°å€ä¸ä¸€æ ·ï¼Œå…¶ä»–çš„å†…å®¹éƒ½

æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œæ‰€ä»¥requestå¯¹è±¡ç»™æˆ‘ä»¬æä¾›äº†ç®€åŒ–çš„ç¼–å†™æ–¹å¼ä¸º:

```java
resposne.sendRedirect("demo2")
```

1. é‡å®šå‘çš„ç‰¹ç‚¹	

- æµè§ˆå™¨åœ°å€æ è·¯å¾„å‘é€å˜åŒ–

å½“è¿›è¡Œé‡å®šå‘è®¿é—®çš„æ—¶å€™ï¼Œç”±äºæ˜¯ç”±æµè§ˆå™¨å‘é€çš„ä¸¤æ¬¡è¯·æ±‚ï¼Œæ‰€ä»¥åœ°å€ä¼šå‘ç”Ÿå˜åŒ–

- å¯ä»¥é‡å®šå‘åˆ°ä»»ä½•ä½ç½®çš„èµ„æº(æœåŠ¡å†…å®¹ã€å¤–éƒ¨å‡å¯)

å› ä¸ºç¬¬ä¸€æ¬¡å“åº”ç»“æœä¸­åŒ…å«äº†æµè§ˆå™¨ä¸‹æ¬¡è¦è·³è½¬çš„è·¯å¾„ï¼Œæ‰€ä»¥è¿™ä¸ªè·¯å¾„æ˜¯å¯ä»¥ä»»æ„ä½ç½®èµ„æºã€‚

- ä¸¤æ¬¡è¯·æ±‚ï¼Œä¸èƒ½åœ¨å¤šä¸ªèµ„æºä½¿ç”¨requestå…±äº«æ•°æ®

å› ä¸ºæµè§ˆå™¨å‘é€äº†ä¸¤æ¬¡è¯·æ±‚ï¼Œæ˜¯ä¸¤ä¸ªä¸åŒçš„requestå¯¹è±¡ï¼Œå°±æ— æ³•é€šè¿‡requestå¯¹è±¡è¿›è¡Œå…±äº«æ•°æ®

ä»‹ç»å®Œ==è¯·æ±‚é‡å®šå‘==å’Œ==è¯·æ±‚è½¬å‘==ä»¥åï¼Œæ¥ä¸‹æ¥éœ€è¦æŠŠè¿™ä¸¤ä¸ªæ”¾åœ¨ä¸€å—å¯¹æ¯”ä¸‹:

![](youdaonote-images/WEBRESOURCE14fcf7b5086cfb32c55d3f8460367fc3.png)

ä»¥ååˆ°åº•ç”¨å“ªä¸ªï¼Œè¿˜æ˜¯éœ€è¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡æ¥å†³å®šã€‚

## ä¸‰ã€è·¯å¾„é—®é¢˜

1. é—®é¢˜1ï¼šè½¬å‘çš„æ—¶å€™è·¯å¾„ä¸Šæ²¡æœ‰åŠ /request-demoè€Œé‡å®šå‘åŠ äº†ï¼Œé‚£ä¹ˆåˆ°åº•ä»€ä¹ˆæ—¶å€™éœ€è¦åŠ ï¼Œä»€ä¹ˆæ—¶å€™ä¸éœ€è¦åŠ å‘¢?

![](youdaonote-images/WEBRESOURCE8a3646f51ddedb16bace6554154b4566.png)

å…¶å®åˆ¤æ–­çš„ä¾æ®å¾ˆç®€å•ï¼Œåªéœ€è¦è®°ä½ä¸‹é¢çš„è§„åˆ™å³å¯:

- æµè§ˆå™¨ä½¿ç”¨:éœ€è¦åŠ è™šæ‹Ÿç›®å½•(é¡¹ç›®è®¿é—®è·¯å¾„)



- æœåŠ¡ç«¯ä½¿ç”¨:ä¸éœ€è¦åŠ è™šæ‹Ÿç›®å½•

å¯¹äºè½¬å‘æ¥è¯´ï¼Œå› ä¸ºæ˜¯åœ¨æœåŠ¡ç«¯è¿›è¡Œçš„ï¼Œæ‰€ä»¥ä¸éœ€è¦åŠ è™šæ‹Ÿç›®å½•

å¯¹äºé‡å®šå‘æ¥è¯´ï¼Œè·¯å¾„æœ€ç»ˆæ˜¯ç”±æµè§ˆå™¨æ¥å‘é€è¯·æ±‚ï¼Œå°±éœ€è¦æ·»åŠ è™šæ‹Ÿç›®å½•ã€‚

æŒæ¡äº†è¿™ä¸ªè§„åˆ™ï¼Œæ¥ä¸‹æ¥å°±é€šè¿‡ä¸€äº›ç»ƒä¹ æ¥å¼ºåŒ–ä¸‹çŸ¥è¯†çš„å­¦ä¹ :

- <a href='è·¯åŠ²'>

- <form action='è·¯å¾„'>

- req.getRequestDispatcher("è·¯å¾„")

- resp.sendRedirect("è·¯å¾„")

ç­”æ¡ˆ:

```
1.è¶…é“¾æ¥ï¼Œä»æµè§ˆå™¨å‘é€ï¼Œéœ€è¦åŠ 
2.è¡¨å•ï¼Œä»æµè§ˆå™¨å‘é€ï¼Œéœ€è¦åŠ 
3.è½¬å‘ï¼Œæ˜¯ä»æœåŠ¡å™¨å†…éƒ¨è·³è½¬ï¼Œä¸éœ€è¦åŠ 
4.é‡å®šå‘ï¼Œæ˜¯ç”±æµè§ˆå™¨è¿›è¡Œè·³è½¬ï¼Œéœ€è¦åŠ ã€‚
```

1. é—®é¢˜2ï¼šåœ¨é‡å®šå‘çš„ä»£ç ä¸­ï¼Œ/request-demoæ˜¯å›ºå®šç¼–ç çš„ï¼Œå¦‚æœåæœŸé€šè¿‡Tomcatæ’ä»¶é…ç½®äº†é¡¹ç›®çš„è®¿é—®è·¯å¾„ï¼Œé‚£ä¹ˆæ‰€æœ‰éœ€è¦é‡å®šå‘çš„åœ°æ–¹éƒ½éœ€è¦é‡æ–°ä¿®æ”¹ï¼Œè¯¥å¦‚ä½•ä¼˜åŒ–?

![](youdaonote-images/WEBRESOURCEce0904ed8b60f5bfa47349a2e542a85a.png)

ç­”æ¡ˆä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­åŠ¨æ€å»è·å–é¡¹ç›®è®¿é—®çš„è™šæ‹Ÿç›®å½•ï¼Œå…·ä½“å¦‚ä½•è·å–ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©å‰é¢

å’±ä»¬æ‰€å­¦ä¹ çš„requestå¯¹è±¡ä¸­çš„getContextPath()æ–¹æ³•ï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹:

```java
@WebServlet("/resp1")
public class ResponseDemo1 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("resp1....");
â€‹
 Â  Â  Â  Â //ç®€åŒ–æ–¹å¼å®Œæˆé‡å®šå‘
 Â  Â  Â  Â //åŠ¨æ€è·å–è™šæ‹Ÿç›®å½•
 Â  Â  Â  Â String contextPath = request.getContextPath();
 Â  Â  Â  Â response.sendRedirect(contextPath+"/resp2");
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

é‡æ–°å¯åŠ¨è®¿é—®æµ‹è¯•ï¼ŒåŠŸèƒ½ä¾ç„¶èƒ½å¤Ÿå®ç°ï¼Œæ­¤æ—¶å°±å¯ä»¥åŠ¨æ€è·å–é¡¹ç›®è®¿é—®çš„è™šæ‹Ÿè·¯å¾„ï¼Œä»è€Œé™ä½ä»£ç çš„è€¦åˆ

åº¦ã€‚

## å››ã€ Responseå“åº”å­—ç¬¦æ•°æ®

è¦æƒ³å°†å­—ç¬¦æ•°æ®å†™å›åˆ°æµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ­¥éª¤:

- é€šè¿‡Responseå¯¹è±¡è·å–å­—ç¬¦è¾“å‡ºæµï¼š PrintWriter writer = resp.getWriter();

- é€šè¿‡å­—ç¬¦è¾“å‡ºæµå†™æ•°æ®: writer.write("aaa");

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®ç°é€šè¿‡äº›æ¡ˆä¾‹æŠŠå“åº”å­—ç¬¦æ•°æ®ç»™å®é™…åº”ç”¨ä¸‹:

1. è¿”å›ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²aaa

```
/**
 * å“åº”å­—ç¬¦æ•°æ®ï¼šè®¾ç½®å­—ç¬¦æ•°æ®çš„å“åº”ä½“
 */
@WebServlet("/resp3")
public class ResponseDemo3 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â response.setContentType("text/html;charset=utf-8");
 Â  Â  Â  Â //1. è·å–å­—ç¬¦è¾“å‡ºæµ
 Â  Â  Â  Â PrintWriter writer = response.getWriter();
         writer.write("aaa");
 Â   }
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

![](youdaonote-images/WEBRESOURCE82ea52e2e0f4cca56feb5f497b59ba7c.png)

1. è¿”å›ä¸€ä¸²htmlå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”èƒ½è¢«æµè§ˆå™¨è§£æ

```
PrintWriter writer = response.getWriter();
//content-typeï¼Œå‘Šè¯‰æµè§ˆå™¨è¿”å›çš„æ•°æ®ç±»å‹æ˜¯HTMLç±»å‹æ•°æ®ï¼Œè¿™æ ·æµè§ˆå™¨æ‰ä¼šè§£æHTMLæ ‡ç­¾
response.setHeader("content-type","text/html");
writer.write("<h1>aaa</h1>");
```

![](youdaonote-images/WEBRESOURCE78dd520277845ca34bad005bf0e64d10.png)

==æ³¨æ„:==ä¸€æ¬¡è¯·æ±‚å“åº”ç»“æŸåï¼Œresponseå¯¹è±¡å°±ä¼šè¢«é”€æ¯æ‰ï¼Œæ‰€ä»¥ä¸è¦æ‰‹åŠ¨å…³é—­æµã€‚

1. è¿”å›ä¸€ä¸ªä¸­æ–‡çš„å­—ç¬¦ä¸²ä½ å¥½ï¼Œéœ€è¦æ³¨æ„è®¾ç½®å“åº”æ•°æ®çš„ç¼–ç ä¸ºutf-8

```java
//è®¾ç½®å“åº”çš„æ•°æ®æ ¼å¼åŠæ•°æ®çš„ç¼–ç 
response.setContentType("text/html;charset=utf-8");
writer.write("ä½ å¥½");
```

![](youdaonote-images/WEBRESOURCE8f7763dee3a53e4179a664c520f8236c.png)

Responseå“åº”å­—èŠ‚æ•°æ®

è¦æƒ³å°†å­—èŠ‚æ•°æ®å†™å›åˆ°æµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ­¥éª¤:

- é€šè¿‡Responseå¯¹è±¡è·å–å­—èŠ‚è¾“å‡ºæµï¼šServletOutputStream outputStream = resp.getOutputStream();

- é€šè¿‡å­—èŠ‚è¾“å‡ºæµå†™æ•°æ®: outputStream.write(å­—èŠ‚æ•°æ®);

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®ç°é€šè¿‡äº›æ¡ˆä¾‹æŠŠå“åº”å­—ç¬¦æ•°æ®ç»™å®é™…åº”ç”¨ä¸‹:

1. è¿”å›ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶åˆ°æµè§ˆå™¨

```java
package web;

import javax.servlet.ServletException;
import javax.servlet.ServletOutputStream;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.FileInputStream;
import java.io.IOException;

@WebServlet("/demo3")
public class demo3 extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        FileInputStream fileInputStream = new FileInputStream("C:\\Users\\kangkang\\Pictures\\QQå›¾ç‰‡20210903095843.jpg");
        ServletOutputStream outputStream = response.getOutputStream();
        byte[] bytes = new byte[1024];
        int len=0;
        while ((len=fileInputStream.read(bytes))!=-1){
            outputStream.write(bytes,0,len);
        }
        fileInputStream.close();
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request, response);
    }
}

```

![](youdaonote-images/WEBRESOURCEee8178af7a66fb94ed0f56db4924918e.png)

ä¸Šè¿°ä»£ç ä¸­ï¼Œå¯¹äºæµçš„copyçš„ä»£ç è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ«äººæä¾›å¥½çš„æ–¹æ³•æ¥ç®€åŒ–ä»£ç çš„å¼€

å‘ï¼Œå…·ä½“çš„æ­¥éª¤æ˜¯:

(1)pom.xmlæ·»åŠ ä¾èµ–

```xml
<dependency>
 Â  Â <groupId>commons-io</groupId>
 Â  Â <artifactId>commons-io</artifactId>
 Â  Â <version>2.6</version>
</dependency>
```

(2)è°ƒç”¨å·¥å…·ç±»æ–¹æ³•

```java
//fis:è¾“å…¥æµ
//os:è¾“å‡ºæµ
IOUtils.copy(fis,os);
```

ä¼˜åŒ–åçš„ä»£ç :

```java
package web;

import org.apache.commons.io.IOUtils;

import javax.servlet.ServletException;
import javax.servlet.ServletOutputStream;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.FileInputStream;
import java.io.IOException;

@WebServlet("/demo3")
public class demo3 extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        FileInputStream fileInputStream = new FileInputStream("C:\\Users\\kangkang\\Pictures\\QQå›¾ç‰‡20210903095843.jpg");
        ServletOutputStream outputStream = response.getOutputStream();
        IOUtils.copy(fileInputStream,outputStream);
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request, response);
    }
}

```

## äº”ã€SqlSessionFactoryå·¥å…·ç±»æŠ½å–

ç»¼åˆæ¡ˆä¾‹

[ResponseExample.zip](youdaonote-attachments/WEBRESOURCEcf2209e4cd5cf59209efec1acd69797fResponseExample.zip)

åœ¨ç»¼åˆæ¡ˆä¾‹ä¸­ï¼Œåœ¨å†™Servletçš„æ—¶å€™ï¼Œå› ä¸ºéœ€è¦ä½¿ç”¨Mybatisæ¥å®Œæˆæ•°æ®åº“çš„æ“ä½œï¼Œæ‰€ä»¥å¯¹äºMybatisçš„åŸºç¡€

æ“ä½œå°±å‡ºç°äº†äº›é‡å¤ä»£ç ï¼Œå¦‚ä¸‹

```java
String resource = "mybatis-config.xml";
InputStream inputStream = Resources.getResourceAsStream(resource);
SqlSessionFactory sqlSessionFactory = new 
    SqlSessionFactoryBuilder().build(inputStream);
```

æœ‰äº†è¿™äº›é‡å¤ä»£ç å°±ä¼šé€ æˆä¸€äº›é—®é¢˜:

- é‡å¤ä»£ç ä¸åˆ©äºåæœŸçš„ç»´æŠ¤

- SqlSessionFactoryå·¥å‚ç±»è¿›è¡Œé‡å¤åˆ›å»º

- å°±ç›¸å½“äºæ¯æ¬¡ä¹°æ‰‹æœºéƒ½éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªæ‰‹æœºç”Ÿäº§å·¥å‚æ¥ç»™ä½ åˆ¶é€ ä¸€ä¸ªæ‰‹æœºä¸€æ ·ï¼Œèµ„æºæ¶ˆè€—éå¸¸å¤§ä½†æ€§èƒ½å´éå¸¸ä½ã€‚æ‰€ä»¥è¿™ä¹ˆåšæ˜¯ä¸å…è®¸çš„ã€‚

é‚£å¦‚ä½•æ¥ä¼˜åŒ–å‘¢ï¼Ÿ

- ä»£ç é‡å¤å¯ä»¥æŠ½å–å·¥å…·ç±»

- å¯¹æŒ‡å®šä»£ç åªéœ€è¦æ‰§è¡Œä¸€æ¬¡å¯ä»¥ä½¿ç”¨é™æ€ä»£ç å—

æœ‰äº†è¿™ä¸¤ä¸ªæ–¹å‘åï¼Œä»£ç å…·ä½“è¯¥å¦‚ä½•ç¼–å†™?

```java
public class SqlSessionFactoryUtils {
â€‹
 Â  Â private static SqlSessionFactory sqlSessionFactory;
â€‹
 Â  Â static {
 Â  Â  Â  Â //é™æ€ä»£ç å—ä¼šéšç€ç±»çš„åŠ è½½è€Œè‡ªåŠ¨æ‰§è¡Œï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡
 Â  Â  Â  Â try {
 Â  Â  Â  Â  Â  Â String resource = "mybatis-config.xml";
 Â  Â  Â  Â  Â  Â InputStream inputStream = Resources.getResourceAsStream(resource);
 Â  Â  Â  Â  Â  Â sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
 Â  Â  Â   } catch (IOException e) {
 Â  Â  Â  Â  Â  Â e.printStackTrace();
 Â  Â  Â   }
 Â   }
â€‹
â€‹
 Â  Â public static SqlSessionFactory getSqlSessionFactory(){
 Â  Â  Â  Â return sqlSessionFactory;
 Â   }
}
```

å·¥å…·ç±»æŠ½å–ä»¥åï¼Œä»¥ååœ¨å¯¹Mybatisçš„SqlSessionè¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨

```java
SqlSessionFactory sqlSessionFactory =SqlSessionFactoryUtils.getSqlSessionFactory();
```

è¿™æ ·å°±å¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸Šé¢æ‰€è¯´çš„ä»£ç é‡å¤å’Œé‡å¤åˆ›å»ºå·¥å‚å¯¼è‡´æ€§èƒ½ä½çš„é—®é¢˜äº†ã€‚

# JSP

## ä¸€ã€JSP æ¦‚è¿°

==JSPï¼ˆå…¨ç§°ï¼šJava Server Pagesï¼‰ï¼šJava æœåŠ¡ç«¯é¡µé¢ã€‚==æ˜¯ä¸€ç§åŠ¨æ€çš„ç½‘é¡µæŠ€æœ¯ï¼Œå…¶ä¸­æ—¢å¯ä»¥å®šä¹‰ 

HTMLã€JSã€CSSç­‰é™æ€å†…å®¹ï¼Œè¿˜å¯ä»¥å®šä¹‰ Javaä»£ç çš„åŠ¨æ€å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ JSP = HTML + Javaã€‚å¦‚ä¸‹å°±æ˜¯

jspä»£ç 

```
<html>
 Â  Â <head>
 Â  Â  Â  Â <title>Title</title>
 Â  Â </head>
 Â  Â <body>
 Â  Â  Â  Â <h1>JSP,Hello World</h1>
 Â  Â  Â   <%
 Â  Â  Â       System.out.println("hello,jsp~");
 Â  Â  Â   %>
 Â  Â </body>
</html>
```

ä¸Šé¢ä»£ç  h1 æ ‡ç­¾å†…å®¹æ˜¯å±•ç¤ºåœ¨é¡µé¢ä¸Šï¼Œè€Œ Java çš„è¾“å‡ºè¯­å¥æ˜¯è¾“å‡ºåœ¨ idea çš„æ§åˆ¶å°ã€‚

JSP ä½œç”¨ï¼šç®€åŒ–å¼€å‘ï¼Œé¿å…äº†åœ¨Servletä¸­ç›´æ¥è¾“å‡ºHTMLæ ‡ç­¾ã€‚

## äºŒã€JSP å¿«é€Ÿå…¥é—¨

### 1ã€æ­å»ºç¯å¢ƒ

åˆ›å»ºä¸€ä¸ªmavençš„ web é¡¹ç›®ï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE81842d985175361095f26392c1a19e0c.png)

pom.xml æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
 Â  Â  Â  Â  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 Â  Â  Â  Â  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
 Â  Â <modelVersion>4.0.0</modelVersion>
â€‹
 Â  Â <groupId>org.example</groupId>
 Â  Â <artifactId>jsp-demo</artifactId>
 Â  Â <version>1.0-SNAPSHOT</version>
 Â  Â <packaging>war</packaging>
â€‹
 Â  Â <properties>
 Â  Â  Â  Â <maven.compiler.source>8</maven.compiler.source>
 Â  Â  Â  Â <maven.compiler.target>8</maven.compiler.target>
 Â  Â </properties>
â€‹
 Â  Â <dependencies>
 Â  Â  Â <dependency>
 Â  Â  Â  Â  Â  Â <groupId>javax.servlet</groupId>
 Â  Â  Â  Â  Â  Â <artifactId>javax.servlet-api</artifactId>
 Â  Â  Â  Â  Â  Â <version>3.1.0</version>
 Â  Â  Â  Â  Â  Â <scope>provided</scope>
 Â  Â  Â  Â </dependency>
 Â  Â </dependencies>
â€‹
 Â  Â <build>
 Â  Â  Â  Â <plugins>
 Â  Â  Â  Â  Â  Â <plugin>
 Â  Â  Â  Â  Â  Â  Â  Â <groupId>org.apache.tomcat.maven</groupId>
 Â  Â  Â  Â  Â  Â  Â  Â <artifactId>tomcat7-maven-plugin</artifactId>
 Â  Â  Â  Â  Â  Â  Â  Â <version>2.2</version>
 Â  Â  Â  Â  Â  Â </plugin>
 Â  Â  Â  Â </plugins>
 Â  Â </build>
</project>
```

### 2ã€å¯¼å…¥ JSP ä¾èµ–

åœ¨ dependencies æ ‡ç­¾ä¸­å¯¼å…¥ JSP çš„ä¾èµ–ï¼Œå¦‚ä¸‹

```xml
<dependency>
 Â  Â <groupId>javax.servlet.jsp</groupId>
 Â  Â <artifactId>jsp-api</artifactId>
 Â  Â <version>2.2</version>
 Â  Â <scope>provided</scope>
</dependency>
```

è¯¥ä¾èµ–çš„ scope å¿…é¡»è®¾ç½®ä¸º providedï¼Œå› ä¸º tomcat ä¸­æœ‰è¿™ä¸ªjaråŒ…äº†ï¼Œæ‰€ä»¥åœ¨æ‰“åŒ…æ—¶æˆ‘ä»¬æ˜¯ä¸å¸Œæœ›å°†

è¯¥ä¾èµ–æ‰“è¿›åˆ°æˆ‘ä»¬å·¥ç¨‹çš„waråŒ…ä¸­ã€‚

### 3ã€åˆ›å»º jsp é¡µé¢

åœ¨é¡¹ç›®çš„ webapp ä¸‹åˆ›å»ºjspé¡µé¢

![](youdaonote-images/WEBRESOURCEda60ce33011f83f9692f9f6c6a1a1627.png)

é€šè¿‡ä¸Šé¢æ–¹å¼åˆ›å»ºä¸€ä¸ªåä¸º hello.jsp çš„é¡µé¢ã€‚

### 4ã€ç¼–å†™ä»£ç 

åœ¨ hello.jsp é¡µé¢ä¸­ä¹¦å†™ HTML æ ‡ç­¾å’Œ Java ä»£ç ï¼Œå¦‚ä¸‹

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â <h1>hello jsp</h1>
â€‹
 Â   <%
 Â  Â  Â  Â System.out.println("hello,jsp~");
 Â   %>
</body>
</html>
```

### 5ã€æµ‹è¯•

å¯åŠ¨æœåŠ¡å™¨å¹¶åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ http://localhost:8080/jsp-demo/hello.jspï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢ä¸Šçœ‹åˆ°å¦‚

ä¸‹å†…å®¹

![](youdaonote-images/WEBRESOURCE21f78641767e6daf4d876027ad6fd7e1.png)

åŒæ—¶ä¹Ÿå¯ä»¥çœ‹åˆ°åœ¨ idea çš„æ§åˆ¶å°çœ‹åˆ°è¾“å‡ºçš„ hello,jsp~ å†…å®¹ã€‚

## ä¸‰ã€JSP åŸç†

æˆ‘ä»¬ä¹‹å‰è¯´ JSP å°±æ˜¯ä¸€ä¸ªé¡µé¢ï¼Œé‚£ä¹ˆåœ¨ JSP ä¸­å†™ html æ ‡ç­¾ï¼Œæˆ‘ä»¬èƒ½ç†è§£ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜å¯ä»¥å†™ Java ä»£

ç å‘¢ï¼Ÿ

å› ä¸º ==JSP æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª Servletã€‚==æ¥ä¸‹æ¥æˆ‘ä»¬èŠèŠè®¿é—®jspæ—¶çš„æµç¨‹

![](youdaonote-images/WEBRESOURCE795538e07aa071cdd1559f6a44a38169.png)

1. æµè§ˆå™¨ç¬¬ä¸€æ¬¡è®¿é—® hello.jsp é¡µé¢

1. tomcatä¼šå°† hello.jsp è½¬æ¢ä¸ºåä¸º hello_jsp.java çš„ä¸€ä¸ª Servlet

1. tomcatå†å°†è½¬æ¢çš„ servlet ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶ hello_jsp.class

1. tomcatä¼šæ‰§è¡Œè¯¥å­—èŠ‚ç æ–‡ä»¶ï¼Œå‘å¤–æä¾›æœåŠ¡

æˆ‘ä»¬å¯ä»¥åˆ°é¡¹ç›®æ‰€åœ¨ç£ç›˜ç›®å½•ä¸‹æ‰¾ target\tomcat\work\Tomcat\localhost\jsp-demo\org\apache\jsp ç›®å½•ï¼Œ

è€Œè¿™ä¸ªç›®å½•ä¸‹å°±èƒ½çœ‹åˆ°è½¬æ¢åçš„ servlet

![](youdaonote-images/WEBRESOURCE7cd3503bbb99bc84defe5e8be414ae03.png)

æ‰“å¼€ hello_jsp.java æ–‡ä»¶ï¼Œæ¥æŸ¥çœ‹é‡Œé¢çš„ä»£ç 

![](youdaonote-images/WEBRESOURCE3ebdec27ed46dd70d6bf0f23d99e335b.png)

ç”±ä¸Šé¢çš„ç±»çš„ç»§æ‰¿å…³ç³»å¯ä»¥çœ‹åˆ°ç»§æ‰¿äº†åä¸º HttpJspBase è¿™ä¸ªç±»ï¼Œé‚£æˆ‘ä»¬åœ¨çœ‹è¯¥ç±»çš„ç»§æ‰¿å…³ç³»ã€‚åˆ°èµ„æ–™ä¸­	

çš„æ‰¾å¦‚ä¸‹ç›®å½•ï¼š èµ„æ–™\tomcatæºç \apache-tomcat-8.5.68-src\java\org\apache\jasper\runtime ï¼Œè¯¥ç›®å½•ä¸‹å°±

æœ‰ HttpJspBase ç±»ï¼ŒæŸ¥çœ‹è¯¥ç±»çš„ç»§æ‰¿å…³ç³»

![](youdaonote-images/WEBRESOURCEe8c20ac8c348c28bb3a5bdf327a610cb.png)

å¯ä»¥çœ‹åˆ°è¯¥ç±»ç»§æ‰¿äº† HttpServlet ï¼›é‚£ä¹ˆ hello_jsp è¿™ä¸ªç±»å°±é—´æ¥çš„ç»§æ‰¿äº† HttpServlet ï¼Œä¹Ÿå°±è¯´æ˜ 

hello_jsp æ˜¯ä¸€ä¸ª servletã€‚

ç»§ç»­é˜…è¯» hello_jsp ç±»çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªåä¸º _jspService() çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°±æ˜¯æ¯æ¬¡è®¿é—® jsp æ—¶è‡ª

åŠ¨æ‰§è¡Œçš„æ–¹æ³•ï¼Œå’Œ servlet ä¸­çš„ service æ–¹æ³•ä¸€æ · ã€‚

è€Œåœ¨ _jspService() æ–¹æ³•ä¸­å¯ä»¥çœ‹åˆ°å¾€æµè§ˆå™¨å†™æ ‡ç­¾çš„ä»£ç ï¼š

![](youdaonote-images/WEBRESOURCEe45ce068e96b71918dbaadce14505ddd.png)

ä»¥å‰æˆ‘ä»¬è‡ªå·±å†™ servlet æ—¶ï¼Œè¿™éƒ¨åˆ†ä»£ç æ˜¯ç”±æˆ‘ä»¬è‡ªå·±æ¥å†™ï¼Œç°åœ¨æœ‰äº† jsp åï¼Œç”±tomcatå®Œæˆè¿™éƒ¨åˆ†åŠŸèƒ½ã€‚

## å››ã€JSP è„šæœ¬

### 1ã€JSP è„šæœ¬åˆ†ç±»

JSP è„šæœ¬æœ‰å¦‚ä¸‹ä¸‰ä¸ªåˆ†ç±»ï¼š

- <%...%>ï¼šå†…å®¹ä¼šç›´æ¥æ”¾åˆ°_jspService()æ–¹æ³•ä¹‹ä¸­	

- <%=â€¦%>ï¼šå†…å®¹ä¼šæ”¾åˆ°out.print()ä¸­ï¼Œä½œä¸ºout.print()çš„å‚æ•°

- <%!â€¦%>ï¼šå†…å®¹ä¼šæ”¾åˆ°_jspService()æ–¹æ³•ä¹‹å¤–ï¼Œè¢«ç±»ç›´æ¥åŒ…å«

ä»£ç æ¼”ç¤ºï¼š

åœ¨ hello.jsp ä¸­ä¹¦å†™

```
<%
 Â  Â System.out.println("hello,jsp~");
 Â  Â int i = 3;
%>
```

é€šè¿‡æµè§ˆå™¨è®¿é—® hello.jsp åï¼ŒæŸ¥çœ‹è½¬æ¢çš„ hello_jsp.java æ–‡ä»¶ï¼Œi å˜é‡å®šä¹‰åœ¨äº† _jspService() æ–¹

æ³•ä¸­

![](youdaonote-images/WEBRESOURCEb9ba3aab3b6a88352bfbaf3750ef5330.png)

åœ¨ hello.jsp ä¸­ä¹¦å†™

```
<%="hello"%>
<%=i%>
```

é€šè¿‡æµè§ˆå™¨è®¿é—® hello.jsp åï¼ŒæŸ¥çœ‹è½¬æ¢çš„ hello_jsp.java æ–‡ä»¶ï¼Œè¯¥è„šæœ¬çš„å†…å®¹è¢«æ”¾åœ¨äº† out.print() 

ä¸­ï¼Œä½œä¸ºå‚æ•°

![](youdaonote-images/WEBRESOURCEca112b3ba7144608d8527899ab1ef72c.png)

åœ¨ hello.jsp ä¸­ä¹¦å†™

```
<%!
 Â  Â void Â show(){}
    String name = "zhangsan";
%>
```

é€šè¿‡æµè§ˆå™¨è®¿é—® hello.jsp åï¼ŒæŸ¥çœ‹è½¬æ¢çš„ hello_jsp.java æ–‡ä»¶ï¼Œè¯¥è„šæœ¬çš„å†…å®¹è¢«æ”¾åœ¨äº†æˆå‘˜ä½ç½®

![](youdaonote-images/WEBRESOURCE24377deecc80c0e5ac3c4dd0ca224d8a.png)

### 2ã€JSP ç¼ºç‚¹

ç”±äº JSPé¡µé¢å†…ï¼Œæ—¢å¯ä»¥å®šä¹‰ HTML æ ‡ç­¾ï¼Œåˆå¯ä»¥å®šä¹‰ Javaä»£ç ï¼Œé€ æˆäº†ä»¥ä¸‹é—®é¢˜ï¼š

- ä¹¦å†™éº»çƒ¦ï¼šç‰¹åˆ«æ˜¯å¤æ‚çš„é¡µé¢

æ—¢è¦å†™ HTML æ ‡ç­¾ï¼Œè¿˜è¦å†™ Java ä»£ç 

- é˜…è¯»éº»çƒ¦

æ¡ˆä¾‹çš„ä»£ç ï¼Œç›¸ä¿¡ä½ åæœŸå†çœ‹è¿™æ®µä»£ç æ—¶è¿˜éœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´å»æ¢³ç†

- å¤æ‚åº¦é«˜ï¼šè¿è¡Œéœ€è¦ä¾èµ–äºå„ç§ç¯å¢ƒï¼ŒJREï¼ŒJSPå®¹å™¨ï¼ŒJavaEEâ€¦

- å å†…å­˜å’Œç£ç›˜ï¼šJSPä¼šè‡ªåŠ¨ç”Ÿæˆ.javaå’Œ.classæ–‡ä»¶å ç£ç›˜ï¼Œè¿è¡Œçš„æ˜¯.classæ–‡ä»¶å å†…å­˜

- è°ƒè¯•å›°éš¾ï¼šå‡ºé”™åï¼Œéœ€è¦æ‰¾åˆ°è‡ªåŠ¨ç”Ÿæˆçš„.javaæ–‡ä»¶è¿›è¡Œè°ƒè¯•

- ä¸åˆ©äºå›¢é˜Ÿåä½œï¼šå‰ç«¯äººå‘˜ä¸ä¼š Javaï¼Œåç«¯äººå‘˜ä¸ç²¾ HTML

å¦‚æœé¡µé¢å¸ƒå±€å‘ç”Ÿå˜åŒ–ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆå¯¹é™æ€é¡µé¢è¿›è¡Œä¿®æ”¹ï¼Œç„¶åå†äº¤ç»™åç«¯å·¥ç¨‹å¸ˆï¼Œç”±åç«¯å·¥ç¨‹å¸ˆå†

å°†è¯¥é¡µé¢æ”¹ä¸º JSP é¡µé¢

ç”±äºä¸Šè¿°çš„é—®é¢˜ï¼Œ ==JSP å·²é€æ¸é€€å‡ºå†å²èˆå°ï¼Œ==ä»¥åå¼€å‘æ›´å¤šçš„æ˜¯ä½¿ç”¨ ==HTML +  Ajax== æ¥æ›¿

ä»£ã€‚Ajax æ˜¯æˆ‘ä»¬åç»­ä¼šé‡ç‚¹å­¦ä¹ çš„æŠ€æœ¯ã€‚æœ‰ä¸ªè¿™ä¸ªæŠ€æœ¯åï¼Œå‰ç«¯å·¥ç¨‹å¸ˆè´Ÿè´£å‰ç«¯é¡µé¢å¼€å‘ï¼Œè€Œåç«¯å·¥		

ç¨‹å¸ˆåªè´Ÿè´£å‰ç«¯ä»£ç å¼€å‘ã€‚ä¸‹æ¥å¯¹æŠ€æœ¯çš„å‘å±•è¿›è¡Œç®€å•çš„è¯´æ˜

![](youdaonote-images/WEBRESOURCE94917baee0330a8d27f30efc479dd271.png)

1. ç¬¬ä¸€é˜¶æ®µï¼šä½¿ç”¨ servlet å³å®ç°é€»è¾‘ä»£ç ç¼–å†™ï¼Œä¹Ÿå¯¹é¡µé¢è¿›è¡Œæ‹¼æ¥ã€‚è¿™ç§æ¨¡å¼æˆ‘ä»¬ä¹‹å‰ä¹Ÿæ¥è§¦è¿‡

1. ç¬¬äºŒé˜¶æ®µï¼šéšç€æŠ€æœ¯çš„å‘å±•ï¼Œå‡ºç°äº† JSP ï¼Œäººä»¬å‘ç° JSP ä½¿ç”¨èµ·æ¥æ¯” Servlet æ–¹ä¾¿å¾ˆå¤šï¼Œä½†æ˜¯è¿˜æ˜¯è¦åœ¨ JSP ä¸­åµŒå¥— Java ä»£ç ï¼Œä¹Ÿä¸åˆ©äºåæœŸçš„ç»´æŠ¤

1. ç¬¬ä¸‰é˜¶æ®µï¼šä½¿ç”¨ Servlet è¿›è¡Œé€»è¾‘ä»£ç å¼€å‘ï¼Œè€Œä½¿ç”¨ JSP è¿›è¡Œæ•°æ®å±•ç¤º

![](youdaonote-images/WEBRESOURCE7c40574c7a42f8c482dcda607e306166.png)

1. ç¬¬å››é˜¶æ®µï¼šä½¿ç”¨ servlet è¿›è¡Œåç«¯é€»è¾‘ä»£ç å¼€å‘ï¼Œè€Œä½¿ç”¨ HTML è¿›è¡Œæ•°æ®å±•ç¤ºã€‚è€Œè¿™é‡Œé¢å°±å­˜åœ¨é—®é¢˜ï¼ŒHTML æ˜¯é™æ€é¡µé¢ï¼Œæ€ä¹ˆè¿›è¡ŒåŠ¨æ€æ•°æ®å±•ç¤ºå‘¢ï¼Ÿè¿™å°±æ˜¯ ajax çš„ä½œç”¨äº†ã€‚

é‚£æ—¢ç„¶ JSP å·²ç»é€æ¸çš„é€€å‡ºå†å²èˆå°ï¼Œé‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜è¦å­¦ä¹  JSP å‘¢ï¼ŸåŸå› æœ‰ä¸¤ç‚¹ï¼š

- ä¸€äº›å…¬å¸å¯èƒ½æœ‰äº›è€é¡¹ç›®è¿˜åœ¨ç”¨ JSP ï¼Œæ‰€ä»¥è¦æ±‚æˆ‘ä»¬å¿…é¡»åŠ¨ JSP

- æˆ‘ä»¬å¦‚æœä¸ç»å†è¿™äº›å¤æ‚çš„è¿‡ç¨‹ï¼Œå°±ä¸èƒ½ä½“ç°åé¢é˜¶æ®µå¼€å‘çš„ç®€å•

## äº”ã€EL è¡¨è¾¾å¼

### 1ã€æ¦‚è¿°

ELï¼ˆå…¨ç§°Expression Language ï¼‰è¡¨è¾¾å¼è¯­è¨€ï¼Œç”¨äºç®€åŒ– JSP é¡µé¢å†…çš„ Java ä»£ç ã€‚

EL è¡¨è¾¾å¼çš„ä¸»è¦ä½œç”¨æ˜¯ ==è·å–æ•°æ®==ã€‚å…¶å®å°±æ˜¯ä»åŸŸå¯¹è±¡ä¸­è·å–æ•°æ®ï¼Œç„¶åå°†æ•°æ®å±•ç¤ºåœ¨é¡µé¢ä¸Šã€‚

è€Œ EL è¡¨è¾¾å¼çš„è¯­æ³•ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œ==${expression}== ã€‚ä¾‹å¦‚ï¼š${brands} å°±æ˜¯è·å–åŸŸä¸­å­˜å‚¨çš„ key ä¸º 

brands çš„æ•°æ®ã€‚

### 2ã€ä»£ç æ¼”ç¤º

- å®šä¹‰servletï¼Œåœ¨ servlet ä¸­å°è£…ä¸€äº›æ•°æ®å¹¶å­˜å‚¨åˆ° request åŸŸå¯¹è±¡ä¸­å¹¶è½¬å‘åˆ° el-demo.jsp é¡µé¢ã€‚

```java
@WebServlet("/demo1")
public class ServletDemo1 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //1. å‡†å¤‡æ•°æ®
 Â  Â  Â  Â List<Brand> brands = new ArrayList<Brand>();
 Â  Â  Â  Â brands.add(new Brand(1,"ä¸‰åªæ¾é¼ ","ä¸‰åªæ¾é¼ ",100,"ä¸‰åªæ¾é¼ ï¼Œå¥½åƒä¸ä¸Šç«",1));
 Â  Â  Â  Â brands.add(new Brand(2,"ä¼˜è¡£åº“","ä¼˜è¡£åº“",200,"ä¼˜è¡£åº“ï¼Œæœé€‚äººç”Ÿ",0));
 Â  Â  Â  Â brands.add(new Brand(3,"å°ç±³","å°ç±³ç§‘æŠ€æœ‰é™å…¬å¸",1000,"ä¸ºå‘çƒ§è€Œç”Ÿ",1));
â€‹
 Â  Â  Â  Â //2. å­˜å‚¨åˆ°requeståŸŸä¸­
 Â  Â  Â  Â request.setAttribute("brands",brands);
â€‹
 Â  Â  Â  Â //3. è½¬å‘åˆ° el-demo.jsp
 Â  Â  Â  Â request.getRequestDispatcher("/el-demo.jsp").forward(request,response);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

> ==æ³¨æ„ï¼š== æ­¤å¤„éœ€è¦ç”¨è½¬å‘ï¼Œå› ä¸ºè½¬å‘æ‰å¯ä»¥ä½¿ç”¨ request å¯¹è±¡ä½œä¸ºåŸŸå¯¹è±¡è¿›è¡Œæ•°æ®å…±äº«

- åœ¨ el-demo.jsp ä¸­é€šè¿‡ ELè¡¨è¾¾å¼ è·å–æ•°æ®

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
 Â  Â <title>Title</title>
</head>
<body>
 Â   ${brands}
</body>
</html>
```

- åœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ http://localhost:8080/jsp-demo/demo1 ï¼Œé¡µé¢æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEf0bcf23eecaeffae9733f03abcd1035c.png)

### 3ã€åŸŸå¯¹è±¡

JavaWebä¸­æœ‰å››å¤§åŸŸå¯¹è±¡ï¼Œåˆ†åˆ«æ˜¯ï¼š

- pageï¼šå½“å‰é¡µé¢æœ‰æ•ˆ

- requestï¼šå½“å‰è¯·æ±‚æœ‰æ•ˆ

- sessionï¼šå½“å‰ä¼šè¯æœ‰æ•ˆ

- applicationï¼šå½“å‰åº”ç”¨æœ‰æ•ˆ

el è¡¨è¾¾å¼è·å–æ•°æ®ï¼Œä¼šä¾æ¬¡ä»è¿™4ä¸ªåŸŸä¸­å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚è€Œè¿™å››ä¸ªåŸŸå¯¹è±¡çš„ä½œç”¨èŒƒå›´å¦‚ä¸‹å›¾æ‰€

ç¤º

![](youdaonote-images/WEBRESOURCE5ef75c488855d127f5fa80b4996479a6.png)

ä¾‹å¦‚ï¼š ${brands}ï¼Œel è¡¨è¾¾å¼è·å–æ•°æ®ï¼Œä¼šå…ˆä»pageåŸŸå¯¹è±¡ä¸­è·å–æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰å†åˆ° requet åŸŸå¯¹è±¡

ä¸­è·å–æ•°æ®ï¼Œå¦‚æœå†æ²¡æœ‰å†åˆ° session åŸŸå¯¹è±¡ä¸­è·å–ï¼Œå¦‚æœè¿˜æ²¡æœ‰æ‰ä¼šåˆ° application ä¸­è·å–æ•°æ®ã€‚

### 4ã€jspä¸­${}ä¸­çš„æ•°æ®ä¸æ˜¾ç¤ºçš„å¤„ç†åŠæ³•

```
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ä¸»é¡µ</title>
</head>
<body>
<h3>æ¬¢è¿ï¼Œ${user.username }</h3>
</body>
</html>

ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¼ çš„ user.usernameçš„å€¼ä¸º å°æ˜ï¼Œ

è¿™ä¸ªé¡µé¢è¿›å…¥åï¼Œæ˜¾ç¤ºçš„æ˜¯    æ¬¢è¿ï¼Œ${user.username }ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çš„    æ¬¢è¿ï¼Œå°æ˜ã€‚

åŸå› æ˜¯ï¼šJSPå’ŒServletç‰ˆæœ¬å¯¼è‡´elåŠŸèƒ½é»˜è®¤å…³é—­ï¼ŒåŠ å…¥<%@page isELIgnored="false"%>æ ‡ç­¾æ‰‹åŠ¨å¼€å¯elåŠŸèƒ½ã€‚

åŠ å…¥åçš„é¡µé¢ä»£ç ä¸º

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ page isELIgnored="false"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ä¸»é¡µ</title>
</head>
<body>
<h3>æ¬¢è¿ï¼Œ${user.username }</h3>
</body>
</html>

æ˜¾ç¤ºä¸º   æ¬¢è¿ï¼Œå°æ˜  

okï¼Œå®Œç¾è§£å†³
```

## å…­ã€JSTLæ ‡ç­¾

### 1ã€æ¦‚è¿°

JSPæ ‡å‡†æ ‡ç­¾åº“(Jsp Standarded Tag Library) ï¼Œä½¿ç”¨æ ‡ç­¾å–ä»£JSPé¡µé¢ä¸Šçš„Javaä»£ç ã€‚å¦‚ä¸‹ä»£ç å°±æ˜¯

JSTLæ ‡ç­¾

```
<c:if test="${flag == 1}">
 Â   ç”·
</c:if>
<c:if test="${flag == 2}">
 Â   å¥³
</c:if>
```

ä¸Šé¢ä»£ç çœ‹èµ·æ¥æ˜¯ä¸æ˜¯æ¯” JSP ä¸­åµŒå¥— Java ä»£ç çœ‹èµ·æ¥èˆ’æœå¥½äº†ã€‚è€Œä¸”å‰ç«¯å·¥ç¨‹å¸ˆå¯¹æ ‡ç­¾æ˜¯ç‰¹åˆ«æ•æ„Ÿ

çš„ï¼Œä»–ä»¬çœ‹åˆ°è¿™æ®µä»£ç æ˜¯èƒ½çœ‹æ‡‚çš„ã€‚

JSTL æä¾›äº†å¾ˆå¤šæ ‡ç­¾ï¼Œå¦‚ä¸‹å›¾

![](youdaonote-images/WEBRESOURCEe581de5e5922ebb558fc028a82e1d371.png)

æˆ‘ä»¬åªå¯¹ä¸¤ä¸ªæœ€å¸¸ç”¨çš„æ ‡ç­¾è¿›è¡Œè®²è§£ï¼Œ<c:forEach> æ ‡ç­¾å’Œ <c:if> æ ‡ç­¾ã€‚

JSTL ä½¿ç”¨ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåˆ†ä¸ºå¦‚ä¸‹æ­¥éª¤ï¼š

- å¯¼å…¥åæ ‡

```
<dependency>
 Â  Â <groupId>jstl</groupId>
 Â  Â <artifactId>jstl</artifactId>
 Â  Â <version>1.2</version>
</dependency>
<dependency>
 Â  Â <groupId>taglibs</groupId>
 Â  Â <artifactId>standard</artifactId>
 Â  Â <version>1.1.2</version>
</dependency>
```

- åœ¨JSPé¡µé¢ä¸Šå¼•å…¥JSTLæ ‡ç­¾åº“

```
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %> 
```

- ä½¿ç”¨æ ‡ç­¾

### 2ã€if æ ‡ç­¾

<c:if>ï¼šç›¸å½“äº if åˆ¤æ–­

- å±æ€§ï¼štestï¼Œç”¨äºå®šä¹‰æ¡ä»¶è¡¨è¾¾å¼

```
<c:if test="${flag == 1}">
 Â   ç”·
</c:if>
<c:if test="${flag == 2}">
 Â   å¥³
</c:if>
```

ä»£ç æ¼”ç¤ºï¼š

- å®šä¹‰ä¸€ä¸ª servlet ï¼Œåœ¨è¯¥ servlet ä¸­å‘ request åŸŸå¯¹è±¡ä¸­æ·»åŠ  é”®æ˜¯ status ï¼Œå€¼ä¸º 1 çš„æ•°æ®

```java
@WebServlet("/demo2")
public class ServletDemo2 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //1. å­˜å‚¨æ•°æ®åˆ°requeståŸŸä¸­
 Â  Â  Â  Â request.setAttribute("status",1);
â€‹
 Â  Â  Â  Â //2. è½¬å‘åˆ° jstl-if.jsp
 Â  Â  Â  Â æ•°æ®request.getRequestDispatcher("/jstl-if.jsp").forward(request,response);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

- å®šä¹‰ jstl-if.jsp é¡µé¢ï¼Œåœ¨è¯¥é¡µé¢ä½¿ç”¨ <c:if> æ ‡ç­¾

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<html>
<head>
 Â  Â <title>Title</title>
</head>
<body>
 Â   <%--
 Â  Â  Â  Â c:ifï¼šæ¥å®Œæˆé€»è¾‘åˆ¤æ–­ï¼Œæ›¿æ¢java Â if else
 Â  Â --%>
 Â  Â <c:if test="${status ==1}">
 Â  Â  Â   å¯ç”¨
 Â  Â </c:if>
â€‹
 Â  Â <c:if test="${status ==0}">
 Â  Â  Â   ç¦ç”¨
 Â  Â </c:if>
</body>
</html>
```

> ==æ³¨æ„ï¼š== åœ¨è¯¥é¡µé¢å·²ç»è¦å¼•å…¥ JSTLæ ¸å¿ƒæ ‡ç­¾åº“<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

### 3ã€forEach æ ‡ç­¾

<c:forEach>ï¼šç›¸å½“äº for å¾ªç¯ã€‚javaä¸­æœ‰å¢å¼ºforå¾ªç¯å’Œæ™®é€šforå¾ªç¯ï¼ŒJSTL ä¸­çš„ <c:forEach> ä¹Ÿæœ‰ä¸¤

ç§ç”¨æ³•

#### Aã€ç”¨æ³•ä¸€

ç±»ä¼¼äº Java ä¸­çš„å¢å¼ºforå¾ªç¯ã€‚æ¶‰åŠåˆ°çš„ <c:forEach> ä¸­çš„å±æ€§å¦‚ä¸‹

- itemsï¼šè¢«éå†çš„å®¹å™¨

- varï¼šéå†äº§ç”Ÿçš„ä¸´æ—¶å˜é‡

- varStatusï¼šéå†çŠ¶æ€å¯¹è±¡

å¦‚ä¸‹ä»£ç ï¼Œæ˜¯ä»åŸŸå¯¹è±¡ä¸­è·å–åä¸º brands æ•°æ®ï¼Œè¯¥æ•°æ®æ˜¯ä¸€ä¸ªé›†åˆï¼›éå†éå†ï¼Œå¹¶ç»™è¯¥é›†åˆä¸­

çš„æ¯ä¸€ä¸ªå…ƒç´ èµ·åä¸º brandï¼Œæ˜¯ Brandå¯¹è±¡ã€‚åœ¨å¾ªç¯é‡Œé¢ä½¿ç”¨ ELè¡¨è¾¾å¼è·å–æ¯ä¸€ä¸ªBrandå¯¹è±¡çš„

å±æ€§å€¼

```
<c:forEach items="${brands}" var="brand">
 Â  Â <tr align="center">
 Â  Â  Â  Â <td>${brand.id}</td>
 Â  Â  Â  Â <td>${brand.brandName}</td>
 Â  Â  Â  Â <td>${brand.companyName}</td>
 Â  Â  Â  Â <td>${brand.description}</td>
 Â  Â </tr>
</c:forEach>
```

ä»£ç æ¼”ç¤ºï¼š

- servlet	

 				è¿˜æ˜¯ä½¿ç”¨ä¹‹å‰çš„åä¸º ServletDemo1 ã€‚

- å®šä¹‰åä¸º jstl-foreach.jsp é¡µé¢ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
â€‹
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<input type="button" value="æ–°å¢"><br>
<hr>
<table border="1" cellspacing="0" width="800">
 Â  Â <tr>
 Â  Â  Â  Â <th>åºå·</th>
 Â  Â  Â  Â <th>å“ç‰Œåç§°</th>
 Â  Â  Â  Â <th>ä¼ä¸šåç§°</th>
 Â  Â  Â  Â <th>æ’åº</th>
 Â  Â  Â  Â <th>å“ç‰Œä»‹ç»</th>
 Â  Â  Â  Â <th>çŠ¶æ€</th>
 Â  Â  Â  Â <th>æ“ä½œ</th>
 Â  Â </tr>
â€‹
 Â  Â <c:forEach items="${brands}" var="brand" varStatus="status">
 Â  Â  Â  Â <tr align="center">
 Â  Â  Â  Â  Â   <%--<td>${brand.id}</td>--%>
 Â  Â  Â  Â  Â  Â <td>${status.count}</td>
 Â  Â  Â  Â  Â  Â <td>${brand.brandName}</td>
 Â  Â  Â  Â  Â  Â <td>${brand.companyName}</td>
 Â  Â  Â  Â  Â  Â <td>${brand.ordered}</td>
 Â  Â  Â  Â  Â  Â <td>${brand.description}</td>
 Â  Â  Â  Â  Â  Â <c:if test="${brand.status == 1}">
 Â  Â  Â  Â  Â  Â  Â  Â <td>å¯ç”¨</td>
 Â  Â  Â  Â  Â  Â </c:if>
 Â  Â  Â  Â  Â  Â <c:if test="${brand.status != 1}">
 Â  Â  Â  Â  Â  Â  Â  Â <td>ç¦ç”¨</td>
 Â  Â  Â  Â  Â  Â </c:if>
 Â  Â  Â  Â  Â  Â <td><a href="#">ä¿®æ”¹</a> <a href="#">åˆ é™¤</a></td>
 Â  Â  Â  Â </tr>
 Â  Â </c:forEach>
</table>
</body>
</html>
```

#### Bã€ç”¨æ³•äºŒ

ç±»ä¼¼äº Java ä¸­çš„æ™®é€šforå¾ªç¯ã€‚æ¶‰åŠåˆ°çš„ <c:forEach> ä¸­çš„å±æ€§å¦‚ä¸‹

- beginï¼šå¼€å§‹æ•°

- endï¼šç»“æŸæ•°

- stepï¼šæ­¥é•¿

å®ä¾‹ä»£ç ï¼š

ä»0å¾ªç¯åˆ°10ï¼Œå˜é‡åæ˜¯ i ï¼Œæ¯æ¬¡è‡ªå¢1

```
<c:forEach begin="0" end="10" step="1" var="i">
 Â   ${i}
</c:forEach>
```

## ä¸ƒã€MVCæ¨¡å¼å’Œä¸‰å±‚æ¶æ„

### 1ã€MVCæ¨¡å¼

MVC æ˜¯ä¸€ç§åˆ†å±‚å¼€å‘çš„æ¨¡å¼ï¼Œå…¶ä¸­ï¼š

- Mï¼šModelï¼Œä¸šåŠ¡æ¨¡å‹ï¼Œå¤„ç†ä¸šåŠ¡

- Vï¼šViewï¼Œè§†å›¾ï¼Œç•Œé¢å±•ç¤º

- Cï¼šControllerï¼Œæ§åˆ¶å™¨ï¼Œå¤„ç†è¯·æ±‚ï¼Œè°ƒç”¨æ¨¡å‹å’Œè§†å›¾

![](youdaonote-images/WEBRESOURCEf9786d0576f6408b03cca190981b32cc.png)

æ§åˆ¶å™¨ï¼ˆserlvletï¼‰ç”¨æ¥æ¥æ”¶æµè§ˆå™¨å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œæ§åˆ¶å™¨è°ƒç”¨æ¨¡å‹ï¼ˆJavaBeanï¼‰æ¥è·å–æ•°æ®ï¼Œæ¯”

å¦‚ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®ï¼›æ§åˆ¶å™¨è·å–åˆ°æ•°æ®åå†äº¤ç”±è§†å›¾ï¼ˆJSPï¼‰è¿›è¡Œæ•°æ®å±•ç¤ºã€‚

MVC å¥½å¤„ï¼š

- èŒè´£å•ä¸€ï¼Œäº’ä¸å½±å“ã€‚æ¯ä¸ªè§’è‰²åšå®ƒè‡ªå·±çš„äº‹ï¼Œå„å¸å…¶èŒã€‚

- æœ‰åˆ©äºåˆ†å·¥åä½œã€‚

- æœ‰åˆ©äºç»„ä»¶é‡ç”¨

### 2ã€ä¸‰å±‚æ¶æ„

ä¸‰å±‚æ¶æ„æ˜¯å°†æˆ‘ä»¬çš„é¡¹ç›®åˆ†æˆäº†ä¸‰ä¸ªå±‚é¢ï¼Œåˆ†åˆ«æ˜¯ è¡¨ç°å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®è®¿é—®å±‚ã€‚

![](youdaonote-images/WEBRESOURCEbabbdd4d7d6c48aa25cbea86eb49ef56.png)

- æ•°æ®è®¿é—®å±‚ï¼šå¯¹æ•°æ®åº“çš„CRUDåŸºæœ¬æ“ä½œ

- ä¸šåŠ¡é€»è¾‘å±‚ï¼šå¯¹ä¸šåŠ¡é€»è¾‘è¿›è¡Œå°è£…ï¼Œç»„åˆæ•°æ®è®¿é—®å±‚å±‚ä¸­åŸºæœ¬åŠŸèƒ½ï¼Œå½¢æˆå¤æ‚çš„ä¸šåŠ¡é€»è¾‘åŠŸèƒ½ã€‚ä¾‹å¦‚ æ³¨å†Œä¸šåŠ¡åŠŸèƒ½ ï¼Œæˆ‘ä»¬ä¼šå…ˆè°ƒç”¨ æ•°æ®è®¿é—®å±‚ çš„ selectByName() æ–¹æ³•åˆ¤æ–­è¯¥ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨å†è°ƒç”¨ æ•°æ®è®¿é—®å±‚ çš„ insert() æ–¹æ³•è¿›è¡Œæ•°æ®çš„æ·»åŠ æ“ä½œ

- è¡¨ç°å±‚ï¼šæ¥æ”¶è¯·æ±‚ï¼Œå°è£…æ•°æ®ï¼Œè°ƒç”¨ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå“åº”æ•°æ®

è€Œæ•´ä¸ªæµç¨‹æ˜¯ï¼Œæµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œè¡¨ç°å±‚çš„Servletæ¥æ”¶è¯·æ±‚å¹¶è°ƒç”¨ä¸šåŠ¡é€»è¾‘å±‚çš„æ–¹æ³•è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„

ç†ï¼Œè€Œä¸šåŠ¡é€»è¾‘å±‚æ–¹æ³•è°ƒç”¨æ•°æ®è®¿é—®å±‚æ–¹æ³•è¿›è¡Œæ•°æ®çš„æ“ä½œï¼Œä¾æ¬¡è¿”å›åˆ°serlvetï¼Œç„¶åservletå°†æ•°æ®

äº¤ç”± JSP è¿›è¡Œå±•ç¤ºã€‚

ä¸‰å±‚æ¶æ„çš„æ¯ä¸€å±‚éƒ½æœ‰ç‰¹æœ‰çš„åŒ…åç§°ï¼š

- è¡¨ç°å±‚ï¼š com.itheima.controller æˆ–è€… com.itheima.web

- ä¸šåŠ¡é€»è¾‘å±‚ï¼šcom.itheima.service

- æ•°æ®è®¿é—®å±‚ï¼šcom.itheima.dao æˆ–è€… com.itheima.mapper

åæœŸæˆ‘ä»¬è¿˜ä¼šå­¦ä¹ ä¸€äº›æ¡†æ¶ï¼Œä¸åŒçš„æ¡†æ¶æ˜¯å¯¹ä¸åŒå±‚è¿›è¡Œå°è£…çš„

![](youdaonote-images/WEBRESOURCE575e8ac7485c40b0a1ac9c29121813c5.png)

### 3ã€MVC å’Œ ä¸‰å±‚æ¶æ„

é€šè¿‡ MVC å’Œ ä¸‰å±‚æ¶æ„ çš„å­¦ä¹ ï¼Œæœ‰äº›äººè‚¯å®šæ··æ·†äº†ã€‚é‚£ä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»ï¼Ÿ

![](youdaonote-images/WEBRESOURCEa1b40bb4dbf57abe9ce18ab610021f98.png)

å¦‚ä¸Šå›¾ä¸ŠåŠéƒ¨åˆ†æ˜¯ MVC æ¨¡å¼ï¼Œä¸Šå›¾ä¸‹åŠéƒ¨åˆ†æ˜¯ä¸‰å±‚æ¶æ„ã€‚ MVC æ¨¡å¼ ä¸­çš„ Cï¼ˆæ§åˆ¶å™¨ï¼‰å’Œ Vï¼ˆè§†

å›¾ï¼‰å°±æ˜¯ ä¸‰å±‚æ¶æ„ ä¸­çš„è¡¨ç°å±‚ï¼Œè€Œ MVC æ¨¡å¼ ä¸­çš„ Mï¼ˆæ¨¡å‹ï¼‰å°±æ˜¯ ä¸‰å±‚æ¶æ„ ä¸­çš„ ä¸šåŠ¡é€»è¾‘å±‚ å’Œ æ•°

æ®è®¿é—®å±‚ã€‚

å¯ä»¥å°† MVC æ¨¡å¼ ç†è§£æˆæ˜¯ä¸€ä¸ªå¤§çš„æ¦‚å¿µï¼Œè€Œ ä¸‰å±‚æ¶æ„ æ˜¯å¯¹ MVC æ¨¡å¼ å®ç°æ¶æ„çš„æ€æƒ³ã€‚ é‚£ä¹ˆæˆ‘ä»¬

ä»¥åæŒ‰ç…§è¦æ±‚å°†ä¸åŒå±‚çš„ä»£ç å†™åœ¨ä¸åŒçš„åŒ…ä¸‹ï¼Œæ¯ä¸€å±‚é‡ŒåŠŸèƒ½èŒè´£åšåˆ°å•ä¸€ï¼Œå°†æ¥å¦‚æœå°†è¡¨ç°å±‚çš„æŠ€

æœ¯æ¢æ‰ï¼Œè€Œä¸šåŠ¡é€»è¾‘å±‚å’Œæ•°æ®è®¿é—®å±‚çš„ä»£ç ä¸éœ€è¦å‘ç”Ÿå˜åŒ–ã€‚

## å…«ã€ç»¼åˆæ¡ˆä¾‹

[JSP.zip](youdaonote-attachments/WEBRESOURCEc61aa31ef0e4558f47ce4114d1db5b57JSP.zip)

# ä¼šè¯æŠ€æœ¯

## ä¸€ã€ä¼šè¯è·Ÿè¸ªæŠ€æœ¯çš„æ¦‚è¿°

å¯¹äºä¼šè¯è·Ÿè¸ªè¿™å››ä¸ªè¯ï¼Œæˆ‘ä»¬éœ€è¦æ‹†å¼€æ¥è¿›è¡Œè§£é‡Šï¼Œé¦–å…ˆè¦ç†è§£ä»€ä¹ˆæ˜¯ä¼šè¯ï¼Œç„¶åå†å»ç†è§£ä»€ä¹ˆæ˜¯ä¼šè¯è·Ÿ

è¸ª:

- ä¼šè¯:ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®webæœåŠ¡å™¨çš„èµ„æºï¼Œä¼šè¯å»ºç«‹ï¼Œç›´åˆ°æœ‰ä¸€æ–¹æ–­å¼€è¿æ¥ï¼Œä¼šè¯ç»“æŸã€‚åœ¨ä¸€æ¬¡ä¼šè¯ä¸­å¯ä»¥åŒ…å«==å¤šæ¬¡==è¯·æ±‚å’Œå“åº”ã€‚

- ä»æµè§ˆå™¨å‘å‡ºè¯·æ±‚åˆ°æœåŠ¡ç«¯å“åº”æ•°æ®ç»™å‰ç«¯ä¹‹åï¼Œä¸€æ¬¡ä¼šè¯(åœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´)å°±è¢«å»ºç«‹äº†

- ä¼šè¯è¢«å»ºç«‹åï¼Œå¦‚æœæµè§ˆå™¨æˆ–æœåŠ¡ç«¯éƒ½æ²¡æœ‰è¢«å…³é—­ï¼Œåˆ™ä¼šè¯å°±ä¼šæŒç»­å»ºç«‹ç€

- æµè§ˆå™¨å’ŒæœåŠ¡å™¨å°±å¯ä»¥ç»§ç»­ä½¿ç”¨è¯¥ä¼šè¯è¿›è¡Œè¯·æ±‚å‘é€å’Œå“åº”ï¼Œä¸Šè¿°çš„æ•´ä¸ªè¿‡ç¨‹å°±è¢«ç§°ä¹‹ä¸º==ä¼šè¯==ã€‚

ç”¨å®é™…åœºæ™¯æ¥ç†è§£ä¸‹ä¼šè¯ï¼Œæ¯”å¦‚åœ¨æˆ‘ä»¬è®¿é—®äº¬ä¸œçš„æ—¶å€™ï¼Œå½“æ‰“å¼€æµè§ˆå™¨è¿›å…¥äº¬ä¸œé¦–é¡µåï¼Œæµè§ˆå™¨å’Œäº¬

ä¸œçš„æœåŠ¡å™¨ä¹‹é—´å°±å»ºç«‹äº†ä¸€æ¬¡ä¼šè¯ï¼Œåé¢çš„æœç´¢å•†å“,æŸ¥çœ‹å•†å“çš„è¯¦æƒ…,åŠ å…¥è´­ç‰©è½¦ç­‰éƒ½æ˜¯åœ¨è¿™ä¸€æ¬¡ä¼šè¯

ä¸­å®Œæˆã€‚

æ€è€ƒ:ä¸‹å›¾ä¸­æ€»å…±å»ºç«‹äº†å‡ ä¸ªä¼šè¯?

![](youdaonote-images/WEBRESOURCE305cd844175cf221c8e2a0a8feed96a6.png)

æ¯ä¸ªæµè§ˆå™¨éƒ½ä¼šä¸æœåŠ¡ç«¯å»ºç«‹äº†ä¸€ä¸ªä¼šè¯ï¼ŒåŠ èµ·æ¥æ€»å…±æ˜¯==3==ä¸ªä¼šè¯ã€‚

- ä¼šè¯è·Ÿè¸ª:ä¸€ç§ç»´æŠ¤æµè§ˆå™¨çŠ¶æ€çš„æ–¹æ³•ï¼ŒæœåŠ¡å™¨éœ€è¦è¯†åˆ«å¤šæ¬¡è¯·æ±‚æ˜¯å¦æ¥è‡ªäºåŒä¸€æµè§ˆå™¨ï¼Œä»¥ä¾¿åœ¨åŒä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚é—´==å…±äº«æ•°æ®==ã€‚

- æœåŠ¡å™¨ä¼šæ”¶åˆ°å¤šä¸ªè¯·æ±‚ï¼Œè¿™å¤šä¸ªè¯·æ±‚å¯èƒ½æ¥è‡ªå¤šä¸ªæµè§ˆå™¨ï¼Œå¦‚ä¸Šå›¾ä¸­çš„6ä¸ªè¯·æ±‚æ¥è‡ª3ä¸ªæµè§ˆå™¨

- æœåŠ¡å™¨éœ€è¦ç”¨æ¥è¯†åˆ«è¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªæµè§ˆå™¨

- æœåŠ¡å™¨ç”¨æ¥è¯†åˆ«æµè§ˆå™¨çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯==ä¼šè¯è·Ÿè¸ª==

- æœåŠ¡å™¨è¯†åˆ«æµè§ˆå™¨åå°±å¯ä»¥åœ¨åŒä¸€ä¸ªä¼šè¯ä¸­å¤šæ¬¡è¯·æ±‚ä¹‹é—´æ¥å…±äº«æ•°æ®

é‚£ä¹ˆæˆ‘ä»¬åˆæœ‰ä¸€ä¸ªé—®é¢˜éœ€è¦æ€è€ƒï¼Œä¸€ä¸ªä¼šè¯ä¸­çš„å¤šæ¬¡è¯·æ±‚ä¸ºä»€ä¹ˆè¦å…±äº«æ•°æ®å‘¢?æœ‰äº†è¿™ä¸ªæ•°æ®å…±äº«åŠŸèƒ½åèƒ½

å®ç°å“ªäº›åŠŸèƒ½å‘¢?

- è´­ç‰©è½¦: åŠ å…¥è´­ç‰©è½¦å’Œå»è´­ç‰©è½¦ç»“ç®—æ˜¯ä¸¤æ¬¡è¯·æ±‚ï¼Œä½†æ˜¯åé¢è¿™æ¬¡è¯·æ±‚è¦æƒ³å±•ç¤ºå‰ä¸€æ¬¡è¯·æ±‚æ‰€æ·»åŠ çš„å•†å“ï¼Œå°±éœ€è¦ç”¨åˆ°æ•°æ®å…±äº«ã€‚

![](youdaonote-images/WEBRESOURCEf6c594ebb32abe3bca055993a30ae5f0.png)

- é¡µé¢å±•ç¤ºç”¨æˆ·ç™»å½•ä¿¡æ¯:å¾ˆå¤šç½‘ç«™ï¼Œç™»å½•åè®¿é—®å¤šä¸ªåŠŸèƒ½å‘é€å¤šæ¬¡è¯·æ±‚åï¼Œæµè§ˆå™¨ä¸Šéƒ½ä¼šæœ‰å½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯[ç”¨æˆ·å]ï¼Œæ¯”å¦‚ç™¾åº¦ã€äº¬ä¸œã€ç äº‘ç­‰ã€‚

![](youdaonote-images/WEBRESOURCEb9bf733a60cbaca72e17600183f103db.png)

- ç½‘ç«™ç™»å½•é¡µé¢çš„è®°ä½æˆ‘åŠŸèƒ½:å½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œå‹¾é€‰è®°ä½æˆ‘æŒ‰é’®åä¸‹æ¬¡å†ç™»å½•çš„æ—¶å€™ï¼Œç½‘ç«™å°±ä¼šè‡ªåŠ¨å¡«å……ç”¨æˆ·åå’Œå¯†ç ï¼Œç®€åŒ–ç”¨æˆ·çš„ç™»å½•æ“ä½œï¼Œå¤šæ¬¡ç™»å½•å°±ä¼šæœ‰å¤šæ¬¡è¯·æ±‚ï¼Œä»–ä»¬ä¹‹é—´ä¹Ÿæ¶‰åŠåˆ°å…±äº«æ•°æ®

![](youdaonote-images/WEBRESOURCE9acd04bc23f159fcec0afc7e335b3a0f.png)

- ç™»å½•é¡µé¢çš„éªŒè¯ç åŠŸèƒ½:ç”ŸæˆéªŒè¯ç å’Œè¾“å…¥éªŒè¯ç ç‚¹å‡»æ³¨å†Œè¿™ä¹Ÿæ˜¯ä¸¤æ¬¡è¯·æ±‚ï¼Œè¿™ä¸¤æ¬¡è¯·æ±‚çš„æ•°æ®ä¹‹é—´è¦è¿›è¡Œå¯¹æ¯”ï¼Œç›¸åŒåˆ™å…è®¸æ³¨å†Œï¼Œä¸åŒåˆ™æ‹’ç»æ³¨å†Œï¼Œè¯¥åŠŸèƒ½çš„å®ç°ä¹Ÿéœ€è¦åœ¨åŒä¸€æ¬¡ä¼šè¯ä¸­å…±äº«æ•°æ®ã€‚

![](youdaonote-images/WEBRESOURCE07760c98e41913843daf574518ed273e.png)

## äºŒã€Cookie

### 1ã€Cookieçš„åŸºæœ¬ä½¿ç”¨

1.æ¦‚å¿µ

==Cookie==ï¼šå®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯ï¼Œå°†æ•°æ®ä¿å­˜åˆ°å®¢æˆ·ç«¯ï¼Œä»¥åæ¯æ¬¡è¯·æ±‚éƒ½æºå¸¦Cookieæ•°æ®è¿›è¡Œè®¿

é—®ã€‚

2.Cookieçš„å·¥ä½œæµç¨‹

![](youdaonote-images/WEBRESOURCEdb78242fc8eaaf43d66a07033c66feb3.png)

- æœåŠ¡ç«¯æä¾›äº†ä¸¤ä¸ªServletï¼Œåˆ†åˆ«æ˜¯ServletAå’ŒServletB

- æµè§ˆå™¨å‘é€HTTPè¯·æ±‚1ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ServletAæ¥æ”¶è¯·æ±‚å¹¶è¿›è¡Œä¸šåŠ¡å¤„ç†

- æœåŠ¡ç«¯ServletAåœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­å¯ä»¥åˆ›å»ºä¸€ä¸ªCookieå¯¹è±¡å¹¶å°†name=zsçš„æ•°æ®å­˜å…¥Cookie

- æœåŠ¡ç«¯ServletAåœ¨å“åº”æ•°æ®çš„æ—¶å€™ï¼Œä¼šæŠŠCookieå¯¹è±¡å“åº”ç»™æµè§ˆå™¨

- æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”æ•°æ®ï¼Œä¼šæŠŠCookieå¯¹è±¡ä¸­çš„æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨å†…å­˜ä¸­ï¼Œæ­¤æ—¶æµè§ˆå™¨å’ŒæœåŠ¡ç«¯å°±==å»ºç«‹äº†ä¸€æ¬¡ä¼šè¯==

- ==åœ¨åŒä¸€æ¬¡ä¼šè¯==ä¸­æµè§ˆå™¨å†æ¬¡å‘é€HTTPè¯·æ±‚2ç»™æœåŠ¡ç«¯ServletBï¼Œæµè§ˆå™¨ä¼šæºå¸¦Cookieå¯¹è±¡ä¸­çš„æ‰€æœ‰æ•°æ®

- ServletBæ¥æ”¶åˆ°è¯·æ±‚å’Œæ•°æ®åï¼Œå°±å¯ä»¥è·å–åˆ°å­˜å‚¨åœ¨Cookieå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œè¿™æ ·åŒä¸€ä¸ªä¼šè¯ä¸­çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´å°±å®ç°äº†æ•°æ®å…±äº«

3.Cookieçš„åŸºæœ¬ä½¿ç”¨

å¯¹äºCookieçš„ä½¿ç”¨ï¼Œæˆ‘ä»¬æ›´å…³æ³¨çš„åº”è¯¥æ˜¯åå°ä»£ç å¦‚ä½•æ“ä½œCookieï¼Œå¯¹äºCookieçš„æ“ä½œä¸»è¦åˆ†ä¸¤

å¤§ç±»ï¼Œæœ¬åˆ«æ˜¯==å‘é€Cookie==å’Œ==è·å–Cookie==,å¯¹äºä¸Šé¢è¿™ä¸¤å—å†…å®¹ï¼Œåˆ†åˆ«è¯¥å¦‚ä½•å®ç°å‘¢?

3.1 å‘é€Cookie

- åˆ›å»ºCookieå¯¹è±¡ï¼Œå¹¶è®¾ç½®æ•°æ®

```
Cookie cookie = new Cookie("key","value");
```

- å‘é€Cookieåˆ°å®¢æˆ·ç«¯ï¼šä½¿ç”¨==response==å¯¹è±¡

```
response.addCookie(cookie);
```

ä»‹ç»å®Œå‘é€Cookieå¯¹åº”çš„æ­¥éª¤åï¼Œæ¥ä¸‹é¢é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥å®ŒæˆCookieçš„å‘é€ï¼Œå…·ä½“å®ç°æ­¥éª¤ä¸º:

> éœ€æ±‚:åœ¨Servletä¸­ç”ŸæˆCookieå¯¹è±¡å¹¶å­˜å…¥æ•°æ®ï¼Œç„¶åå°†æ•°æ®å‘é€ç»™æµè§ˆå™¨

> 1.åˆ›å»ºMavené¡¹ç›®,é¡¹ç›®åç§°ä¸ºcookie-demoï¼Œå¹¶åœ¨pom.xmlæ·»åŠ ä¾èµ–

> 2.ç¼–å†™Servletç±»ï¼Œåç§°ä¸ºAServlet

> 3.åœ¨AServletä¸­åˆ›å»ºCookieå¯¹è±¡ï¼Œå­˜å…¥æ•°æ®ï¼Œå‘é€ç»™å‰ç«¯

> 4.å¯åŠ¨æµ‹è¯•ï¼Œåœ¨æµè§ˆå™¨æŸ¥çœ‹Cookieå¯¹è±¡ä¸­çš„å€¼

(1)åˆ›å»ºMavené¡¹ç›®cookie-demoï¼Œå¹¶åœ¨pom.xmlæ·»åŠ ä¾èµ–

```xml
<properties>
 Â  Â <maven.compiler.source>8</maven.compiler.source>
 Â  Â <maven.compiler.target>8</maven.compiler.target>
</properties>
â€‹
<dependencies>
 Â  Â <!--servlet-->
 Â  Â <dependency>
 Â  Â  Â  Â <groupId>javax.servlet</groupId>
 Â  Â  Â  Â <artifactId>javax.servlet-api</artifactId>
 Â  Â  Â  Â <version>3.1.0</version>
 Â  Â  Â  Â <scope>provided</scope>
 Â  Â </dependency>
 Â  Â <!--jsp-->
 Â  Â <dependency>
 Â  Â  Â  Â <groupId>javax.servlet.jsp</groupId>
 Â  Â  Â  Â <artifactId>jsp-api</artifactId>
 Â  Â  Â  Â <version>2.2</version>
 Â  Â  Â  Â <scope>provided</scope>
 Â  Â </dependency>
 Â  Â <!--jstl-->
 Â  Â <dependency>
 Â  Â  Â  Â <groupId>jstl</groupId>
 Â  Â  Â  Â <artifactId>jstl</artifactId>
 Â  Â  Â  Â <version>1.2</version>
 Â  Â </dependency>
 Â  Â <dependency>
 Â  Â  Â  Â <groupId>taglibs</groupId>
 Â  Â  Â  Â <artifactId>standard</artifactId>
 Â  Â  Â  Â <version>1.1.2</version>
 Â  Â </dependency>
</dependencies>
<build>
 Â  Â <plugins>
 Â  Â  Â  Â <plugin>
 Â  Â  Â  Â  Â  Â <groupId>org.apache.tomcat.maven</groupId>
 Â  Â  Â  Â  Â  Â <artifactId>tomcat7-maven-plugin</artifactId>
 Â  Â  Â  Â  Â  Â <version>2.2</version>
 Â  Â  Â  Â </plugin>
 Â  Â </plugins>
</build>
```

(2)ç¼–å†™Servletç±»ï¼Œåç§°ä¸ºAServlet

```java
@WebServlet("/aServlet")
public class AServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
â€‹
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(3)åœ¨Servletä¸­åˆ›å»ºCookieå¯¹è±¡ï¼Œå­˜å…¥æ•°æ®ï¼Œå‘é€ç»™å‰ç«¯

```java
@WebServlet("/aServlet")
public class AServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //å‘é€Cookie
 Â  Â  Â  Â //1. åˆ›å»ºCookieå¯¹è±¡
 Â  Â  Â  Â Cookie cookie = new Cookie("username","zs");
 Â  Â  Â  Â //2. å‘é€Cookieï¼Œresponse
 Â  Â  Â  Â response.addCookie(cookie);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

ï¼ˆ4ï¼‰å¯åŠ¨æµ‹è¯•ï¼Œåœ¨æµè§ˆå™¨æŸ¥çœ‹Cookieå¯¹è±¡ä¸­çš„å€¼

 		è®¿é—®http://localhost:8080/cookie-demo/aServlet

3.2 è·å–Cookie

- è·å–å®¢æˆ·ç«¯æºå¸¦çš„æ‰€æœ‰Cookieï¼Œä½¿ç”¨==request==å¯¹è±¡

```
Cookie[] cookies = request.getCookies();
```

- éå†æ•°ç»„ï¼Œè·å–æ¯ä¸€ä¸ªCookieå¯¹è±¡ï¼šfor

- ä½¿ç”¨Cookieå¯¹è±¡æ–¹æ³•è·å–æ•°æ®

```java
cookie.getName();
cookie.getValue();
```

ä»‹ç»å®Œè·å–Cookieå¯¹åº”çš„æ­¥éª¤åï¼Œæ¥ä¸‹é¢å†é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥å®ŒæˆCookieçš„è·å–ï¼Œå…·ä½“å®ç°æ­¥éª¤ä¸º:

> éœ€æ±‚:åœ¨Servletä¸­è·å–å‰ä¸€ä¸ªæ¡ˆä¾‹å­˜å…¥åœ¨Cookieå¯¹è±¡ä¸­çš„æ•°æ®

> 1.ç¼–å†™ä¸€ä¸ªæ–°Servletç±»ï¼Œåç§°ä¸ºBServlet

> 2.åœ¨BServletä¸­ä½¿ç”¨requestå¯¹è±¡è·å–Cookieæ•°ç»„ï¼Œéå†æ•°ç»„ï¼Œä»æ•°æ®ä¸­è·å–æŒ‡å®šåç§°å¯¹åº”çš„å€¼

> 3.å¯åŠ¨æµ‹è¯•ï¼Œåœ¨æ§åˆ¶å°æ‰“å°å‡ºè·å–çš„å€¼

(1)ç¼–å†™ä¸€ä¸ªæ–°Servletç±»ï¼Œåç§°ä¸ºBServlet

```java
@WebServlet("/bServlet")
public class BServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
â€‹
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

ï¼ˆ2ï¼‰åœ¨BServletä¸­ä½¿ç”¨requestå¯¹è±¡è·å–Cookieæ•°ç»„ï¼Œéå†æ•°ç»„ï¼Œä»æ•°æ®ä¸­è·å–æŒ‡å®šåç§°å¯¹åº”çš„å€¼

```java
@WebServlet("/bServlet")
public class BServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //è·å–Cookie
 Â  Â  Â  Â //1. è·å–Cookieæ•°ç»„
 Â  Â  Â  Â Cookie[] cookies = request.getCookies();
 Â  Â  Â  Â //2. éå†æ•°ç»„
 Â  Â  Â  Â for (Cookie cookie : cookies) {
 Â  Â  Â  Â  Â  Â //3. è·å–æ•°æ®
 Â  Â  Â  Â  Â  Â String name = cookie.getName();
 Â  Â  Â  Â  Â  Â if("username".equals(name)){
 Â  Â  Â  Â  Â  Â  Â  Â String value = cookie.getValue();
 Â  Â  Â  Â  Â  Â  Â  Â System.out.println(name+":"+value);
 Â  Â  Â  Â  Â  Â  Â  Â break;
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
â€‹
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

ï¼ˆ3ï¼‰å¯åŠ¨æµ‹è¯•ï¼Œåœ¨æ§åˆ¶å°æ‰“å°å‡ºè·å–çš„å€¼

è®¿é—®http://localhost:8080/cookie-demo/bServlet

![](youdaonote-images/WEBRESOURCE4627f0f3c09c279d3f815169a103c7db.png)

åœ¨IDEAæ§åˆ¶å°å°±èƒ½çœ‹åˆ°è¾“å‡ºçš„ç»“æœ:

![](youdaonote-images/WEBRESOURCE054827576b7900ed423a6fb18443079b.png)

å°ç»“

åœ¨è¿™èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦è®²è§£äº†Cookieçš„åŸºæœ¬ä½¿ç”¨,åŒ…å«ä¸¤éƒ¨åˆ†å†…å®¹

- å‘é€Cookie:

- åˆ›å»ºCookieå¯¹è±¡ï¼Œå¹¶è®¾ç½®å€¼:Cookie cookie = new Cookie("key","value");

- å‘é€Cookieåˆ°å®¢æˆ·ç«¯ä½¿ç”¨çš„æ˜¯Reponseå¯¹è±¡:response.addCookie(cookie);

- è·å–Cookie:

- ä½¿ç”¨Requestå¯¹è±¡è·å–Cookieæ•°ç»„:Cookie[] cookies = request.getCookies();

- éå†æ•°ç»„

- è·å–æ•°ç»„ä¸­æ¯ä¸ªCookieå¯¹è±¡çš„å€¼:cookie.getName()å’Œcookie.getValue()

### 2ã€Cookieçš„åŸç†åˆ†æ

å¯¹äºCookieçš„å®ç°åŸç†æ˜¯åŸºäºHTTPåè®®çš„,å…¶ä¸­è®¾è®¡åˆ°HTTPåè®®ä¸­çš„ä¸¤ä¸ªè¯·æ±‚å¤´ä¿¡æ¯:

- å“åº”å¤´:set-cookie

- è¯·æ±‚å¤´: cookie

![](youdaonote-images/WEBRESOURCE01ebdc46cbcbc2a7c9eef1d4e31b5c90.png)

- å‰é¢çš„æ¡ˆä¾‹ä¸­å·²ç»èƒ½å¤Ÿå®ç°ï¼ŒAServletç»™å‰ç«¯å‘é€Cookie,BServletä»requestä¸­è·å–Cookieçš„åŠŸèƒ½

- å¯¹äºAServletå“åº”æ•°æ®çš„æ—¶å€™ï¼ŒTomcatæœåŠ¡å™¨éƒ½æ˜¯åŸºäºHTTPåè®®æ¥å“åº”æ•°æ®

- å½“Tomcatå‘ç°åç«¯è¦è¿”å›çš„æ˜¯ä¸€ä¸ªCookieå¯¹è±¡ä¹‹åï¼ŒTomcatå°±ä¼šåœ¨å“åº”å¤´ä¸­æ·»åŠ ä¸€è¡Œæ•°æ®==Set-Cookie:username=zs==

- æµè§ˆå™¨è·å–åˆ°å“åº”ç»“æœåï¼Œä»å“åº”å¤´ä¸­å°±å¯ä»¥è·å–åˆ°Set-Cookieå¯¹åº”å€¼username=zs,å¹¶å°†æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨çš„å†…å­˜ä¸­

- æµè§ˆå™¨å†æ¬¡å‘é€è¯·æ±‚ç»™BServletçš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ==Cookie: username=zs==å‘é€ç»™æœåŠ¡ç«¯BServlet

- Requestå¯¹è±¡ä¼šæŠŠè¯·æ±‚å¤´ä¸­cookieå¯¹åº”çš„å€¼å°è£…æˆä¸€ä¸ªä¸ªCookieå¯¹è±¡ï¼Œæœ€ç»ˆå½¢æˆä¸€ä¸ªæ•°ç»„

- BServleté€šè¿‡Requestå¯¹è±¡è·å–åˆ°Cookie[]åï¼Œå°±å¯ä»¥ä»ä¸­è·å–è‡ªå·±éœ€è¦çš„æ•°æ®

æ¥ä¸‹æ¥ï¼Œä½¿ç”¨åˆšæ‰çš„æ¡ˆä¾‹ï¼ŒæŠŠä¸Šè¿°ç»“è®ºéªŒè¯ä¸‹:

(1)è®¿é—®AServletå¯¹åº”çš„åœ°å€http://localhost:8080/cookie-demo/aServlet

ä½¿ç”¨Chromæµè§ˆå™¨æ‰“å¼€å¼€å‘è€…å·¥å…·(F12æˆ–Crtl+Shift+I)è¿›è¡ŒæŸ¥çœ‹==å“åº”å¤´==ä¸­çš„æ•°æ®

![](youdaonote-images/WEBRESOURCEb1d5cf44a7f10a5d91383c8f55d270a0.png)

ï¼ˆ2ï¼‰è®¿é—®BServletå¯¹åº”çš„åœ°å€`http://localhost:8080/cookie-demo/bServlet

ä½¿ç”¨Chromæµè§ˆå™¨æ‰“å¼€å¼€å‘è€…å·¥å…·(F12æˆ–Crtl+Shift+I)è¿›è¡ŒæŸ¥çœ‹==è¯·æ±‚å¤´==ä¸­çš„æ•°æ®

![](youdaonote-images/WEBRESOURCE106a350e0308a03297a2145cb5e27e0a.png)

### 3ã€Cookieçš„ä½¿ç”¨ç»†èŠ‚

åœ¨è¿™èŠ‚æˆ‘ä»¬ä¸»è¦è®²è§£ä¸¤ä¸ªçŸ¥è¯†ï¼Œç¬¬ä¸€ä¸ªæ˜¯Cookieçš„å­˜æ´»æ—¶é—´ï¼Œç¬¬äºŒä¸ªæ˜¯Cookieå¦‚ä½•å­˜å‚¨ä¸­æ–‡ï¼Œé¦–å…ˆæ¥å­¦ä¹ 

ä¸‹Cookieçš„å­˜æ´»æ—¶é—´ã€‚

#### 1ã€Cookieçš„å­˜æ´»æ—¶é—´

![](youdaonote-images/WEBRESOURCE69b46dc052a1484d284561472ce5bd65.png)

(1)æµè§ˆå™¨å‘é€è¯·æ±‚ç»™AServlet,AServletä¼šå“åº”ä¸€ä¸ªå­˜æœ‰usernanme=zsçš„Cookieå¯¹è±¡ç»™æµè§ˆå™¨

(2)æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”æ•°æ®å°†cookieå­˜å…¥åˆ°æµè§ˆå™¨å†…å­˜ä¸­

(3)å½“æµè§ˆå™¨å†æ¬¡å‘é€è¯·æ±‚ç»™BServlet,BServletå°±å¯ä»¥ä½¿ç”¨Requestå¯¹è±¡è·å–åˆ°Cookieæ•°æ®

(4)åœ¨å‘é€è¯·æ±‚åˆ°BServletä¹‹å‰ï¼Œå¦‚æœæŠŠæµè§ˆå™¨å…³é—­å†æ‰“å¼€è¿›è¡Œè®¿é—®ï¼ŒBServletèƒ½å¦è·å–åˆ°Cookieæ•°æ®?

==æ³¨æ„ï¼šæµè§ˆå™¨å…³é—­å†æ‰“å¼€ä¸æ˜¯æŒ‡æ‰“å¼€ä¸€ä¸ªæ–°çš„é€‰æ˜¾å¡ï¼Œè€Œä¸”å¿…é¡»æ˜¯å…ˆå…³é—­å†æ‰“å¼€ï¼Œé¡ºåºä¸èƒ½å˜ã€‚==

é’ˆå¯¹ä¸Šé¢è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡æ¼”ç¤ºï¼Œä¼šå‘ç°ï¼ŒBServletä¸­æ— æ³•å†è·å–åˆ°Cookieæ•°æ®ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢?

- é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieå­˜å‚¨åœ¨æµè§ˆå™¨å†…å­˜ä¸­ï¼Œå½“æµè§ˆå™¨å…³é—­ï¼Œå†…å­˜é‡Šæ”¾ï¼Œåˆ™Cookieè¢«é”€æ¯

è¿™ä¸ªç»“è®ºå°±å°è¯äº†ä¸Šé¢çš„æ¼”ç¤ºæ•ˆæœï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨è¿™ç§é»˜è®¤æƒ…å†µä¸‹çš„Cookie,æœ‰äº›éœ€æ±‚å°±æ— æ³•å®ç°ï¼Œæ¯”

å¦‚:

![](youdaonote-images/WEBRESOURCEc64b24344e981afb518192409dbc2359.png)

ä¸Šé¢è¿™ä¸ªç½‘ç«™çš„ç™»å½•é¡µé¢ä¸Šæœ‰ä¸€ä¸ªè®°ä½æˆ‘çš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¤§å®¶éƒ½æ¯”è¾ƒç†Ÿæ‚‰

- ç¬¬ä¸€æ¬¡è¾“å…¥ç”¨æˆ·åå’Œå¯†ç å¹¶å‹¾é€‰è®°ä½æˆ‘ç„¶åè¿›è¡Œç™»å½•

- ä¸‹æ¬¡å†ç™»é™†çš„æ—¶å€™ï¼Œç”¨æˆ·åå’Œå¯†ç å°±ä¼šè¢«è‡ªåŠ¨å¡«å……ï¼Œä¸éœ€è¦å†é‡æ–°è¾“å…¥ç™»å½•

- æ¯”å¦‚è®°ä½æˆ‘è¿™ä¸ªåŠŸèƒ½éœ€è¦è®°ä½ç”¨æˆ·åå’Œå¯†ç ä¸€ä¸ªæ˜ŸæœŸï¼Œé‚£ä¹ˆä½¿ç”¨é»˜è®¤æƒ…å†µä¸‹çš„Cookieå°±ä¼šå‡ºç°é—®é¢˜

- å› ä¸ºé»˜è®¤æƒ…å†µï¼Œæµè§ˆå™¨ä¸€å…³ï¼ŒCookieå°±ä¼šä»æµè§ˆå™¨å†…å­˜ä¸­åˆ é™¤ï¼Œå¯¹äºè®°ä½æˆ‘åŠŸèƒ½å°±æ— æ³•å®ç°

æ‰€ä»¥æˆ‘ä»¬ç°åœ¨å°±é‡åˆ°ä¸€ä¸ªéš¾é¢˜æ˜¯å¦‚ä½•å°†CookieæŒä¹…åŒ–å­˜å‚¨?

Cookieå…¶å®å·²ç»ä¸ºæˆ‘ä»¬æä¾›å¥½äº†å¯¹åº”çš„APIæ¥å®Œæˆè¿™ä»¶äº‹ï¼Œè¿™ä¸ªAPIå°±æ˜¯==setMaxAge==,

- è®¾ç½®Cookieå­˜æ´»æ—¶é—´

```
setMaxAge(int seconds)
```

å‚æ•°å€¼ä¸º:

1.æ­£æ•°ï¼šå°†Cookieå†™å…¥æµè§ˆå™¨æ‰€åœ¨ç”µè„‘çš„ç¡¬ç›˜ï¼ŒæŒä¹…åŒ–å­˜å‚¨ã€‚åˆ°æ—¶é—´è‡ªåŠ¨åˆ é™¤

2.è´Ÿæ•°ï¼šé»˜è®¤å€¼ï¼ŒCookieåœ¨å½“å‰æµè§ˆå™¨å†…å­˜ä¸­ï¼Œå½“æµè§ˆå™¨å…³é—­ï¼Œåˆ™Cookieè¢«é”€æ¯

3.é›¶ï¼šåˆ é™¤å¯¹åº”Cookie

æ¥ä¸‹æ¥ï¼Œå’±ä»¬å°±åœ¨AServletä¸­å»è®¾ç½®Cookieçš„å­˜æ´»æ—¶é—´ã€‚

```java
@WebServlet("/aServlet")
public class AServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //å‘é€Cookie
 Â  Â  Â  Â //1. åˆ›å»ºCookieå¯¹è±¡
 Â  Â  Â  Â Cookie cookie = new Cookie("username","zs");
 Â  Â  Â  Â //è®¾ç½®å­˜æ´»æ—¶é—´ Â  ï¼Œ1å‘¨ 7å¤©
 Â  Â  Â  Â cookie.setMaxAge(60*60*24*7); //æ˜“é˜…è¯»ï¼Œéœ€ç¨‹åºè®¡ç®—
        //cookie.setMaxAge(604800); //ä¸æ˜“é˜…è¯»(å¯ä»¥ä½¿ç”¨æ³¨è§£å¼¥è¡¥)ï¼Œç¨‹åºå°‘è¿›è¡Œä¸€æ¬¡è®¡ç®—
 Â  Â  Â  Â //2. å‘é€Cookieï¼Œresponse
 Â  Â  Â  Â response.addCookie(cookie);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

ä¿®æ”¹å®Œä»£ç åï¼Œå¯åŠ¨æµ‹è¯•ï¼Œè®¿é—®http://localhost:8080/cookie-demo/aServlet

- è®¿é—®ä¸€ä¸ªAServletåï¼ŒæŠŠæµè§ˆå™¨å…³é—­é‡å¯åï¼Œå†å»è®¿é—®http://localhost:8080/cookie-demo/bServet,èƒ½åœ¨æ§åˆ¶å°æ‰“å°å‡ºusername:zs,è¯´æ˜Cookieæ²¡æœ‰éšç€æµè§ˆå™¨å…³é—­è€Œè¢«é”€æ¯

- é€šè¿‡æµè§ˆå™¨æŸ¥çœ‹Cookieçš„å†…å®¹ï¼Œä¼šå‘ç°Cookieçš„ç›¸å…³ä¿¡æ¯

![](youdaonote-images/WEBRESOURCE82937dd936b3301764bde59584c564c8.png)

#### 2ã€Cookieå­˜å‚¨ä¸­æ–‡

é¦–å…ˆï¼Œå…ˆæ¥æ¼”ç¤ºä¸€ä¸ªæ•ˆæœï¼Œå°†ä¹‹å‰username=zsçš„å€¼æ”¹æˆusername=å¼ ä¸‰ï¼ŒæŠŠæ±‰å­—å¼ ä¸‰å­˜å…¥åˆ°Cookie

ä¸­ï¼Œçœ‹æ˜¯ä»€ä¹ˆæ•ˆæœ:

```java
@WebServlet("/aServlet")
public class AServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        //å‘é€Cookie
 Â  Â  Â  Â String value = "å¼ ä¸‰";
 Â  Â  Â  Â Cookie cookie = new Cookie("username",value);
 Â  Â  Â  Â //è®¾ç½®å­˜æ´»æ—¶é—´ Â  ï¼Œ1å‘¨ 7å¤©
 Â  Â  Â  Â cookie.setMaxAge(60*60*24*7);
 Â  Â  Â  Â //2. å‘é€Cookieï¼Œresponse
 Â  Â  Â  Â response.addCookie(cookie);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

å¯åŠ¨è®¿é—®æµ‹è¯•ï¼Œè®¿é—®http://localhost:8080/cookie-demo/aServletä¼šå‘ç°æµè§ˆå™¨ä¼šæç¤ºé”™è¯¯ä¿¡æ¯

é€šè¿‡ä¸Šé¢çš„æ¡ˆä¾‹æ¼”ç¤ºï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªç»“è®º:

- Cookieä¸èƒ½ç›´æ¥å­˜å‚¨ä¸­æ–‡

Cookieä¸èƒ½å­˜å‚¨ä¸­æ–‡ï¼Œä½†æ˜¯å¦‚æœæœ‰è¿™æ–¹é¢çš„éœ€æ±‚ï¼Œè¿™ä¸ªæ—¶å€™è¯¥å¦‚ä½•è§£å†³å‘¢?

è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰å­¦è¿‡çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹å«URLç¼–ç ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦å­˜å‚¨ä¸­æ–‡ï¼Œå°±éœ€è¦è¿›è¡Œè½¬

ç ï¼Œå…·ä½“çš„å®ç°æ€è·¯ä¸º:

> 1.åœ¨AServletä¸­å¯¹ä¸­æ–‡è¿›è¡ŒURLç¼–ç ï¼Œé‡‡ç”¨URLEncoder.encode()ï¼Œå°†ç¼–ç åçš„å€¼å­˜å…¥Cookieä¸­

> 2.åœ¨BServletä¸­è·å–Cookieä¸­çš„å€¼,è·å–çš„å€¼ä¸ºURLç¼–ç åçš„å€¼

> 3.å°†è·å–çš„å€¼åœ¨è¿›è¡ŒURLè§£ç ,é‡‡ç”¨URLDecoder.decode()ï¼Œå°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„ä¸­æ–‡å€¼

(1)åœ¨AServletä¸­å¯¹ä¸­æ–‡è¿›è¡ŒURLç¼–ç 

```java
@WebServlet("/aServlet")
public class AServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //å‘é€Cookie
 Â  Â  Â  Â String value = "å¼ ä¸‰";
 Â  Â  Â  Â //å¯¹ä¸­æ–‡è¿›è¡ŒURLç¼–ç 
 Â  Â  Â  Â value = URLEncoder.encode(value, "UTF-8");
 Â  Â  Â  Â System.out.println("å­˜å‚¨æ•°æ®ï¼š"+value);
 Â  Â  Â  Â //å°†ç¼–ç åçš„å€¼å­˜å…¥Cookieä¸­
 Â  Â  Â  Â Cookie cookie = new Cookie("username",value);
 Â  Â  Â  Â //è®¾ç½®å­˜æ´»æ—¶é—´ Â  ï¼Œ1å‘¨ 7å¤©
 Â  Â  Â  Â cookie.setMaxAge(60*60*24*7);
 Â  Â  Â  Â //2. å‘é€Cookieï¼Œresponse
 Â  Â  Â  Â response.addCookie(cookie);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(2)åœ¨BServletä¸­è·å–å€¼ï¼Œå¹¶å¯¹å€¼è¿›è¡Œè§£ç 

```java
@WebServlet("/bServlet")
public class BServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //è·å–Cookie
 Â  Â  Â  Â //1. è·å–Cookieæ•°ç»„
 Â  Â  Â  Â Cookie[] cookies = request.getCookies();
 Â  Â  Â  Â //2. éå†æ•°ç»„
 Â  Â  Â  Â for (Cookie cookie : cookies) {
 Â  Â  Â  Â  Â  Â //3. è·å–æ•°æ®
 Â  Â  Â  Â  Â  Â String name = cookie.getName();
 Â  Â  Â  Â  Â  Â if("username".equals(name)){
 Â  Â  Â  Â  Â  Â  Â  Â String value = cookie.getValue();//è·å–çš„æ˜¯URLç¼–ç åçš„å€¼ %E5%BC%A0%E4%B8%89
 Â  Â  Â  Â  Â  Â  Â  Â //URLè§£ç 
 Â  Â  Â  Â  Â  Â  Â  Â value = URLDecoder.decode(value,"UTF-8");
 Â  Â  Â  Â  Â  Â  Â  Â System.out.println(name+":"+value);//valueè§£ç åä¸º å¼ ä¸‰
 Â  Â  Â  Â  Â  Â  Â  Â break;
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
â€‹
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä¸­æ–‡å­˜å…¥Cookieä¸­è¿›è¡Œä½¿ç”¨ã€‚

å°ç»“

Cookieçš„ä½¿ç”¨ç»†èŠ‚ä¸­ï¼Œæˆ‘ä»¬è®²äº†Cookieçš„å­˜æ´»æ—¶é—´å’Œå­˜å‚¨ä¸­æ–‡:

- å­˜æ´»æ—¶é—´ï¼Œéœ€è¦æŒæ¡setMaxAage()APIçš„ä½¿ç”¨

- å­˜å‚¨ä¸­æ–‡ï¼Œéœ€è¦æŒæ¡URLç¼–ç å’Œè§£ç çš„ä½¿ç”¨

## ä¸‰ã€Session

### 1ã€Sessionçš„åŸºæœ¬ä½¿ç”¨

1.æ¦‚å¿µ

==Session==ï¼šæœåŠ¡ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼šå°†æ•°æ®ä¿å­˜åˆ°æœåŠ¡ç«¯ã€‚

- Sessionæ˜¯å­˜å‚¨åœ¨æœåŠ¡ç«¯è€ŒCookieæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯

- å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„æ•°æ®å®¹æ˜“è¢«çªƒå–å’Œæˆªè·ï¼Œå­˜åœ¨å¾ˆå¤šä¸å®‰å…¨çš„å› ç´ 

- å­˜å‚¨åœ¨æœåŠ¡ç«¯çš„æ•°æ®ç›¸æ¯”äºå®¢æˆ·ç«¯æ¥è¯´å°±æ›´å®‰å…¨

2.Sessionçš„å·¥ä½œæµç¨‹

![](youdaonote-images/WEBRESOURCE1d67aa66b57379bbd9519b443323fb23.png)

- åœ¨æœåŠ¡ç«¯çš„AServletè·å–ä¸€ä¸ªSessionå¯¹è±¡ï¼ŒæŠŠæ•°æ®å­˜å…¥å…¶ä¸­

- åœ¨æœåŠ¡ç«¯çš„BServletè·å–åˆ°ç›¸åŒçš„Sessionå¯¹è±¡ï¼Œä»ä¸­å–å‡ºæ•°æ®

- å°±å¯ä»¥å®ç°ä¸€æ¬¡ä¼šè¯ä¸­å¤šæ¬¡è¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«äº†

- ç°åœ¨æœ€å¤§çš„é—®é¢˜æ˜¯å¦‚ä½•ä¿è¯AServletå’ŒBServletä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªSessionå¯¹è±¡(åœ¨åŸç†åˆ†æä¼šè®²è§£)?

3.Sessionçš„åŸºæœ¬ä½¿ç”¨

åœ¨JavaEEä¸­æä¾›äº†HttpSessionæ¥å£ï¼Œæ¥å®ç°ä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´æ•°æ®å…±äº«åŠŸèƒ½ã€‚

å…·ä½“çš„ä½¿ç”¨æ­¥éª¤ä¸º:

- è·å–Sessionå¯¹è±¡,ä½¿ç”¨çš„æ˜¯requestå¯¹è±¡

```
HttpSession session = request.getSession();
```

- Sessionå¯¹è±¡æä¾›çš„åŠŸèƒ½:

- å­˜å‚¨æ•°æ®åˆ° session åŸŸä¸­

```
void setAttribute(String name, Object o)
```

- æ ¹æ® keyï¼Œè·å–å€¼

```
Object getAttribute(String name)
```

- æ ¹æ® keyï¼Œåˆ é™¤è¯¥é”®å€¼å¯¹

```
void removeAttribute(String name)
```

ä»‹ç»å®ŒSessionç›¸å…³çš„APIåï¼Œæ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥å®Œæˆå¯¹Sessionçš„ä½¿ç”¨ï¼Œå…·ä½“å®ç°æ­¥éª¤ä¸º:

> éœ€æ±‚:åœ¨ä¸€ä¸ªServletä¸­å¾€Sessionä¸­å­˜å…¥æ•°æ®ï¼Œåœ¨å¦ä¸€ä¸ªServletä¸­è·å–Sessionä¸­å­˜å…¥çš„æ•°æ®

> 1.åˆ›å»ºåä¸ºSessionDemo1çš„Servletç±»

> 2.åˆ›å»ºåä¸ºSessionDemo2çš„Servletç±»

> 3.åœ¨SessionDemo1çš„æ–¹æ³•ä¸­:è·å–Sessionå¯¹è±¡ã€å­˜å‚¨æ•°æ®4.åœ¨SessionDemo2çš„æ–¹æ³•ä¸­:è·å–Sessionå¯¹è±¡ã€è·å–æ•°æ®5.å¯åŠ¨æµ‹è¯•

(1)åˆ›å»ºåä¸ºSessionDemo1çš„Servletç±»

```java
@WebServlet("/demo1")
public class SessionDemo1 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â 
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(2)åˆ›å»ºåä¸ºSessionDemo2çš„Servletç±»

```java
@WebServlet("/demo2")
public class SessionDemo2 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â 
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(3)SessionDemo1:è·å–Sessionå¯¹è±¡ã€å­˜å‚¨æ•°æ®

```java
@WebServlet("/demo1")
public class SessionDemo1 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â       //å­˜å‚¨åˆ°Sessionä¸­
 Â  Â  Â  Â //1. è·å–Sessionå¯¹è±¡
 Â  Â  Â  Â HttpSession session = request.getSession();
 Â  Â  Â  Â //2. å­˜å‚¨æ•°æ®
 Â  Â  Â  Â session.setAttribute("username","zs");
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(4)SessionDemo2:è·å–Sessionå¯¹è±¡ã€è·å–æ•°æ®

```java
@WebServlet("/demo2")
public class SessionDemo2 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //è·å–æ•°æ®ï¼Œä»sessionä¸­
 Â  Â  Â  Â //1. è·å–Sessionå¯¹è±¡
 Â  Â  Â  Â HttpSession session = request.getSession();
 Â  Â  Â  Â //2. è·å–æ•°æ®
 Â  Â  Â  Â Object username = session.getAttribute("username");
 Â  Â  Â  Â System.out.println(username);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

(5)å¯åŠ¨æµ‹è¯•ï¼Œ

- å…ˆè®¿é—®http://localhost:8080/cookie-demo/demo1,å°†æ•°æ®å­˜å…¥Session

- åœ¨è®¿é—®http://localhost:8080/cookie-demo/demo2,ä»Sessionä¸­è·å–æ•°æ®

- æŸ¥çœ‹æ§åˆ¶å°

![](youdaonote-images/WEBRESOURCE26d438bfa7eeb5a38d2dc52f8dfb5715.png)

é€šè¿‡æ¡ˆä¾‹çš„æ•ˆæœï¼Œèƒ½çœ‹åˆ°Sessionæ˜¯èƒ½å¤Ÿåœ¨ä¸€æ¬¡ä¼šè¯ä¸­ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´å…±äº«æ•°æ®ã€‚

å°ç»“

è‡³æ­¤Sessionçš„åŸºæœ¬ä½¿ç”¨å°±å·²ç»å®Œæˆäº†ï¼Œé‡ç‚¹è¦æŒæ¡çš„æ˜¯:

- Sessionçš„è·å–

```
HttpSession session = request.getSession();
```

- Sessionå¸¸ç”¨æ–¹æ³•çš„ä½¿ç”¨

```
void setAttribute(String name, Object o)
Object getAttribute(String name)
```

æ³¨æ„:Sessionä¸­å¯ä»¥å­˜å‚¨çš„æ˜¯ä¸€ä¸ªObjectç±»å‹çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´Sessionä¸­å¯ä»¥å­˜å‚¨ä»»æ„æ•°æ®ç±»å‹ã€‚

Sessionçš„åº•å±‚åˆ°åº•æ˜¯å¦‚ä½•å®ç°ä¸€æ¬¡ä¼šè¯ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«å‘¢?

### 2ã€Sessionçš„åŸç†åˆ†æ

- Sessionæ˜¯åŸºäºCookieå®ç°çš„

è¿™å¥è¯å…¶å®ä¸å¤ªèƒ½è¯¦ç»†çš„è¯´æ˜Sessionçš„åº•å±‚å®ç°ï¼Œæ¥ä¸‹æ¥ï¼Œå’±ä»¬ä¸€æ­¥æ­¥æ¥åˆ†æä¸‹Sessionçš„å…·ä½“å®ç°

åŸç†:

(1)å‰ææ¡ä»¶

![](youdaonote-images/WEBRESOURCE3f81f86df7b177a7b6cc508e8c8a57a8.png)

Sessionè¦æƒ³å®ç°ä¸€æ¬¡ä¼šè¯å¤šæ¬¡è¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«ï¼Œå°±å¿…é¡»è¦ä¿è¯å¤šæ¬¡è¯·æ±‚è·å–Sessionçš„å¯¹è±¡æ˜¯åŒ

ä¸€ä¸ªã€‚

é‚£ä¹ˆå®ƒä»¬æ˜¯ä¸€ä¸ªå¯¹è±¡ä¹ˆï¼Ÿè¦éªŒè¯è¿™ä¸ªç»“è®ºä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ä¸Šé¢æ¡ˆä¾‹ä¸­çš„ä¸¤ä¸ªServletä¸­åˆ†åˆ«æ‰“å°ä¸‹

Sessionå¯¹è±¡

SessionDemo1

```java
@WebServlet("/demo1")
public class SessionDemo1 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â       //å­˜å‚¨åˆ°Sessionä¸­
 Â  Â  Â  Â //1. è·å–Sessionå¯¹è±¡
 Â  Â  Â  Â HttpSession session = request.getSession();
 Â  Â  Â  Â System.out.println(session);
 Â  Â  Â  Â //2. å­˜å‚¨æ•°æ®
 Â  Â  Â  Â session.setAttribute("username","zs");
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

SessionDemo2

```java
@WebServlet("/demo2")
public class SessionDemo2 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //è·å–æ•°æ®ï¼Œä»sessionä¸­
 Â  Â  Â  Â //1. è·å–Sessionå¯¹è±¡
 Â  Â  Â  Â HttpSession session = request.getSession();
 Â  Â  Â  Â System.out.println(session);
 Â  Â  Â  Â //2. è·å–æ•°æ®
 Â  Â  Â  Â Object username = session.getAttribute("username");
 Â  Â  Â  Â System.out.println(username);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

å¯åŠ¨æµ‹è¯•ï¼Œåˆ†åˆ«è®¿é—®http://localhost:8080/cookie-demo/demo1 http://localhost:8080/cookie-demo/de

mo2

![](youdaonote-images/WEBRESOURCE45c118b0539a56c1cc55eae1dafe9826.png)

é€šè¿‡æ‰“å°å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“è®º:

- ä¸¤ä¸ªServletç±»ä¸­è·å–çš„Sessionå¯¹è±¡æ˜¯åŒä¸€ä¸ª

- æŠŠdemo1å’Œdemo2è¯·æ±‚åˆ·æ–°å¤šæ¬¡ï¼Œæ§åˆ¶å°æœ€ç»ˆæ‰“å°çš„ç»“æœéƒ½æ˜¯åŒä¸€ä¸ª

é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœæ–°å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œè®¿é—®demo1æˆ–è€…demo2,æ‰“å°åœ¨æ§åˆ¶å°çš„Sessionè¿˜æ˜¯åŒä¸€ä¸ª

å¯¹è±¡ä¹ˆ?

![](youdaonote-images/WEBRESOURCE4203968f4b3a722f9e2fe990f751dd62.png)

==æ³¨æ„:åœ¨ä¸€å°ç”µè„‘ä¸Šæ¼”ç¤ºçš„æ—¶å€™ï¼Œå¦‚æœæ˜¯ç›¸åŒçš„æµè§ˆå™¨å¿…é¡»è¦æŠŠæµè§ˆå™¨å…¨éƒ¨å…³æ‰é‡æ–°æ‰“å¼€ï¼Œæ‰ç®—æ–°å¼€

çš„ä¸€ä¸ªæµè§ˆå™¨ã€‚==

å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„æµè§ˆå™¨è¿›è¡Œæµ‹è¯•ï¼Œå°±ä¸éœ€è¦æŠŠä¹‹å‰çš„æµè§ˆå™¨å…¨éƒ¨å…³é—­ã€‚

æµ‹è¯•çš„ç»“æœï¼šå¦‚æœæ˜¯ä¸åŒæµè§ˆå™¨æˆ–è€…é‡æ–°æ‰“å¼€æµè§ˆå™¨åï¼Œæ‰“å°çš„Sessionå°±ä¸ä¸€æ ·äº†ã€‚

æ‰€ä»¥Sessionå®ç°çš„ä¹Ÿæ˜¯ä¸€æ¬¡ä¼šè¯ä¸­çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«ã€‚

é‚£ä¹ˆæœ€ä¸»è¦çš„é—®é¢˜å°±æ¥äº†ï¼ŒSessionæ˜¯å¦‚ä½•ä¿è¯åœ¨ä¸€æ¬¡ä¼šè¯ä¸­è·å–çš„Sessionå¯¹è±¡æ˜¯åŒä¸€ä¸ªå‘¢?

![](youdaonote-images/WEBRESOURCEa41d3c607c464c86df6d8165b6b2eeaf.png)

(1)demo1åœ¨ç¬¬ä¸€æ¬¡è·å–sessionå¯¹è±¡çš„æ—¶å€™ï¼Œsessionå¯¹è±¡ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼Œå‡å¦‚æ˜¯id:10

(2)demo1åœ¨sessionä¸­å­˜å…¥å…¶ä»–æ•°æ®å¹¶å¤„ç†å®Œæˆæ‰€æœ‰ä¸šåŠ¡åï¼Œéœ€è¦é€šè¿‡TomcatæœåŠ¡å™¨å“åº”ç»“æœç»™æµè§ˆ

å™¨

(3)TomcatæœåŠ¡å™¨å‘ç°ä¸šåŠ¡å¤„ç†ä¸­ä½¿ç”¨äº†sessionå¯¹è±¡ï¼Œå°±ä¼šæŠŠsessionçš„å”¯ä¸€æ ‡è¯†id:10å½“åšä¸€ä¸ªcookieï¼Œæ·»åŠ Set-Cookie:JESSIONID=10åˆ°å“åº”å¤´ä¸­ï¼Œå¹¶å“åº”ç»™æµè§ˆå™¨

(4)æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”ç»“æœåï¼Œä¼šæŠŠå“åº”å¤´ä¸­çš„coookieæ•°æ®å­˜å‚¨åˆ°æµè§ˆå™¨çš„å†…å­˜ä¸­

(5)æµè§ˆå™¨åœ¨åŒä¸€ä¼šè¯ä¸­è®¿é—®demo2çš„æ—¶å€™ï¼Œä¼šæŠŠcookieä¸­çš„æ•°æ®æŒ‰ç…§cookie: JESSIONID=10çš„æ ¼å¼æ·»åŠ åˆ°è¯·æ±‚å¤´ä¸­å¹¶å‘é€ç»™æœåŠ¡å™¨Tomcat

(6)demo2è·å–åˆ°è¯·æ±‚åï¼Œä»è¯·æ±‚å¤´ä¸­å°±è¯»å–cookieä¸­çš„JSESSIONIDå€¼ä¸º10ï¼Œç„¶åå°±ä¼šåˆ°æœåŠ¡å™¨å†…å­˜ä¸­å¯»æ‰¾id:10çš„sessionå¯¹è±¡ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œå°±ç›´æ¥è¿”å›è¯¥å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ–°åˆ›å»ºä¸€ä¸ªsessionå¯¹è±¡

(7)å…³é—­æ‰“å¼€æµè§ˆå™¨åï¼Œå› ä¸ºæµè§ˆå™¨çš„cookieå·²è¢«é”€æ¯ï¼Œæ‰€ä»¥å°±æ²¡æœ‰JESSIONIDçš„æ•°æ®ï¼ŒæœåŠ¡ç«¯è·å–åˆ°çš„sessionå°±æ˜¯ä¸€ä¸ªå…¨æ–°çš„sessionå¯¹è±¡

è‡³æ­¤ï¼ŒSessionæ˜¯åŸºäºCookieæ¥å®ç°çš„è¿™å°±è¯ï¼Œæˆ‘ä»¬å°±è§£é‡Šå®Œäº†ï¼Œæ¥ä¸‹æ¥é€šè¿‡å®ä¾‹æ¥æ¼”ç¤ºä¸‹:

(1)ä½¿ç”¨chromeæµè§ˆå™¨è®¿é—®http://localhost:8080/cookie-demo/demo1,æ‰“å¼€å¼€å‘è€…æ¨¡å¼(F12æˆ–Ctrl+Shift+I),æŸ¥çœ‹==å“åº”å¤´(Response Headers)==æ•°æ®:

![](youdaonote-images/WEBRESOURCEbad8a43d6914ffeb40d18a6a67609cfc.png)

(2)ä½¿ç”¨chromeæµè§ˆå™¨å†æ¬¡è®¿é—®http://localhost:8080/cookie-demo/demo2ï¼ŒæŸ¥çœ‹==è¯·æ±‚å¤´(Request Headers)==æ•°æ®:

![](youdaonote-images/WEBRESOURCE844931a728ce6597ed740edfb339d8cf.png)

å°ç»“

ä»‹ç»å®ŒSessionçš„åŸç†ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½

- Sessionæ˜¯åŸºäºCookieæ¥å®ç°çš„



### 3ã€Sessionçš„ä½¿ç”¨ç»†èŠ‚

#### 1ã€Sessioné’åŒ–ä¸æ´»åŒ–

é¦–å…ˆéœ€è¦å¤§å®¶æ€è€ƒçš„é—®é¢˜æ˜¯: 

- æœåŠ¡å™¨é‡å¯åï¼ŒSessionä¸­çš„æ•°æ®æ˜¯å¦è¿˜åœ¨?

è¦æƒ³å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆçœ‹ä¸‹ä¸‹é¢è¿™å¹…å›¾ï¼Œ

![](youdaonote-images/WEBRESOURCE52d08d91feab1826aac58d610efa3399.png)

(1)æœåŠ¡å™¨ç«¯AServletå’ŒBServletå…±ç”¨çš„sessionå¯¹è±¡åº”è¯¥æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨çš„å†…å­˜ä¸­

(2)æœåŠ¡å™¨é‡æ–°å¯åŠ¨åï¼Œå†…å­˜ä¸­çš„æ•°æ®åº”è¯¥æ˜¯å·²ç»è¢«é‡Šæ”¾ï¼Œå¯¹è±¡ä¹Ÿåº”è¯¥éƒ½é”€æ¯äº†

æ‰€ä»¥sessionæ•°æ®åº”è¯¥ä¹Ÿå·²ç»ä¸å­˜åœ¨äº†ã€‚ä½†æ˜¯å¦‚æœsessionä¸å­˜åœ¨ä¼šå¼•å‘ä»€ä¹ˆé—®é¢˜å‘¢?

ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸‹ï¼Œ

(1)ç”¨æˆ·æŠŠéœ€è¦è´­ä¹°çš„å•†å“æ·»åŠ åˆ°è´­ç‰©è½¦ï¼Œå› ä¸ºè¦å®ç°åŒä¸€ä¸ªä¼šè¯å¤šæ¬¡è¯·æ±‚æ•°æ®å…±äº«ï¼Œæ‰€ä»¥å‡è®¾æŠŠæ•°æ®å­˜å…¥Sessionå¯¹è±¡ä¸­

(2)ç”¨æˆ·æ­£è¦ä»˜é’±çš„æ—¶å€™æ¥åˆ°ä¸€ä¸ªç”µè¯ï¼Œä»˜é’±çš„åŠ¨ä½œå°±ææµ…äº†

(3)æ­£åœ¨ç”¨æˆ·æ‰“ç”µè¯çš„æ—¶å€™ï¼Œè´­ç‰©ç½‘ç«™å› ä¸ºæŸäº›åŸå› éœ€è¦é‡å¯

(4)é‡å¯åsessionæ•°æ®è¢«é”€æ¯ï¼Œè´­ç‰©è½¦ä¸­çš„å•†å“ä¿¡æ¯ä¹Ÿå°±ä¼šéšä¹‹è€Œæ¶ˆå¤±

(5)ç”¨æˆ·æƒ³å†æ¬¡å‘èµ·æ”¯ä»˜ï¼Œå°±ä¼šå‡ºä¸ºé—®é¢˜

æ‰€ä»¥è¯´å¯¹äºsessionçš„æ•°æ®ï¼Œæˆ‘ä»¬åº”è¯¥åšåˆ°å°±ç®—æœåŠ¡å™¨é‡å¯äº†ï¼Œä¹Ÿåº”è¯¥èƒ½æŠŠæ•°æ®ä¿å­˜ä¸‹æ¥æ‰å¯¹ã€‚

åˆ†æäº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆTomcatæœåŠ¡å™¨åœ¨é‡å¯çš„æ—¶å€™ï¼Œsessionæ•°æ®åˆ°åº•ä¼šä¸ä¼šä¿å­˜ä»¥åŠæ˜¯å¦‚ä½•ä¿å­˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®é™…æ¡ˆä¾‹æ¥æ¼”ç¤ºä¸‹:

==æ³¨æ„:è¿™é‡Œæ‰€è¯´çš„å…³é—­å’Œå¯åŠ¨åº”è¯¥è¦ç¡®ä¿æ˜¯æ­£å¸¸çš„å…³é—­å’Œå¯åŠ¨ã€‚==

é‚£å¦‚ä½•æ‰æ˜¯æ­£å¸¸å…³é—­TomcatæœåŠ¡å™¨å‘¢?

éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼æ¥å¯åŠ¨å’Œåœæ­¢TomcatæœåŠ¡å™¨:

==å¯åŠ¨==:è¿›å…¥åˆ°é¡¹ç›®pom.xmlæ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œtomcat7:run

![](youdaonote-images/WEBRESOURCEf761d1e3280fd7198ed371d165a8e061.png)

==åœæ­¢==:åœ¨å¯åŠ¨çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œè¾“å…¥ctrl+c

![](youdaonote-images/WEBRESOURCE5a7fd5058af42c4a9a3ad4683f09dfc9.png)

æœ‰äº†ä¸Šè¿°ä¸¤ä¸ªæ­£å¸¸å¯åŠ¨å’Œå…³é—­çš„æ–¹å¼åï¼Œæ¥ä¸‹æ¥çš„æµ‹è¯•æµç¨‹æ˜¯:

(1)å…ˆå¯åŠ¨TomcatæœåŠ¡å™¨

(2)è®¿é—®http://localhost:8080/cookie-demo/demo1å°†æ•°æ®å­˜å…¥sessionä¸­

(3)æ­£ç¡®åœæ­¢TomcatæœåŠ¡å™¨

(4)å†æ¬¡é‡æ–°å¯åŠ¨TomcatæœåŠ¡å™¨

(5)è®¿é—®http://localhost:8080/cookie-demo/demo2 æŸ¥çœ‹æ˜¯å¦èƒ½è·å–åˆ°sessionä¸­çš„æ•°æ®

![](youdaonote-images/WEBRESOURCEf521bb45d71c2a77be46833305d9be68.png)

ç»è¿‡æµ‹è¯•ï¼Œä¼šå‘ç°åªè¦æœåŠ¡å™¨æ˜¯æ­£å¸¸å…³é—­å’Œå¯åŠ¨ï¼Œsessionä¸­çš„æ•°æ®æ˜¯å¯ä»¥è¢«ä¿å­˜ä¸‹æ¥çš„ã€‚

é‚£ä¹ˆTomcatæœåŠ¡å™¨åˆ°



åº•æ˜¯å¦‚ä½•åšåˆ°çš„å‘¢?

å…·ä½“çš„åŸå› å°±æ˜¯:Sessionçš„é’åŒ–å’Œæ´»åŒ–:

- é’åŒ–ï¼šåœ¨æœåŠ¡å™¨æ­£å¸¸å…³é—­åï¼ŒTomcatä¼šè‡ªåŠ¨å°†Sessionæ•°æ®å†™å…¥ç¡¬ç›˜çš„æ–‡ä»¶ä¸­



- é’åŒ–çš„æ•°æ®è·¯å¾„ä¸º:

é¡¹ç›®ç›®å½•\target\tomcat\work\Tomcat\localhost\é¡¹ç›®åç§°\SESSIONS.ser

![](youdaonote-images/WEBRESOURCE6c197577c00cead5b8bae12799380aba.png)

- æ´»åŒ–ï¼šå†æ¬¡å¯åŠ¨æœåŠ¡å™¨åï¼Œä»æ–‡ä»¶ä¸­åŠ è½½æ•°æ®åˆ°Sessionä¸­

- æ•°æ®åŠ è½½åˆ°Sessionä¸­åï¼Œè·¯å¾„ä¸­çš„

SESSIONS.seræ–‡ä»¶ä¼šè¢«åˆ é™¤æ‰

å¯¹äºä¸Šè¿°çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå¤§å®¶åªéœ€è¦äº†è§£ä¸‹å³å¯ã€‚å› ä¸ºæ‰€æœ‰çš„è¿‡ç¨‹éƒ½æ˜¯Tomcatè‡ªå·±å®Œæˆçš„ï¼Œä¸éœ€è¦æˆ‘ä»¬å‚ä¸ã€‚

å°ç»“

Sessionçš„é’åŒ–å’Œæ´»åŒ–ä»‹ç»å®Œåï¼Œéœ€è¦æˆ‘ä»¬æ³¨æ„çš„æ˜¯:

- sessionæ•°æ®å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼ŒæœåŠ¡å™¨é‡å¯åï¼Œsessionæ•°æ®ä¼šè¢«ä¿å­˜

- æµè§ˆå™¨è¢«å…³é—­å¯åŠ¨åï¼Œé‡æ–°å»ºç«‹çš„è¿æ¥å°±å·²ç»æ˜¯ä¸€ä¸ªå…¨æ–°çš„ä¼šè¯ï¼Œè·å–çš„sessionæ•°æ®ä¹Ÿæ˜¯ä¸€ä¸ªæ–°çš„å¯¹è±¡

- sessionçš„æ•°æ®è¦æƒ³å…±äº«ï¼Œæµè§ˆå™¨ä¸èƒ½å…³é—­ï¼Œæ‰€ä»¥sessionæ•°æ®ä¸èƒ½é•¿æœŸä¿å­˜æ•°æ®

- cookieæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œæ˜¯å¯ä»¥é•¿æœŸä¿å­˜

#### 2ã€Sessioné”€æ¯

sessionçš„é”€æ¯ä¼šæœ‰ä¸¤ç§æ–¹å¼:

- é»˜è®¤æƒ…å†µä¸‹ï¼Œæ— æ“ä½œï¼Œ30åˆ†é’Ÿè‡ªåŠ¨é”€æ¯

- å¯¹äºè¿™ä¸ªå¤±æ•ˆæ—¶é—´ï¼Œæ˜¯å¯ä»¥é€šè¿‡é…ç½®è¿›è¡Œä¿®æ”¹çš„

- åœ¨é¡¹ç›®çš„web.xmlä¸­é…ç½®

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
 Â  Â  Â  Â  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 Â  Â  Â  Â  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
 Â  Â  Â  Â  version="3.1">
â€‹
 Â  Â <session-config>
 Â  Â  Â  Â <session-timeout>100</session-timeout>
 Â  Â </session-config>
</web-app>
```

- å¦‚æœæ²¡æœ‰é…ç½®ï¼Œé»˜è®¤æ˜¯30åˆ†é’Ÿï¼Œé»˜è®¤å€¼æ˜¯åœ¨Tomcatçš„web.xmlé…ç½®æ–‡ä»¶ä¸­å†™æ­»çš„

![](youdaonote-images/WEBRESOURCEabf3cbf35a6f710a40395104bbe5e4da.png)

- è°ƒç”¨Sessionå¯¹è±¡çš„invalidate()è¿›è¡Œé”€æ¯

- åœ¨SessionDemo2ç±»ä¸­æ·»åŠ sessioné”€æ¯çš„æ–¹æ³•

```
@WebServlet("/demo2")
public class SessionDemo2 extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //è·å–æ•°æ®ï¼Œä»sessionä¸­
â€‹
 Â  Â  Â  Â //1. è·å–Sessionå¯¹è±¡
 Â  Â  Â  Â HttpSession session = request.getSession();
 Â  Â  Â  Â System.out.println(session);
â€‹
 Â  Â  Â  Â // é”€æ¯
 Â  Â  Â  Â session.invalidate();
 Â  Â  Â  Â //2. è·å–æ•°æ®
 Â  Â  Â  Â Object username = session.getAttribute("username");
 Â  Â  Â  Â System.out.println(username);
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

- å¯åŠ¨è®¿é—®æµ‹è¯•ï¼Œå…ˆè®¿é—®demo1å°†æ•°æ®å­˜å…¥åˆ°sessionï¼Œå†æ¬¡è®¿é—®demo2ä»sessionä¸­è·å–æ•°æ®

![](youdaonote-images/WEBRESOURCEae2f6241814c362d4c41836ebfbc4e40.png)

- è¯¥é”€æ¯æ–¹æ³•ä¸€èˆ¬ä¼šåœ¨ç”¨æˆ·é€€å‡ºçš„æ—¶å€™ï¼Œéœ€è¦å°†sessioné”€æ¯æ‰ã€‚

Cookieå’ŒSessionå°ç»“

- Cookie å’Œ Session éƒ½æ˜¯æ¥å®Œæˆä¸€æ¬¡ä¼šè¯å†…å¤šæ¬¡è¯·æ±‚é—´==æ•°æ®å…±äº«==çš„ã€‚

æ‰€éœ€ä¸¤ä¸ªå¯¹è±¡æ”¾åœ¨ä¸€å—ï¼Œå°±éœ€è¦æ€è€ƒ:

Cookieå’ŒSessionçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?

Cookieå’ŒSessionçš„åº”ç”¨åœºæ™¯åˆ†åˆ«æ˜¯ä»€ä¹ˆ?

- åŒºåˆ«:

- å­˜å‚¨ä½ç½®ï¼šCookie æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼ŒSession å°†æ•°æ®å­˜å‚¨åœ¨æœåŠ¡ç«¯

- å®‰å…¨æ€§ï¼šCookieä¸å®‰å…¨ï¼ŒSessionå®‰å…¨

- æ•°æ®å¤§å°ï¼šCookieæœ€å¤§3KBï¼ŒSessionæ— å¤§å°é™åˆ¶

- å­˜å‚¨æ—¶é—´ï¼šCookieå¯ä»¥é€šè¿‡setMaxAge()é•¿æœŸå­˜å‚¨ï¼ŒSessioné»˜è®¤30åˆ†é’Ÿ

- æœåŠ¡å™¨æ€§èƒ½ï¼šCookieä¸å æœåŠ¡å™¨èµ„æºï¼ŒSessionå ç”¨æœåŠ¡å™¨èµ„æº

- åº”ç”¨åœºæ™¯:

- è´­ç‰©è½¦:ä½¿ç”¨Cookieæ¥å­˜å‚¨

- ä»¥ç™»å½•ç”¨æˆ·çš„åç§°å±•ç¤º:ä½¿ç”¨Sessionæ¥å­˜å‚¨

- è®°ä½æˆ‘åŠŸèƒ½:ä½¿ç”¨Cookieæ¥å­˜å‚¨

- éªŒè¯ç :ä½¿ç”¨sessionæ¥å­˜å‚¨

- ç»“è®º

- Cookieæ˜¯ç”¨æ¥ä¿è¯ç”¨æˆ·åœ¨æœªç™»å½•æƒ…å†µä¸‹çš„èº«ä»½è¯†åˆ«

- Sessionæ˜¯ç”¨æ¥ä¿å­˜ç”¨æˆ·ç™»å½•åçš„æ•°æ®

ä»‹ç»å®ŒCookieå’ŒSessionä»¥åï¼Œå…·ä½“ç”¨å“ªä¸ªè¿˜æ˜¯éœ€è¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡è¿›è¡Œå…·ä½“åˆ†æã€‚

## å››ã€ç»¼åˆæ¡ˆä¾‹

[User.zip](youdaonote-attachments/WEBRESOURCE12c135b4570d82d5abfe88c22cd3784fUser.zip)

# Filter

## ä¸€ã€Filteræ¦‚è¿°

Filter è¡¨ç¤ºè¿‡æ»¤å™¨ï¼Œæ˜¯ JavaWeb ä¸‰å¤§ç»„ä»¶(Servletã€Filterã€Listener)ä¹‹ä¸€ã€‚Servlet æˆ‘ä»¬ä¹‹å‰éƒ½å·²ç»å­¦ä¹ è¿‡äº†ï¼ŒFilterå’ŒListener æˆ‘ä»¬ä»Šå¤©éƒ½ä¼šè¿›è¡Œå­¦ä¹ ã€‚

è¿‡æ»¤å™¨å¯ä»¥æŠŠå¯¹èµ„æºçš„è¯·æ±‚==æ‹¦æˆª==ä¸‹æ¥ï¼Œä»è€Œå®ç°ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ã€‚

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæµè§ˆå™¨å¯ä»¥è®¿é—®æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰çš„èµ„æºï¼ˆservletã€jspã€htmlç­‰ï¼‰

![](youdaonote-images/WEBRESOURCE6edc2c586a7f1b241da482273bef576f.png)

è€Œåœ¨è®¿é—®åˆ°è¿™äº›èµ„æºä¹‹å‰å¯ä»¥ä½¿è¿‡æ»¤å™¨æ‹¦æˆªæ¥ä¸‹ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è®¿é—®èµ„æºä¹‹å‰ä¼šå…ˆç»è¿‡ Filterï¼Œå¦‚ä¸‹å›¾

![](youdaonote-images/WEBRESOURCE710ad23e2991d27220eb73f5f1c29250.png)

æ‹¦æˆªå™¨æ‹¦æˆªåˆ°åå¯ä»¥åšä»€ä¹ˆåŠŸèƒ½å‘¢ï¼Ÿ

==è¿‡æ»¤å™¨ä¸€èˆ¬å®Œæˆä¸€äº›é€šç”¨çš„æ“ä½œã€‚==æ¯”å¦‚æ¯ä¸ªèµ„æºéƒ½è¦å†™ä¸€äº›ä»£ç å®ŒæˆæŸä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬æ€»ä¸èƒ½åœ¨æ¯ä¸ªèµ„æºä¸­å†™è¿™æ ·çš„ä»£ç å§ï¼Œè€Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å°†è¿™äº›ä»£ç å†™åœ¨è¿‡æ»¤å™¨ä¸­ï¼Œå› ä¸ºè¯·æ±‚æ¯ä¸€ä¸ªèµ„æºéƒ½è¦ç»è¿‡è¿‡æ»¤å™¨ã€‚

æˆ‘ä»¬ä¹‹å‰åšçš„å“ç‰Œæ•°æ®ç®¡ç†çš„æ¡ˆä¾‹ä¸­å°±å·²ç»åšäº†ç™»é™†çš„åŠŸèƒ½ï¼Œè€Œå¦‚æœæˆ‘ä»¬ä¸ç™»å½•èƒ½ä¸èƒ½è®¿é—®åˆ°æ•°æ®å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ç›´æ¥è®¿é—®é¦–é¡µ ï¼Œå¯ä»¥çœ‹åˆ° æŸ¥è¯¢æ‰€æœ‰ çš„è¶…é“¾æ¥

![](youdaonote-images/WEBRESOURCEc95a9dd43246c697371f90ee75dcc0d7.png)

å½“æˆ‘ç‚¹å‡»è¯¥æŒ‰é’®ï¼Œå±…ç„¶å¯ä»¥çœ‹åˆ°å“ç‰Œçš„æ•°æ®

![](youdaonote-images/WEBRESOURCE7b312e3df33a63ff14e4e9aa163e8504.png)

è¿™æ˜¾ç„¶å’Œæˆ‘ä»¬çš„è¦æ±‚ä¸ç¬¦ã€‚æˆ‘ä»¬å¸Œæœ›å®ç°çš„æ•ˆæœæ˜¯ç”¨æˆ·å¦‚æœç™»é™†è¿‡äº†å°±è·³è½¬åˆ°å“ç‰Œæ•°æ®å±•ç¤ºçš„é¡µé¢ï¼›å¦‚æœæ²¡æœ‰ç™»é™†å°±è·³è½¬åˆ°ç™»é™†é¡µé¢è®©ç”¨æˆ·è¿›è¡Œç™»é™†ï¼Œè¦å®ç°è¿™ä¸ªæ•ˆæœéœ€è¦åœ¨æ¯ä¸€ä¸ªèµ„æºä¸­éƒ½å†™ä¸Šè¿™æ®µé€»è¾‘ï¼Œè€Œåƒè¿™ç§é€šç”¨çš„æ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥æ”¾åœ¨è¿‡æ»¤å™¨ä¸­è¿›è¡Œå®ç°ã€‚è¿™ä¸ªå°±æ˜¯==æƒé™æ§åˆ¶==ï¼Œä»¥åæˆ‘ä»¬è¿˜ä¼šè¿›è¡Œç»†ç²’åº¦æƒé™æ§åˆ¶ã€‚è¿‡æ»¤å™¨è¿˜å¯ä»¥åš ç»Ÿä¸€ç¼–ç å¤„ç†ã€ æ•æ„Ÿå­—ç¬¦å¤„ç† ç­‰ç­‰â€¦

## äºŒã€Filterå¿«é€Ÿå…¥é—¨

### 1ã€å¼€å‘æ­¥éª¤

è¿›è¡Œ Filter å¼€å‘åˆ†æˆä»¥ä¸‹ä¸‰æ­¥å®ç°

- å®šä¹‰ç±»ï¼Œå®ç° Filteræ¥å£ï¼Œå¹¶é‡å†™å…¶æ‰€æœ‰æ–¹æ³•

![](youdaonote-images/WEBRESOURCE4be0d73be5408b154256c6da0c772578.png)

- é…ç½®Filteræ‹¦æˆªèµ„æºçš„è·¯å¾„ï¼šåœ¨ç±»ä¸Šå®šä¹‰ @WebFilter æ³¨è§£ã€‚è€Œæ³¨è§£çš„ value å±æ€§å€¼ /* è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰çš„èµ„æº

![](youdaonote-images/WEBRESOURCEa34b04ca4b47ec62530675218e98353c.png)

- åœ¨doFilteræ–¹æ³•ä¸­è¾“å‡ºä¸€å¥è¯ï¼Œå¹¶æ”¾è¡Œ



![](youdaonote-images/WEBRESOURCE2b46e3bfed4ea68713275d2e03a93fdc.png)



> ä¸Šè¿°ä»£ç ä¸­çš„ chain.doFilter(request,response); å°±æ˜¯æ”¾è¡Œï¼Œä¹Ÿå°±æ˜¯è®©å…¶è®¿é—®æœ¬è¯¥è®¿é—®çš„èµ„æºã€‚

### 2ã€ä»£ç æ¼”ç¤º

åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®ä¸‹æœ‰ä¸€ä¸ª hello.jsp é¡µé¢ï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCE2ddf8a501f3d2511354d920af53f83eb.png)

pom.xml é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
 Â  Â  Â  Â  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 Â  Â  Â  Â  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
 Â  Â <modelVersion>4.0.0</modelVersion>
â€‹
 Â  Â <groupId>org.example</groupId>
 Â  Â <artifactId>filter-demo</artifactId>
 Â  Â <version>1.0-SNAPSHOT</version>
 Â  Â <packaging>war</packaging>
â€‹
 Â  Â <properties>
 Â  Â  Â  Â <maven.compiler.source>8</maven.compiler.source>
 Â  Â  Â  Â <maven.compiler.target>8</maven.compiler.target>
 Â  Â </properties>
â€‹
 Â  Â <dependencies>
 Â  Â  Â  Â <dependency>
 Â  Â  Â  Â  Â  Â <groupId>javax.servlet</groupId>
 Â  Â  Â  Â  Â  Â <artifactId>javax.servlet-api</artifactId>
 Â  Â  Â  Â  Â  Â <version>3.1.0</version>
 Â  Â  Â  Â  Â  Â <scope>provided</scope>
 Â  Â  Â  Â </dependency>
 Â  Â </dependencies>
â€‹
 Â  Â <build>
 Â  Â  Â  Â <plugins>
 Â  Â  Â  Â  Â  Â <plugin>
 Â  Â  Â  Â  Â  Â  Â  Â <groupId>org.apache.tomcat.maven</groupId>
 Â  Â  Â  Â  Â  Â  Â  Â <artifactId>tomcat7-maven-plugin</artifactId>
 Â  Â  Â  Â  Â  Â  Â  Â <version>2.2</version>
 Â  Â  Â  Â  Â  Â  Â  Â <configuration>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <port>80</port>
 Â  Â  Â  Â  Â  Â  Â  Â </configuration>
 Â  Â  Â  Â  Â  Â </plugin>
 Â  Â  Â  Â </plugins>
 Â  Â </build>
</project>
```

hello.jsp é¡µé¢å†…å®¹å¦‚ä¸‹ï¼š

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â <h1>hello JSP~</h1>
</body>
</html>
```

æˆ‘ä»¬ç°åœ¨åœ¨æµè§ˆå™¨è¾“å…¥ http://localhost/filter-demo/hello.jsp è®¿é—® hello.jsp é¡µé¢ï¼Œè¿™é‡Œæ˜¯å¯ä»¥è®¿é—®åˆ° hello.jsp é¡µé¢å†…å®¹çš„ã€‚

![](youdaonote-images/WEBRESOURCE430a4863ad07a5d76358d045e1d52844.png)

æ¥ä¸‹æ¥ç¼–å†™è¿‡æ»¤å™¨ã€‚è¿‡æ»¤å™¨æ˜¯ Web ä¸‰å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† filter åˆ›å»ºåœ¨ com.itheima.web.filter åŒ…ä¸‹ï¼Œèµ·åä¸º FilterDemo

```java
@WebFilter("/*")
public class FilterDemo implements Filter {
â€‹
 Â  Â @Override
 Â  Â public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
 Â  Â  Â  Â System.out.println("FilterDemo...");
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void init(FilterConfig filterConfig) throws ServletException {
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void destroy() {
 Â   }
}
â€‹
```

é‡å¯å¯åŠ¨æœåŠ¡å™¨ï¼Œå†æ¬¡é‡æ–°è®¿é—® hello.jsp é¡µé¢ï¼Œè¿™æ¬¡å‘ç°é¡µé¢æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œä½†æ˜¯åœ¨ idea çš„æ§åˆ¶å°å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹

![](youdaonote-images/WEBRESOURCE4bb150ab35a1f915fa9cbc3d2736f984.png)

ä¸Šè¿°æ•ˆæœè¯´æ˜ FilterDemo è¿™ä¸ªè¿‡æ»¤å™¨çš„ doFilter() æ–¹æ³•æ‰§è¡Œäº†ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆåœ¨æµè§ˆå™¨ä¸Šçœ‹ä¸åˆ° hello.jsp é¡µé¢çš„å†…å®¹å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨ doFilter() æ–¹æ³•ä¸­æ·»åŠ æ”¾è¡Œçš„æ–¹æ³•æ‰èƒ½è®¿é—®åˆ° hello.jsp é¡µé¢ã€‚é‚£å°±åœ¨ doFilter() æ–¹æ³•ä¸­æ·»åŠ æ”¾è¡Œçš„ä»£ç 

```java
//æ”¾è¡Œ
 chain.doFilter(request,response);
```

å†æ¬¡é‡å¯æœåŠ¡å™¨å¹¶è®¿é—® hello.jsp é¡µé¢ï¼Œå‘ç°è¿™æ¬¡å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šçœ‹åˆ°é¡µé¢æ•ˆæœã€‚

FilterDemo è¿‡æ»¤å™¨å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š

```java
@WebFilter("/*")
public class FilterDemo implements Filter {
â€‹
 Â  Â @Override
 Â  Â public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
 Â  Â  Â  Â System.out.println("1.FilterDemo...");
 Â  Â  Â  Â //æ”¾è¡Œ
 Â  Â  Â  Â chain.doFilter(request,response);
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void init(FilterConfig filterConfig) throws ServletException {
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void destroy() {
 Â   }
}
â€‹
```

## ä¸‰ã€ Filteræ‰§è¡Œæµç¨‹

![](youdaonote-images/WEBRESOURCEcc7c43fb4319a897133f3fce7ec5f502.png)

å¦‚ä¸Šå›¾æ˜¯ä½¿ç”¨è¿‡æ»¤å™¨çš„æµç¨‹ï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹é—®é¢˜æ¥ç ”ç©¶è¿‡æ»¤å™¨çš„æ‰§è¡Œæµç¨‹ï¼š

- æ”¾è¡Œåè®¿é—®å¯¹åº”èµ„æºï¼Œèµ„æºè®¿é—®å®Œæˆåï¼Œè¿˜ä¼šå›åˆ°Filterä¸­å—ï¼Ÿ

ä»ä¸Šå›¾å°±å¯ä»¥çœ‹å‡ºè‚¯å®š ==ä¼š== å›åˆ°Filterä¸­

- å¦‚æœå›åˆ°Filterä¸­ï¼Œæ˜¯é‡å¤´æ‰§è¡Œè¿˜æ˜¯æ‰§è¡Œæ”¾è¡Œåçš„é€»è¾‘å‘¢ï¼Ÿ

å¦‚æœæ˜¯é‡å¤´æ‰§è¡Œçš„è¯ï¼Œå°±æ„å‘³ç€ æ”¾è¡Œå‰é€»è¾‘ ä¼šè¢«æ‰§è¡Œä¸¤æ¬¡ï¼Œè‚¯å®šä¸ä¼šè¿™æ ·è®¾è®¡äº†ï¼›æ‰€ä»¥è®¿é—®å®Œèµ„æºåï¼Œä¼šå›åˆ° æ”¾è¡Œåé€»è¾‘ï¼Œæ‰§è¡Œè¯¥éƒ¨åˆ†ä»£ç ã€‚

é€šè¿‡ä¸Šè¿°çš„è¯´æ˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ€»ç»“Filterçš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEee1904ff12ef58f1e9b4e74cceb4acab.png)

æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä»£ç éªŒè¯ä¸€ä¸‹ï¼Œåœ¨ doFilter() æ–¹æ³•å‰åéƒ½åŠ ä¸Šè¾“å‡ºè¯­å¥ï¼Œå¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE719f721e8a524293e20aa45719c07fb5.png)

åŒæ—¶åœ¨ hello.jsp é¡µé¢åŠ ä¸Šè¾“å‡ºè¯­å¥ï¼Œå¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE5c07a90dee148ed842091972145a18c0.png)

æ‰§è¡Œè®¿é—®è¯¥èµ„æºæ‰“å°çš„é¡ºåºæ˜¯æŒ‰ç…§æˆ‘ä»¬æ ‡è®°çš„æ ‡å·è¿›è¡Œæ‰“å°çš„è¯ï¼Œè¯´æ˜æˆ‘ä»¬ä¸Šè¾¹æ€»ç»“å‡ºæ¥çš„æµç¨‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚å¯åŠ¨æœåŠ¡å™¨è®¿é—® hello.jsp é¡µé¢ï¼Œåœ¨æ§åˆ¶å°æ‰“å°çš„å†…å®¹å¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEc8f63089002817833240ab4e6ef172e3.png)

ä»¥åæˆ‘ä»¬å¯ä»¥å°†å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†çš„ä»£ç æ”¾åœ¨æ”¾è¡Œä¹‹å‰è¿›è¡Œå¤„ç†ï¼Œè€Œå¦‚æœè¯·æ±‚å®Œèµ„æºåè¿˜è¦å¯¹å“åº”çš„æ•°æ®è¿›è¡Œå¤„ç†æ—¶å¯ä»¥åœ¨æ”¾è¡Œåè¿›è¡Œé€»è¾‘å¤„ç†ã€‚

## å››ã€Filteræ‹¦æˆªè·¯å¾„é…ç½®

æ‹¦æˆªè·¯å¾„è¡¨ç¤º Filter ä¼šå¯¹è¯·æ±‚çš„å“ªäº›èµ„æºè¿›è¡Œæ‹¦æˆªï¼Œä½¿ç”¨ @WebFilter æ³¨è§£è¿›è¡Œé…ç½®ã€‚å¦‚ï¼š@WebFilter("æ‹¦æˆªè·¯å¾„") 

æ‹¦æˆªè·¯å¾„æœ‰å¦‚ä¸‹å››ç§é…ç½®æ–¹å¼ï¼š

- æ‹¦æˆªå…·ä½“çš„èµ„æºï¼š/index.jspï¼šåªæœ‰è®¿é—®index.jspæ—¶æ‰ä¼šè¢«æ‹¦æˆª

- ç›®å½•æ‹¦æˆªï¼š/user/*ï¼šè®¿é—®/userä¸‹çš„æ‰€æœ‰èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª

- åç¼€åæ‹¦æˆªï¼š*.jspï¼šè®¿é—®åç¼€åä¸ºjspçš„èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª

- æ‹¦æˆªæ‰€æœ‰ï¼š/*ï¼šè®¿é—®æ‰€æœ‰èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª

é€šè¿‡ä¸Šé¢æ‹¦æˆªè·¯å¾„çš„å­¦ä¹ ï¼Œå¤§å®¶ä¼šå‘ç°æ‹¦æˆªè·¯å¾„çš„é…ç½®æ–¹å¼å’Œ Servlet çš„è¯·æ±‚èµ„æºè·¯å¾„é…ç½®æ–¹å¼ä¸€æ ·ï¼Œä½†æ˜¯è¡¨ç¤ºçš„å«ä¹‰ä¸åŒã€‚

## äº”ã€è¿‡æ»¤å™¨é“¾

### 1ã€æ¦‚è¿°

è¿‡æ»¤å™¨é“¾æ˜¯æŒ‡åœ¨ä¸€ä¸ªWebåº”ç”¨ï¼Œå¯ä»¥é…ç½®å¤šä¸ªè¿‡æ»¤å™¨ï¼Œè¿™å¤šä¸ªè¿‡æ»¤å™¨ç§°ä¸ºè¿‡æ»¤å™¨é“¾ã€‚

å¦‚ä¸‹å›¾å°±æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ï¼Œæˆ‘ä»¬å­¦ä¹ è¿‡æ»¤å™¨é“¾ä¸»è¦æ˜¯å­¦ä¹ è¿‡æ»¤å™¨é“¾æ‰§è¡Œçš„æµç¨‹

![](youdaonote-images/WEBRESOURCE9ff7a0d9a5e404d1edfc6b371f0c1005.png)

ä¸Šå›¾ä¸­çš„è¿‡æ»¤å™¨é“¾æ‰§è¡Œæ˜¯æŒ‰ç…§ä»¥ä¸‹æµç¨‹æ‰§è¡Œï¼š

1. æ‰§è¡Œ Filter1 çš„æ”¾è¡Œå‰é€»è¾‘ä»£ç 

1. æ‰§è¡Œ Filter1 çš„æ”¾è¡Œä»£ç 

1. æ‰§è¡Œ Filter2 çš„æ”¾è¡Œå‰é€»è¾‘ä»£ç 

1. æ‰§è¡Œ Filter2 çš„æ”¾è¡Œä»£ç 

1. è®¿é—®åˆ°èµ„æº

1. æ‰§è¡Œ Filter2 çš„æ”¾è¡Œåé€»è¾‘ä»£ç 

1. æ‰§è¡Œ Filter1 çš„æ”¾è¡Œåé€»è¾‘ä»£ç 

ä»¥ä¸Šæµç¨‹ä¸²èµ·æ¥å°±åƒä¸€æ¡é“¾å­ï¼Œæ•…ç§°ä¹‹ä¸ºè¿‡æ»¤å™¨é“¾ã€‚

### 2ã€ä»£ç æ¼”ç¤º

- ç¼–å†™ç¬¬ä¸€ä¸ªè¿‡æ»¤å™¨FilterDemo ï¼Œé…ç½®æˆæ‹¦æˆªæ‰€æœ‰èµ„æº

```java
@WebFilter("/*")
public class FilterDemo implements Filter {
â€‹
 Â  Â @Override
 Â  Â public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
â€‹
 Â  Â  Â  Â //1. æ”¾è¡Œå‰ï¼Œå¯¹ requestæ•°æ®è¿›è¡Œå¤„ç†
 Â  Â  Â  Â System.out.println("1.FilterDemo...");
 Â  Â  Â  Â //æ”¾è¡Œ
 Â  Â  Â  Â chain.doFilter(request,response);
 Â  Â  Â  Â //2. æ”¾è¡Œåï¼Œå¯¹Response æ•°æ®è¿›è¡Œå¤„ç†
 Â  Â  Â  Â System.out.println("3.FilterDemo...");
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void init(FilterConfig filterConfig) throws ServletException {
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void destroy() {
 Â   }
}
```

- ç¼–å†™ç¬¬äºŒä¸ªè¿‡æ»¤å™¨FilterDemo2 ï¼Œé…ç½®æˆæ‹¦æˆªæ‰€æœ‰èµ„æº

```java
@WebFilter("/*")
public class FilterDemo2 implements Filter {
â€‹
 Â  Â @Override
 Â  Â public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
â€‹
 Â  Â  Â  Â //1. æ”¾è¡Œå‰ï¼Œå¯¹ requestæ•°æ®è¿›è¡Œå¤„ç†
 Â  Â  Â  Â System.out.println("2.FilterDemo...");
 Â  Â  Â  Â //æ”¾è¡Œ
 Â  Â  Â  Â chain.doFilter(request,response);
 Â  Â  Â  Â //2. æ”¾è¡Œåï¼Œå¯¹Response æ•°æ®è¿›è¡Œå¤„ç†
 Â  Â  Â  Â System.out.println("4.FilterDemo...");
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void init(FilterConfig filterConfig) throws ServletException {
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void destroy() {
 Â   }
}
â€‹
```

- ä¿®æ”¹ hello.jsp é¡µé¢ä¸­è„šæœ¬çš„è¾“å‡ºè¯­å¥

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
 Â  Â <title>Title</title>
</head>
<body>
 Â  Â <h1>hello JSP~</h1>
 Â   <%
 Â  Â  Â  Â System.out.println("3.hello jsp");
 Â   %>
</body>
</html>
```

- å¯åŠ¨æœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥ http://localhost/filter-demo/hello.jsp è¿›è¡Œæµ‹è¯•ï¼Œåœ¨æ§åˆ¶å°æ‰“å°å†…å®¹å¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE16c54ab4713764c7dc5ba1e20b5f2373.png)

ä»ç»“æœå¯ä»¥çœ‹åˆ°ç¡®å®æ˜¯æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰è¯´çš„æ‰§è¡Œæµç¨‹è¿›è¡Œæ‰§è¡Œçš„ã€‚

### 3ã€é—®é¢˜

ä¸Šé¢ä»£ç ä¸­ä¸ºä»€ä¹ˆæ˜¯å…ˆæ‰§è¡Œ FilterDemo ï¼Œåæ‰§è¡Œ FilterDemo2 å‘¢ï¼Ÿ

æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„æ˜¯æ³¨è§£é…ç½®Filterï¼Œè€Œè¿™ç§é…ç½®æ–¹å¼çš„ä¼˜å…ˆçº§æ˜¯æŒ‰ç…§è¿‡æ»¤å™¨ç±»å(å­—ç¬¦ä¸²)çš„è‡ªç„¶æ’åºã€‚

æ¯”å¦‚æœ‰å¦‚ä¸‹ä¸¤ä¸ªåç§°çš„è¿‡æ»¤å™¨ ï¼š BFilterDemo å’Œ AFilterDemo ã€‚é‚£ä¸€å®šæ˜¯ AFilterDemo è¿‡æ»¤å™¨å…ˆæ‰§è¡Œã€‚

# Listener

## ä¸€ã€ æ¦‚è¿°

- Listener è¡¨ç¤ºç›‘å¬å™¨ï¼Œæ˜¯ JavaWeb ä¸‰å¤§ç»„ä»¶(Servletã€Filterã€Listener)ä¹‹ä¸€ã€‚

- ç›‘å¬å™¨å¯ä»¥ç›‘å¬å°±æ˜¯åœ¨ applicationï¼Œsessionï¼Œrequest ä¸‰ä¸ªå¯¹è±¡åˆ›å»ºã€é”€æ¯æˆ–è€…å¾€å…¶ä¸­æ·»åŠ ä¿®æ”¹åˆ é™¤å±æ€§æ—¶è‡ªåŠ¨æ‰§è¡Œä»£ç çš„åŠŸèƒ½ç»„ä»¶ã€‚

request å’Œ session æˆ‘ä»¬å­¦ä¹ è¿‡ã€‚è€Œ application æ˜¯ ServletContext ç±»å‹çš„å¯¹è±¡ã€‚

ServletContext ä»£è¡¨æ•´ä¸ªwebåº”ç”¨ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œtomcatä¼šè‡ªåŠ¨åˆ›å»ºè¯¥å¯¹è±¡ã€‚åœ¨æœåŠ¡å™¨å…³é—­æ—¶ä¼šè‡ªåŠ¨é”€æ¯è¯¥å¯¹è±¡ã€‚

## äºŒã€ åˆ†ç±»

JavaWeb æä¾›äº†8ä¸ªç›‘å¬å™¨ï¼š

![](youdaonote-images/WEBRESOURCE8778eb59d08de82624ca458c8cb9e872.png)

è¿™é‡Œé¢åªæœ‰ ServletContextListener è¿™ä¸ªç›‘å¬å™¨åæœŸæˆ‘ä»¬ä¼šæ¥è§¦åˆ°ï¼ŒServletContextListener æ˜¯ç”¨æ¥ç›‘å¬ ServletContext å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€‚

ServletContextListener æ¥å£ä¸­æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•

- void contextInitialized(ServletContextEvent sce)ï¼šServletContext å¯¹è±¡è¢«åˆ›å»ºäº†ä¼šè‡ªåŠ¨æ‰§è¡Œçš„æ–¹æ³•

- void contextDestroyed(ServletContextEvent sce)ï¼šServletContext å¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œçš„æ–¹æ³•

## ä¸‰ã€ä»£ç æ¼”ç¤º

æˆ‘ä»¬åªæ¼”ç¤ºä¸€ä¸‹ ServletContextListener ç›‘å¬å™¨

- å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°ServletContextListener æ¥å£

- é‡å†™æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•

- ä½¿ç”¨ @WebListener è¿›è¡Œé…ç½®

ä»£ç å¦‚ä¸‹ï¼š

```java
@WebListener
public class ContextLoaderListener implements ServletContextListener {
 Â  Â @Override
 Â  Â public void contextInitialized(ServletContextEvent sce) {
 Â  Â  Â  Â //åŠ è½½èµ„æº
 Â  Â  Â  Â System.out.println("ContextLoaderListener...");
 Â   }
â€‹
 Â  Â @Override
 Â  Â public void contextDestroyed(ServletContextEvent sce) {
 Â  Â  Â  Â //é‡Šæ”¾èµ„æº
 Â   }
}
```

å¯åŠ¨æœåŠ¡å™¨ï¼Œå°±å¯ä»¥åœ¨å¯åŠ¨çš„æ—¥å¿—ä¿¡æ¯ä¸­çœ‹åˆ° contextInitialized() æ–¹æ³•è¾“å‡ºçš„å†…å®¹ï¼ŒåŒæ—¶ä¹Ÿè¯´æ˜äº† ServletContext å¯¹è±¡åœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™è¢«åˆ›å»ºäº†ã€‚

# Ajax

## ä¸€ã€æ¦‚è¿°

==AJAX (Asynchronous JavaScript And XML)ï¼šå¼‚æ­¥çš„ JavaScript å’Œ XMLã€‚==

æˆ‘ä»¬å…ˆæ¥è¯´æ¦‚å¿µä¸­çš„ JavaScript å’Œ XMLï¼ŒJavaScript è¡¨æ˜è¯¥æŠ€æœ¯å’Œå‰ç«¯ç›¸å…³ï¼›XML æ˜¯æŒ‡ä»¥æ­¤è¿›è¡Œæ•°æ®äº¤æ¢ã€‚è€Œè¿™ä¸¤ä¸ªæˆ‘ä»¬ä¹‹å‰éƒ½å­¦ä¹ è¿‡ã€‚

### 1ã€ä½œç”¨

AJAX ä½œç”¨æœ‰ä»¥ä¸‹ä¸¤æ–¹é¢ï¼š

1. ä¸æœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤æ¢ï¼šé€šè¿‡AJAXå¯ä»¥ç»™æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°†æ•°æ®ç›´æ¥å“åº”å›ç»™æµè§ˆå™¨ã€‚

æˆ‘ä»¬å…ˆæ¥çœ‹ä¹‹å‰åšåŠŸèƒ½çš„æµç¨‹ï¼Œå¦‚ä¸‹å›¾ï¼š

![](youdaonote-images/WEBRESOURCEf45674b0f2a7e8c4efc9fbd42b8d3af3.png)

å¦‚ä¸Šå›¾ï¼ŒServlet è°ƒç”¨å®Œä¸šåŠ¡é€»è¾‘å±‚åå°†æ•°æ®å­˜å‚¨åˆ°åŸŸå¯¹è±¡ä¸­ï¼Œç„¶åè·³è½¬åˆ°æŒ‡å®šçš„ jsp é¡µé¢ï¼Œåœ¨é¡µé¢ä¸Šä½¿ç”¨ ELè¡¨è¾¾å¼ å’Œ JSTL æ ‡ç­¾åº“è¿›è¡Œæ•°æ®çš„å±•ç¤ºã€‚

è€Œæˆ‘ä»¬å­¦ä¹ äº†AJAX åï¼Œå°±å¯ä»¥==ä½¿ç”¨AJAXå’ŒæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œä»¥è¾¾åˆ°ä½¿ç”¨ HTML+AJAXæ¥æ›¿æ¢JSPé¡µé¢==äº†ã€‚å¦‚ä¸‹å›¾ï¼Œæµè§ˆå™¨å‘é€è¯·æ±‚servletï¼Œservlet è°ƒç”¨å®Œä¸šåŠ¡é€»è¾‘å±‚åå°†æ•°æ®ç›´æ¥å“åº”å›ç»™æµè§ˆå™¨é¡µé¢ï¼Œé¡µé¢ä½¿ç”¨ HTML æ¥è¿›è¡Œæ•°æ®å±•ç¤ºã€‚

![](youdaonote-images/WEBRESOURCE4931481651a6c54a2e1437aa8c565fe3.png)

1. å¼‚æ­¥äº¤äº’ï¼šå¯ä»¥åœ¨==ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢==çš„æƒ…å†µä¸‹ï¼Œä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶==æ›´æ–°éƒ¨åˆ†ç½‘é¡µ==çš„æŠ€æœ¯ï¼Œå¦‚ï¼šæœç´¢è”æƒ³ã€ç”¨æˆ·åæ˜¯å¦å¯ç”¨æ ¡éªŒï¼Œç­‰ç­‰â€¦

![](youdaonote-images/WEBRESOURCE65fc35607afc526870749e37362dfa70.png)

ä¸Šå›¾æ‰€ç¤ºçš„æ•ˆæœæˆ‘ä»¬ç»å¸¸è§åˆ°ï¼Œåœ¨æˆ‘ä»¬è¾“å…¥ä¸€äº›å…³é”®å­—ï¼ˆä¾‹å¦‚ å¥¥è¿ï¼‰åå°±ä¼šåœ¨ä¸‹é¢è”æƒ³å‡ºç›¸å…³çš„å†…å®¹ï¼Œè€Œè”æƒ³å‡ºæ¥çš„è¿™éƒ¨åˆ†æ•°æ®è‚¯å®šæ˜¯å­˜å‚¨åœ¨ç™¾åº¦çš„æœåŠ¡å™¨ä¸Šï¼Œè€Œæˆ‘ä»¬å¹¶æ²¡æœ‰çœ‹å‡ºé¡µé¢é‡æ–°åˆ·æ–°ï¼Œè¿™å°±æ˜¯ ==æ›´æ–°å±€éƒ¨é¡µé¢== çš„æ•ˆæœã€‚å†å¦‚ä¸‹å›¾ï¼š

![](youdaonote-images/WEBRESOURCE6d322d32251f1097f7b82968f676dbe9.png)

æˆ‘ä»¬åœ¨ç”¨æˆ·åçš„è¾“å…¥æ¡†è¾“å…¥ç”¨æˆ·åï¼Œå½“è¾“å…¥æ¡†ä¸€å¤±å»ç„¦ç‚¹ï¼Œå¦‚æœç”¨æˆ·åå·²ç»è¢«å ç”¨å°±ä¼šåœ¨ä¸‹æ–¹å±•ç¤ºæç¤ºçš„ä¿¡æ¯ï¼›åœ¨è¿™æ•´ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿæ²¡æœ‰é¡µé¢çš„åˆ·æ–°ï¼Œåªæ˜¯åœ¨å±€éƒ¨å±•ç¤ºå‡ºäº†æç¤ºä¿¡æ¯ï¼Œè¿™å°±æ˜¯ ==æ›´æ–°å±€éƒ¨é¡µé¢== çš„æ•ˆæœã€‚

### 2ã€åŒæ­¥å’Œå¼‚æ­¥

çŸ¥é“äº†å±€éƒ¨åˆ·æ–°åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†èŠèŠåŒæ­¥å’Œå¼‚æ­¥:

- åŒæ­¥å‘é€è¯·æ±‚è¿‡ç¨‹å¦‚ä¸‹

![](youdaonote-images/WEBRESOURCEf23a0a92fa7f6e758acd9a4d13b1b70a.png)

æµè§ˆå™¨é¡µé¢åœ¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨é¡µé¢ä¸èƒ½åšå…¶ä»–çš„æ“ä½œã€‚åªèƒ½ç­‰åˆ°æœåŠ¡å™¨å“åº”ç»“æŸåæ‰èƒ½ï¼Œæµè§ˆå™¨é¡µé¢æ‰èƒ½ç»§ç»­åšå…¶ä»–çš„æ“ä½œã€‚

- å¼‚æ­¥å‘é€è¯·æ±‚è¿‡ç¨‹å¦‚ä¸‹

![](youdaonote-images/WEBRESOURCEbeae5d3abd2bdf780169a1abd469567f.png)

æµè§ˆå™¨é¡µé¢å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨é¡µé¢è¿˜å¯ä»¥åšå…¶ä»–çš„æ“ä½œã€‚

## äºŒã€å¿«é€Ÿå…¥é—¨

### 1ã€æœåŠ¡ç«¯å®ç°

åœ¨é¡¹ç›®çš„åˆ›å»º com.itheima.web.servlet ï¼Œå¹¶åœ¨è¯¥åŒ…ä¸‹åˆ›å»ºåä¸º  AjaxServlet çš„servlet

```java
@WebServlet("/ajaxServlet")
public class AjaxServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â //1. å“åº”æ•°æ®
 Â  Â  Â  Â response.getWriter().write("hello ajax~");
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

### 2ã€å®¢æˆ·ç«¯å®ç°

åœ¨ webapp ä¸‹åˆ›å»ºåä¸º 01-ajax-demo1.html çš„é¡µé¢ï¼Œåœ¨è¯¥é¡µé¢ä¹¦å†™ ajax ä»£ç 

- åˆ›å»ºæ ¸å¿ƒå¯¹è±¡ï¼Œä¸åŒçš„æµè§ˆå™¨åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸åŒçš„

```
 var xhttp;
if (window.XMLHttpRequest) {
 Â  Â xhttp = new XMLHttpRequest();
} else {
 Â  Â // code for IE6, IE5
 Â  Â xhttp = new ActiveXObject("Microsoft.XMLHTTP");
}
```

- å‘é€è¯·æ±‚

```
//å»ºç«‹è¿æ¥
xhttp.open("GET", "http://localhost:8080/ajax-demo/ajaxServlet");
//å‘é€è¯·æ±‚
xhttp.send();
```

- è·å–å“åº”

```
xhttp.onreadystatechange = function() {
 Â  Â if (this.readyState == 4 && this.status == 200) {
 Â  Â  Â  Â // é€šè¿‡ this.responseText å¯ä»¥è·å–åˆ°æœåŠ¡ç«¯å“åº”çš„æ•°æ®
 Â  Â  Â  Â alert(this.responseText);
 Â   }
};
```

å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
â€‹
<script>
 Â  Â //1. åˆ›å»ºæ ¸å¿ƒå¯¹è±¡
 Â  Â var xhttp;
 Â  Â if (window.XMLHttpRequest) {
 Â  Â  Â  Â xhttp = new XMLHttpRequest();
 Â   } else {
 Â  Â  Â  Â // code for IE6, IE5
 Â  Â  Â  Â xhttp = new ActiveXObject("Microsoft.XMLHTTP");
 Â   }
 Â  Â //2. å‘é€è¯·æ±‚
 Â  Â xhttp.open("GET", "http://localhost:8080/ajax-demo/ajaxServlet");
 Â  Â xhttp.send();
â€‹
 Â  Â //3. è·å–å“åº”
 Â  Â xhttp.onreadystatechange = function() {
 Â  Â  Â  Â if (this.readyState == 4 && this.status == 200) {
 Â  Â  Â  Â  Â  Â alert(this.responseText);
 Â  Â  Â   }
 Â   };
</script>
</body>
</html>
```

### 3ã€æµ‹è¯•

åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ http://localhost:8080/ajax-demo/01-ajax-demo1.html ï¼Œåœ¨ 01-ajax-demo1.htmlåŠ è½½çš„æ—¶å€™å°±ä¼šå‘é€ ajax è¯·æ±‚ï¼Œæ•ˆæœå¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE48b29b75949f1c36876b5ec92d58d5ef.png)

æˆ‘ä»¬å¯ä»¥é€šè¿‡ å¼€å‘è€…æ¨¡å¼ æŸ¥çœ‹å‘é€çš„ AJAX è¯·æ±‚ã€‚åœ¨æµè§ˆå™¨ä¸ŠæŒ‰ F12 å¿«æ·é”®

![](youdaonote-images/WEBRESOURCE55a1cf59a9c5b643c921213a9ffb2d62.png)

è¿™ä¸ªæ˜¯æŸ¥çœ‹æ‰€æœ‰çš„è¯·æ±‚ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³çœ‹ å¼‚æ­¥è¯·æ±‚çš„è¯ï¼Œç‚¹å‡»ä¸Šå›¾ä¸­ All æ—è¾¹çš„ XHRï¼Œä¼šå‘ç°åªå±•ç¤º Type æ˜¯ xhr çš„è¯·æ±‚ã€‚å¦‚ä¸‹å›¾ï¼š

![](youdaonote-images/WEBRESOURCEb470a96b0313ec9e32df79d367b25604.png)

# axios

## ä¸€ã€åŸºæœ¬ä½¿ç”¨

axios ä½¿ç”¨æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåˆ†ä¸ºä»¥ä¸‹ä¸¤æ­¥ï¼š

- å¼•å…¥ axios çš„ js æ–‡ä»¶

```
<script src="js/axios-0.18.0.js"></script>
```

- ä½¿ç”¨axios å‘é€è¯·æ±‚ï¼Œå¹¶è·å–å“åº”ç»“æœ

- å‘é€ get è¯·æ±‚

```
axios({
 Â  Â method:"get",
 Â  Â url:"http://localhost:8080/ajax-demo1/aJAXDemo1?username=zhangsan"
}).then(function (resp){
 Â  Â alert(resp.data);
})
```

- å‘é€ post è¯·æ±‚

```
axios({
 Â  Â method:"post",
 Â  Â url:"http://localhost:8080/ajax-demo1/aJAXDemo1",
 Â  Â data:"username=zhangsan"
}).then(function (resp){
 Â  Â alert(resp.data);
});
```

axios() æ˜¯ç”¨æ¥å‘é€å¼‚æ­¥è¯·æ±‚çš„ï¼Œå°æ‹¬å·ä¸­ä½¿ç”¨ js å¯¹è±¡ä¼ é€’è¯·æ±‚ç›¸å…³çš„å‚æ•°ï¼š

- method

 å±æ€§ï¼šç”¨æ¥è®¾ç½®è¯·æ±‚æ–¹å¼çš„ã€‚å–å€¼ä¸º get æˆ–è€… postã€‚

- url

 å±æ€§ï¼šç”¨æ¥ä¹¦å†™è¯·æ±‚çš„èµ„æºè·¯å¾„ã€‚å¦‚æœæ˜¯ get è¯·æ±‚ï¼Œéœ€è¦å°†è¯·æ±‚å‚æ•°æ‹¼æ¥åˆ°è·¯å¾„çš„åé¢ï¼Œæ ¼å¼ä¸ºï¼š url?å‚æ•°å=å‚æ•°å€¼&å‚æ•°å2=å‚æ•°å€¼2ã€‚

- data

 å±æ€§ï¼šä½œä¸ºè¯·æ±‚ä½“è¢«å‘é€çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœæ˜¯ post è¯·æ±‚çš„è¯ï¼Œæ•°æ®éœ€è¦ä½œä¸º data å±æ€§çš„å€¼ã€‚

then() éœ€è¦ä¼ é€’ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚æˆ‘ä»¬å°† then() ä¸­ä¼ é€’çš„åŒ¿åå‡½æ•°ç§°ä¸º ==å›è°ƒå‡½æ•°==ï¼Œæ„æ€æ˜¯è¯¥åŒ¿åå‡½æ•°åœ¨å‘é€è¯·æ±‚æ—¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œè€Œæ˜¯åœ¨æˆåŠŸå“åº”åè°ƒç”¨çš„å‡½æ•°ã€‚è€Œè¯¥å›è°ƒå‡½æ•°ä¸­çš„ resp å‚æ•°æ˜¯å¯¹å“åº”çš„æ•°æ®è¿›è¡Œå°è£…çš„å¯¹è±¡ï¼Œé€šè¿‡ resp.data å¯ä»¥è·å–åˆ°å“åº”çš„æ•°æ®ã€‚

## äºŒã€å¿«é€Ÿå…¥é—¨

### 1ã€åç«¯å®ç°

å®šä¹‰ä¸€ä¸ªç”¨äºæ¥æ”¶è¯·æ±‚çš„servletï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@WebServlet("/axiosServlet")
public class AxiosServlet extends HttpServlet {
 Â  Â @Override
 Â  Â protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("get...");
 Â  Â  Â  Â //1. æ¥æ”¶è¯·æ±‚å‚æ•°
 Â  Â  Â  Â String username = request.getParameter("username");
 Â  Â  Â  Â System.out.println(username);
 Â  Â  Â  Â //2. å“åº”æ•°æ®
 Â  Â  Â  Â response.getWriter().write("hello Axios~");
 Â   }
â€‹
 Â  Â @Override
 Â  Â protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 Â  Â  Â  Â System.out.println("post...");
 Â  Â  Â  Â this.doGet(request, response);
 Â   }
}
```

### 2ã€å‰ç«¯å®ç°

- å¼•å…¥ js æ–‡ä»¶

```
<script src="js/axios-0.18.0.js"></script>
```

- å‘é€ ajax è¯·æ±‚

- get è¯·æ±‚

```
axios({
 Â  Â method:"get",
 Â  Â url:"http://localhost:8080/ajax-demo/axiosServlet?username=zhangsan"
}).then(function (resp) {
 Â  Â alert(resp.data);
})
```

- post è¯·æ±‚

```
axios({
 Â  Â method:"post",
 Â  Â url:"http://localhost:8080/ajax-demo/axiosServlet",
 Â  Â data:"username=zhangsan"
}).then(function (resp) {
 Â  Â alert(resp.data);
})
```

æ•´ä½“é¡µé¢ä»£ç å¦‚ä¸‹ï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
â€‹
<script src="js/axios-0.18.0.js"></script>
<script>
 Â  Â //1. get
 Â  /* axios({
 Â  Â  Â   method:"get",
 Â  Â  Â   url:"http://localhost:8080/ajax-demo/axiosServlet?username=zhangsan"
 Â   }).then(function (resp) {
 Â  Â  Â   alert(resp.data);
 Â   })*/
â€‹
 Â  Â //2. post  åœ¨jsä¸­{} è¡¨ç¤ºä¸€ä¸ªjså¯¹è±¡ï¼Œè€Œè¿™ä¸ªjså¯¹è±¡ä¸­æœ‰ä¸‰ä¸ªå±æ€§
 Â  Â axios({
 Â  Â  Â  Â method:"post",
 Â  Â  Â  Â url:"http://localhost:8080/ajax-demo/axiosServlet",
 Â  Â  Â  Â data:"username=zhangsan"
 Â   }).then(function (resp) {
 Â  Â  Â  Â alert(resp.data);
 Â   })
</script>
</body>
</html>
```

## ä¸‰ã€è¯·æ±‚æ–¹æ³•åˆ«å

ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œ Axios å·²ç»ä¸ºæ‰€æœ‰æ”¯æŒçš„è¯·æ±‚æ–¹æ³•æä¾›äº†åˆ«åã€‚å¦‚ä¸‹ï¼š

- get è¯·æ±‚ ï¼š axios.get(url[,config])

- delete è¯·æ±‚ ï¼š axios.delete(url[,config])

- head è¯·æ±‚ ï¼š axios.head(url[,config])

- options è¯·æ±‚ ï¼š axios.option(url[,config])

- post è¯·æ±‚ï¼šaxios.post(url[,data[,config])

- put è¯·æ±‚ï¼šaxios.put(url[,data[,config])

- patch è¯·æ±‚ï¼šaxios.patch(url[,data[,config])

è€Œæˆ‘ä»¬åªå…³æ³¨ get è¯·æ±‚å’Œ post è¯·æ±‚ã€‚

å…¥é—¨æ¡ˆä¾‹ä¸­çš„ get è¯·æ±‚ä»£ç å¯ä»¥æ”¹ä¸ºå¦‚ä¸‹ï¼š

```
axios.get("http://localhost:8080/ajax-demo/axiosServlet?username=zhangsan").then(function (resp) {
 Â  Â alert(resp.data);
});
```

å…¥é—¨æ¡ˆä¾‹ä¸­çš„ post è¯·æ±‚ä»£ç å¯ä»¥æ”¹ä¸ºå¦‚ä¸‹ï¼š

```
axios.post("http://localhost:8080/ajax-demo/axiosServlet","username=zhangsan").then(function (resp) {
 Â  Â alert(resp.data);
})
```

# JSON

## ä¸€ã€æ¦‚è¿°

==æ¦‚å¿µï¼šJavaScript Object Notationã€‚JavaScript å¯¹è±¡è¡¨ç¤ºæ³•.==

å¦‚ä¸‹æ˜¯ JavaScript å¯¹è±¡çš„å®šä¹‰æ ¼å¼ï¼š

```javascript
{
    name:"zhangsan",
    age:23,
    city:"åŒ—äº¬"
}
```

æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹çœ‹ JSON çš„æ ¼å¼ï¼š

```json
{
    "name":"zhangsan",
    "age":23,
    "city":"åŒ—äº¬"
}
```

é€šè¿‡ä¸Šé¢ js å¯¹è±¡æ ¼å¼å’Œ json æ ¼å¼è¿›è¡Œå¯¹æ¯”ï¼Œå‘ç°ä¸¤ä¸ªæ ¼å¼ç‰¹åˆ«åƒã€‚åªä¸è¿‡ js å¯¹è±¡ä¸­çš„å±æ€§åå¯ä»¥ä½¿ç”¨å¼•å·ï¼ˆå¯ä»¥æ˜¯å•å¼•å·ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒå¼•å·ï¼‰ï¼›è€Œ json æ ¼å¼ä¸­çš„é”®è¦æ±‚å¿…é¡»ä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼Œè¿™æ˜¯ json æ ¼å¼çš„è§„å®šã€‚json æ ¼å¼çš„æ•°æ®æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ

ä½œç”¨ï¼šç”±äºå…¶è¯­æ³•æ ¼å¼ç®€å•ï¼Œå±‚æ¬¡ç»“æ„é²œæ˜ï¼Œç°å¤šç”¨äºä½œä¸º==æ•°æ®è½½ä½“==ï¼Œåœ¨ç½‘ç»œä¸­è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºå°±æ˜¯æœåŠ¡ç«¯ç»™æµè§ˆå™¨å“åº”çš„æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®æ¯”è¾ƒç®€å•ï¼Œå¦‚æœç°éœ€è¦å°† JAVA å¯¹è±¡ä¸­å°è£…çš„æ•°æ®å“åº”å›ç»™æµè§ˆå™¨çš„è¯ï¼Œåº”è¯¥ä»¥ä½•ç§æ•°æ®ä¼ è¾“å‘¢ï¼Ÿ

![](youdaonote-images/WEBRESOURCE21ede38f963c19c0b5b715eb28967b4a.png)

å¤§å®¶è¿˜è®°å¾— ajax çš„æ¦‚å¿µå—ï¼Ÿ æ˜¯ ==å¼‚æ­¥çš„ JavaScript å’Œ xml==ã€‚è¿™é‡Œçš„ xmlå°±æ˜¯ä»¥å‰è¿›è¡Œæ•°æ®ä¼ é€’çš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š

```
<student>
 Â  Â <name>å¼ ä¸‰</name>
 Â  Â <age>23</age>
 Â  Â <city>åŒ—äº¬</city>
</student>
```

å†çœ‹ json æè¿°ä»¥ä¸Šæ•°æ®çš„å†™æ³•ï¼š

```
{   
    "name":"å¼ ä¸‰",
 Â  Â "age":23,
 Â  Â "city":"åŒ—äº¬"
}
```

ä¸Šé¢ä¸¤ç§æ ¼å¼è¿›è¡Œå¯¹æ¯”åå°±ä¼šå‘ç° json æ ¼å¼æ•°æ®çš„ç®€å•ï¼Œä»¥åŠæ‰€å çš„å­—èŠ‚æ•°å°‘ç­‰ä¼˜ç‚¹ã€‚

## äºŒã€JSON åŸºç¡€è¯­æ³•

### 1ã€å®šä¹‰æ ¼å¼

JSON æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ˜¯è¯¥å­—ç¬¦ä¸²å†…å®¹æ˜¯æœ‰ä¸€å®šçš„æ ¼å¼è¦æ±‚çš„ã€‚ å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š

```
var å˜é‡å = '{"key":value,"key":value,...}';
```

JSON ä¸²çš„é”®è¦æ±‚å¿…é¡»ä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼Œè€Œå€¼æ ¹æ®è¦è¡¨ç¤ºçš„ç±»å‹ç¡®å®šã€‚value çš„æ•°æ®ç±»å‹åˆ†ä¸ºå¦‚ä¸‹

- æ•°å­—ï¼ˆæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰

- å­—ç¬¦ä¸²ï¼ˆä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼‰

- é€»è¾‘å€¼ï¼ˆtrueæˆ–è€…falseï¼‰

- æ•°ç»„ï¼ˆåœ¨æ–¹æ‹¬å·ä¸­ï¼‰

- å¯¹è±¡ï¼ˆåœ¨èŠ±æ‹¬å·ä¸­ï¼‰

- null

ç¤ºä¾‹ï¼š

```
var jsonStr = '{"name":"zhangsan","age":23,"addr":["åŒ—äº¬","ä¸Šæµ·","è¥¿å®‰"]}'
```

### 2ã€ä»£ç æ¼”ç¤º

åˆ›å»ºä¸€ä¸ªé¡µé¢ï¼Œåœ¨è¯¥é¡µé¢çš„ <script> æ ‡ç­¾ä¸­å®šä¹‰jsonå­—ç¬¦ä¸²

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<script>
 Â  Â //1. å®šä¹‰JSONå­—ç¬¦ä¸²
 Â  Â var jsonStr = '{"name":"zhangsan","age":23,"addr":["åŒ—äº¬","ä¸Šæµ·","è¥¿å®‰"]}'
 Â  Â alert(jsonStr);
â€‹
</script>
</body>
</html>
```

é€šè¿‡æµè§ˆå™¨æ‰“å¼€ï¼Œé¡µé¢æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º

![](youdaonote-images/WEBRESOURCE8d330882708ee70bcc0cd0c013eb468b.png)

ç°åœ¨æˆ‘ä»¬éœ€è¦è·å–åˆ°è¯¥ JSON ä¸²ä¸­çš„ name å±æ€§å€¼ï¼Œåº”è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ

å¦‚æœå®ƒæ˜¯ä¸€ä¸ª js å¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ jså¯¹è±¡.å±æ€§å çš„æ–¹å¼æ¥è·å–æ•°æ®ã€‚JS æä¾›äº†ä¸€ä¸ªå¯¹è±¡ JSON ï¼Œè¯¥å¯¹è±¡æœ‰å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š

- parse(str) ï¼šå°† JSONä¸²è½¬æ¢ä¸º js å¯¹è±¡ã€‚ä½¿ç”¨æ–¹å¼æ˜¯ï¼š ==var jsObject = JSON.parse(jsonStr);==

- stringify(obj) ï¼šå°† js å¯¹è±¡è½¬æ¢ä¸º JSON ä¸²ã€‚ä½¿ç”¨æ–¹å¼æ˜¯ï¼š==var jsonStr = JSON.stringify(jsObject)==

ä»£ç æ¼”ç¤ºï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<script>
 Â  Â //1. å®šä¹‰JSONå­—ç¬¦ä¸²
 Â  Â var jsonStr = '{"name":"zhangsan","age":23,"addr":["åŒ—äº¬","ä¸Šæµ·","è¥¿å®‰"]}'
 Â  Â alert(jsonStr);
â€‹
 Â  Â //2. å°† JSON å­—ç¬¦ä¸²è½¬ä¸º JS å¯¹è±¡
 Â  Â let jsObject = JSON.parse(jsonStr);
 Â  Â alert(jsObject)
 Â  Â alert(jsObject.name)
 Â  Â //3. å°† JS å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²
 Â  Â let jsonStr2 = JSON.stringify(jsObject);
 Â  Â alert(jsonStr2)
</script>
</body>
</html>
```

### 3ã€å‘é€å¼‚æ­¥è¯·æ±‚æºå¸¦å‚æ•°

åé¢æˆ‘ä»¬ä½¿ç”¨ axios å‘é€è¯·æ±‚æ—¶ï¼Œå¦‚æœè¦æºå¸¦å¤æ‚çš„æ•°æ®æ—¶éƒ½ä¼šä»¥ JSON æ ¼å¼è¿›è¡Œä¼ é€’ï¼Œå¦‚ä¸‹

```
axios({
 Â  Â method:"post",
 Â  Â url:"http://localhost:8080/ajax-demo/axiosServlet",
 Â  Â data:"username=zhangsan"
}).then(function (resp) {
 Â  Â alert(resp.data);
})
```

è¯·æ±‚å‚æ•°ä¸å¯èƒ½ç”±æˆ‘ä»¬è‡ªå·±æ‹¼æ¥å­—ç¬¦ä¸²å§ï¼Ÿè‚¯å®šä¸ç”¨ï¼Œå¯ä»¥æå‰å®šä¹‰ä¸€ä¸ª js å¯¹è±¡ï¼Œç”¨æ¥å°è£…éœ€è¦æäº¤çš„å‚æ•°ï¼Œç„¶åä½¿ç”¨ JSON.stringify(jså¯¹è±¡) è½¬æ¢ä¸º JSON ä¸²ï¼Œå†å°†è¯¥ JSON ä¸²ä½œä¸º axios çš„ data å±æ€§å€¼è¿›è¡Œè¯·æ±‚å‚æ•°çš„æäº¤ã€‚å¦‚ä¸‹ï¼š

```
var jsObject = {name:"å¼ ä¸‰"};
â€‹
axios({
 Â  Â method:"post",
 Â  Â url:"http://localhost:8080/ajax-demo/axiosServlet",
 Â  Â data: JSON.stringify(jsObject)
}).then(function (resp) {
 Â  Â alert(resp.data);
})
```

è€Œ axios æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„å·¥å…·ã€‚æˆ‘ä»¬åªéœ€è¦å°†éœ€è¦æäº¤çš„å‚æ•°å°è£…æˆ js å¯¹è±¡ï¼Œå¹¶å°†è¯¥ js å¯¹è±¡ä½œä¸º axios çš„ data å±æ€§å€¼è¿›è¡Œï¼Œå®ƒä¼šè‡ªåŠ¨å°† js å¯¹è±¡è½¬æ¢ä¸º JSON ä¸²è¿›è¡Œæäº¤ã€‚å¦‚ä¸‹ï¼š

```
var jsObject = {name:"å¼ ä¸‰"};
â€‹
axios({
 Â  Â method:"post",
 Â  Â url:"http://localhost:8080/ajax-demo/axiosServlet",
 Â  Â data:jsObject Â //è¿™é‡Œ axios ä¼šå°†è¯¥jså¯¹è±¡è½¬æ¢ä¸º json ä¸²çš„
}).then(function (resp) {
 Â  Â alert(resp.data);
})
```

> ==æ³¨æ„ï¼š==js æä¾›çš„ JSON å¯¹è±¡æˆ‘ä»¬åªéœ€è¦äº†è§£ä¸€ä¸‹å³å¯ã€‚å› ä¸º axios ä¼šè‡ªåŠ¨å¯¹ js å¯¹è±¡å’Œ JSON ä¸²è¿›è¡Œæƒ³æ¢è½¬æ¢ã€‚å‘é€å¼‚æ­¥è¯·æ±‚æ—¶ï¼Œå¦‚æœè¯·æ±‚å‚æ•°æ˜¯ JSON æ ¼å¼ï¼Œé‚£è¯·æ±‚æ–¹å¼å¿…é¡»æ˜¯ POSTã€‚å› ä¸º JSON ä¸²éœ€è¦æ”¾åœ¨è¯·æ±‚ä½“ä¸­ã€‚

## ä¸‰ã€JSONä¸²å’ŒJavaå¯¹è±¡çš„ç›¸äº’è½¬æ¢

å­¦ä¹ å®Œ json åï¼Œæ¥ä¸‹æ¥èŠèŠ json çš„ä½œç”¨ã€‚ä»¥åæˆ‘ä»¬ä¼šä»¥ json æ ¼å¼çš„æ•°æ®è¿›è¡Œå‰åç«¯äº¤äº’ã€‚å‰ç«¯å‘é€è¯·æ±‚æ—¶ï¼Œå¦‚æœæ˜¯å¤æ‚çš„æ•°æ®å°±ä¼šä»¥ json æäº¤ç»™åç«¯ï¼›è€Œåç«¯å¦‚æœéœ€è¦å“åº”ä¸€äº›å¤æ‚çš„æ•°æ®æ—¶ï¼Œä¹Ÿéœ€è¦ä»¥ json æ ¼å¼å°†æ•°æ®å“åº”å›ç»™æµè§ˆå™¨ã€‚

![](youdaonote-images/WEBRESOURCE33f3b1d5a8f96333b182a6f9e7fe8510.png)

åœ¨åç«¯æˆ‘ä»¬å°±éœ€è¦é‡ç‚¹å­¦ä¹ ä»¥ä¸‹ä¸¤éƒ¨åˆ†æ“ä½œï¼š

- è¯·æ±‚æ•°æ®ï¼šJSONå­—ç¬¦ä¸²è½¬ä¸ºJavaå¯¹è±¡

- å“åº”æ•°æ®ï¼šJavaå¯¹è±¡è½¬ä¸ºJSONå­—ç¬¦ä¸²

æ¥ä¸‹æ¥ç»™å¤§å®¶ä»‹ç»ä¸€å¥— APIï¼Œå¯ä»¥å®ç°ä¸Šé¢ä¸¤éƒ¨åˆ†æ“ä½œã€‚è¿™å¥— API å°±æ˜¯ Fastjson

### 1ã€Fastjson æ¦‚è¿°

Fastjson æ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ä¸€ä¸ªJavaè¯­è¨€ç¼–å†™çš„é«˜æ€§èƒ½åŠŸèƒ½å®Œå–„çš„ JSON åº“ï¼Œæ˜¯ç›®å‰Javaè¯­è¨€ä¸­æœ€å¿«çš„ JSON åº“ï¼Œå¯ä»¥å®ç° Java å¯¹è±¡å’Œ JSON å­—ç¬¦ä¸²çš„ç›¸äº’è½¬æ¢ã€‚

### 2ã€Fastjson ä½¿ç”¨

Fastjson ä½¿ç”¨ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåˆ†ä¸ºä»¥ä¸‹ä¸‰æ­¥å®Œæˆ

1. å¯¼å…¥åæ ‡

```
<dependency>
 Â  Â <groupId>com.alibaba</groupId>
 Â  Â <artifactId>fastjson</artifactId>
 Â  Â <version>1.2.62</version>
</dependency>
```

1. Javaå¯¹è±¡è½¬JSON

```java
String jsonStr = JSON.toJSONString(obj);
```

å°† Java å¯¹è±¡è½¬æ¢ä¸º JSON ä¸²ï¼Œåªéœ€è¦ä½¿ç”¨ Fastjson æä¾›çš„ JSON ç±»ä¸­çš„ toJSONString() é™æ€æ–¹æ³•å³å¯ã€‚

1. JSONå­—ç¬¦ä¸²è½¬Javaå¯¹è±¡

```
User userÂ =Â JSON.parseObject(jsonStr, User.class);
```

å°† json è½¬æ¢ä¸º Java å¯¹è±¡ï¼Œåªéœ€è¦ä½¿ç”¨ Fastjson æä¾›çš„ JSON ç±»ä¸­çš„ parseObject() é™æ€æ–¹æ³•å³å¯ã€‚

### 3ã€ä»£ç æ¼”ç¤º

- å¼•å…¥åæ ‡

- åˆ›å»ºä¸€ä¸ªç±»ï¼Œä¸“é—¨ç”¨æ¥æµ‹è¯• Java å¯¹è±¡å’Œ JSON ä¸²çš„ç›¸äº’è½¬æ¢ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
public class FastJsonDemo {
â€‹
 Â  Â public static void main(String[] args) {
 Â  Â  Â  Â //1. å°†Javaå¯¹è±¡è½¬ä¸ºJSONå­—ç¬¦ä¸²
 Â  Â  Â  Â User user = new User();
 Â  Â  Â  Â user.setId(1);
 Â  Â  Â  Â user.setUsername("zhangsan");
 Â  Â  Â  Â user.setPassword("123");
â€‹
 Â  Â  Â  Â String jsonString = JSON.toJSONString(user);
 Â  Â  Â  Â System.out.println(jsonString);//{"id":1,"password":"123","username":"zhangsan"}
â€‹
â€‹
 Â  Â  Â  Â //2. å°†JSONå­—ç¬¦ä¸²è½¬ä¸ºJavaå¯¹è±¡
 Â  Â  Â  Â User u = JSON.parseObject("{\"id\":1,\"password\":\"123\",\"username\":\"zhangsan\"}", User.class);
 Â  Â  Â  Â System.out.println(u);
 Â   }
}
```

# VUE

## ä¸€ã€æ¦‚è¿°

æ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€æ¬¾å‰ç«¯çš„æ¡†æ¶ï¼Œå°±æ˜¯ VUEã€‚

==Vue æ˜¯ä¸€å¥—å‰ç«¯æ¡†æ¶ï¼Œå…é™¤åŸç”ŸJavaScriptä¸­çš„DOMæ“ä½œï¼Œç®€åŒ–ä¹¦å†™ã€‚==

æˆ‘ä»¬ä¹‹å‰ä¹Ÿå­¦ä¹ è¿‡åç«¯çš„æ¡†æ¶ Mybatis ï¼ŒMybatis æ˜¯ç”¨æ¥ç®€åŒ– jdbc ä»£ç ç¼–å†™çš„ï¼›è€Œ VUE æ˜¯å‰ç«¯çš„æ¡†æ¶ï¼Œæ˜¯ç”¨æ¥ç®€åŒ– JavaScript ä»£ç ç¼–å†™çš„ã€‚å‰ä¸€å¤©æˆ‘ä»¬åšäº†ä¸€ä¸ªç»¼åˆæ€§çš„æ¡ˆä¾‹ï¼Œé‡Œé¢è¿›è¡Œäº†å¤§é‡çš„DOMæ“ä½œï¼Œå¦‚ä¸‹

![](youdaonote-images/WEBRESOURCEe2716975bca6d1999ef4679a601d93b9.png)

å­¦ä¹ äº† VUE åï¼Œè¿™éƒ¨åˆ†ä»£ç æˆ‘ä»¬å°±ä¸éœ€è¦å†å†™äº†ã€‚é‚£ä¹ˆ VUE æ˜¯å¦‚ä½•ç®€åŒ– DOM ä¹¦å†™å‘¢ï¼Ÿ

==åŸºäºMVVM(Model-View-ViewModel)æ€æƒ³ï¼Œå®ç°æ•°æ®çš„åŒå‘ç»‘å®šï¼Œå°†ç¼–ç¨‹çš„å…³æ³¨ç‚¹æ”¾åœ¨æ•°æ®ä¸Šã€‚==ä¹‹å‰æˆ‘ä»¬æ˜¯å°†å…³æ³¨ç‚¹æ”¾åœ¨äº† DOM æ“ä½œä¸Šï¼›è€Œè¦äº†è§£ MVVM æ€æƒ³ï¼Œå¿…é¡»å…ˆèŠèŠ MVC æ€æƒ³ï¼Œå¦‚ä¸‹å›¾å°±æ˜¯ MVC æ€æƒ³å›¾è§£

![](youdaonote-images/WEBRESOURCEcd3e7b8b5793fa16fffa425c7a47a72c.png)

C å°±æ˜¯å’±ä»¬ js ä»£ç ï¼ŒM å°±æ˜¯æ•°æ®ï¼Œè€Œ V æ˜¯é¡µé¢ä¸Šå±•ç¤ºçš„å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ˜¯æˆ‘ä»¬ä¹‹å‰å†™çš„ä»£ç 

![](youdaonote-images/WEBRESOURCE6fd38d8dc1063f11a8dfe3e92bb88514.png)

MVC æ€æƒ³æ˜¯æ²¡æ³•è¿›è¡ŒåŒå‘ç»‘å®šçš„ã€‚åŒå‘ç»‘å®šæ˜¯æŒ‡å½“æ•°æ®æ¨¡å‹æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé¡µé¢å±•ç¤ºçš„ä¼šéšä¹‹å‘ç”Ÿå˜åŒ–ï¼Œè€Œå¦‚æœè¡¨å•æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œç»‘å®šçš„æ¨¡å‹æ•°æ®ä¹Ÿéšä¹‹å‘ç”Ÿå˜åŒ–ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬èŠèŠ MVVM æ€æƒ³ï¼Œå¦‚ä¸‹å›¾æ˜¯ä¸‰ä¸ªç»„ä»¶å›¾è§£

![](youdaonote-images/WEBRESOURCE104ec5cadf7a1038b66705e9a3e10fbe.png)

å›¾ä¸­çš„ Model å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®ï¼ŒView æ˜¯è§†å›¾ï¼Œä¹Ÿå°±æ˜¯é¡µé¢æ ‡ç­¾ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æµè§ˆå™¨çœ‹åˆ°çš„å†…å®¹ï¼›Model å’Œ View æ˜¯é€šè¿‡ ViewModel å¯¹è±¡è¿›è¡ŒåŒå‘ç»‘å®šçš„ï¼Œè€Œ ViewModel å¯¹è±¡æ˜¯ Vue æä¾›çš„ã€‚æ¥ä¸‹æ¥è®©å¤§å®¶çœ‹ä¸€ä¸‹åŒå‘ç»‘å®šçš„æ•ˆæœï¼Œä¸‹å›¾æ˜¯æå‰å‡†å¤‡çš„ä»£ç ï¼Œè¾“å…¥æ¡†ç»‘å®šäº† username æ¨¡å‹æ•°æ®ï¼Œè€Œåœ¨é¡µé¢ä¸Šä¹Ÿä½¿ç”¨ {{}} ç»‘å®šäº† username æ¨¡å‹æ•°æ®

![](youdaonote-images/WEBRESOURCEad22087afb346f02ba5e95a07d8a9813.png)

é€šè¿‡æµè§ˆå™¨æ‰“å¼€è¯¥é¡µé¢å¯ä»¥çœ‹åˆ°å¦‚ä¸‹é¡µé¢

![](youdaonote-images/WEBRESOURCE4e4dfe415e81ae661c0cf1af71dcb919.png)

å½“æˆ‘ä»¬åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ï¼Œè€Œè¾“å…¥æ¡†åé¢éšä¹‹å®æ—¶çš„å±•ç¤ºæˆ‘ä»¬è¾“å…¥çš„å†…å®¹ï¼Œè¿™å°±æ˜¯åŒå‘ç»‘å®šçš„æ•ˆæœã€‚

## äºŒã€å¿«é€Ÿå…¥é—¨

Vue ä½¿ç”¨èµ·æ¥æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæ€»å…±åˆ†ä¸ºå¦‚ä¸‹ä¸‰æ­¥ï¼š

1. æ–°å»º HTML é¡µé¢ï¼Œå¼•å…¥ Vue.jsæ–‡ä»¶

```
<script src="js/vue.js"></script>
```

1. åœ¨JSä»£ç åŒºåŸŸï¼Œåˆ›å»ºVueæ ¸å¿ƒå¯¹è±¡ï¼Œè¿›è¡Œæ•°æ®ç»‘å®š

```
new Vue({
 Â  Â el: "#app",
 Â  Â data() {
 Â  Â  Â  Â return {
 Â  Â  Â  Â  Â  Â username: ""
 Â  Â  Â   }
 Â   }
});
```

åˆ›å»º Vue å¯¹è±¡æ—¶ï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ª js å¯¹è±¡ï¼Œè€Œè¯¥å¯¹è±¡ä¸­éœ€è¦å¦‚ä¸‹å±æ€§ï¼š

- el ï¼š ç”¨æ¥æŒ‡å®šå“ªå„¿äº›æ ‡ç­¾å— Vue ç®¡ç†ã€‚ è¯¥å±æ€§å–å€¼ #app ä¸­çš„ app éœ€è¦æ˜¯å—ç®¡ç†çš„æ ‡ç­¾çš„idå±æ€§å€¼

- data ï¼šç”¨æ¥å®šä¹‰æ•°æ®æ¨¡å‹

- methods ï¼šç”¨æ¥å®šä¹‰å‡½æ•°ã€‚è¿™ä¸ªæˆ‘ä»¬åœ¨åé¢å°±ä¼šç”¨åˆ°

1. ç¼–å†™è§†å›¾

```
<div id="app">
 Â  Â <input name="username" v-model="username" >
 Â   {{username}}
</div>
```

{{}} æ˜¯ Vue ä¸­å®šä¹‰çš„ æ’å€¼è¡¨è¾¾å¼ ï¼Œåœ¨é‡Œé¢å†™æ•°æ®æ¨¡å‹ï¼Œåˆ°æ—¶å€™ä¼šå°†è¯¥æ¨¡å‹çš„æ•°æ®å€¼å±•ç¤ºåœ¨è¿™ä¸ªä½ç½®ã€‚

æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<div id="app">
 Â  Â <input v-model="username">
 Â  Â <!--æ’å€¼è¡¨è¾¾å¼-->
 Â   {{username}}
</div>
<script src="js/vue.js"></script>
<script>
 Â  Â //1. åˆ›å»ºVueæ ¸å¿ƒå¯¹è±¡
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app",
 Â  Â  Â  Â data(){ Â // data() æ˜¯ ECMAScript 6 ç‰ˆæœ¬çš„æ–°çš„å†™æ³•
 Â  Â  Â  Â  Â  Â return {
 Â  Â  Â  Â  Â  Â  Â  Â username:""
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
â€‹
 Â  Â  Â  Â /*data: function () {
 Â  Â  Â  Â  Â   return {
 Â  Â  Â  Â  Â  Â  Â   username:""
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }*/
 Â   });
â€‹
</script>
</body>
</html>
```

## ä¸‰ã€Vue æŒ‡ä»¤

æŒ‡ä»¤ï¼šHTML æ ‡ç­¾ä¸Šå¸¦æœ‰ v- å‰ç¼€çš„ç‰¹æ®Šå±æ€§ï¼Œä¸åŒæŒ‡ä»¤å…·æœ‰ä¸åŒå«ä¹‰ã€‚ä¾‹å¦‚ï¼šv-ifï¼Œv-forâ€¦

å¸¸ç”¨çš„æŒ‡ä»¤æœ‰ï¼š

| æŒ‡ä»¤ | ä½œç”¨ |
| - | - |
| v-bind | ä¸ºHTMLæ ‡ç­¾ç»‘å®šå±æ€§å€¼ï¼Œå¦‚è®¾ç½®  href , cssæ ·å¼ç­‰ |
| v-model | åœ¨è¡¨å•å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®š |
| v-on | ä¸ºHTMLæ ‡ç­¾ç»‘å®šäº‹ä»¶ |
| v-if | æ¡ä»¶æ€§çš„æ¸²æŸ“æŸå…ƒç´ ï¼Œåˆ¤å®šä¸ºtrueæ—¶æ¸²æŸ“,å¦åˆ™ä¸æ¸²æŸ“ |
| v-else | ã€ |
| v-else-if | ã€ |
| v-show | æ ¹æ®æ¡ä»¶å±•ç¤ºæŸå…ƒç´ ï¼ŒåŒºåˆ«åœ¨äºåˆ‡æ¢çš„æ˜¯displayå±æ€§çš„å€¼ |
| v-for | åˆ—è¡¨æ¸²æŸ“ï¼Œéå†å®¹å™¨çš„å…ƒç´ æˆ–è€…å¯¹è±¡çš„å±æ€§ |


æ¥ä¸‹æ¥æˆ‘ä»¬æŒ¨ä¸ªå­¦ä¹ è¿™äº›æŒ‡ä»¤

### 1ã€v-bind & v-model æŒ‡ä»¤

![](youdaonote-images/WEBRESOURCEb92b18fc87beb259df1db13feb55be70.png)

- v-bind

è¯¥æŒ‡ä»¤å¯ä»¥ç»™æ ‡ç­¾åŸæœ‰å±æ€§ç»‘å®šæ¨¡å‹æ•°æ®ã€‚è¿™æ ·æ¨¡å‹æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œæ ‡ç­¾å±æ€§å€¼ä¹Ÿéšä¹‹å‘ç”Ÿå˜åŒ–

ä¾‹å¦‚ï¼š

```
<a v-bind:href="url">ç™¾åº¦ä¸€ä¸‹</a>
```

ä¸Šé¢çš„ v-bind:"  å¯ä»¥ç®€åŒ–å†™æˆ :  ï¼Œå¦‚ä¸‹ï¼š

```
<!--
    v-bind å¯ä»¥çœç•¥
-->
<a :href="url">ç™¾åº¦ä¸€ä¸‹</a>
```

- v-model

è¯¥æŒ‡ä»¤å¯ä»¥ç»™è¡¨å•é¡¹æ ‡ç­¾ç»‘å®šæ¨¡å‹æ•°æ®ã€‚è¿™æ ·å°±èƒ½å®ç°åŒå‘ç»‘å®šæ•ˆæœã€‚ä¾‹å¦‚ï¼š

```
<input name="username" v-model="username">
```

ä»£ç æ¼”ç¤ºï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<div id="app">
 Â  Â <a v-bind:href="url">ç‚¹å‡»ä¸€ä¸‹</a>
 Â  Â <a :href="url">ç‚¹å‡»ä¸€ä¸‹</a>
 Â  Â <input v-model="url">
</div>
â€‹
<script src="js/vue.js"></script>
<script>
 Â  Â //1. åˆ›å»ºVueæ ¸å¿ƒå¯¹è±¡
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app",
 Â  Â  Â  Â data(){
 Â  Â  Â  Â  Â  Â return {
 Â  Â  Â  Â  Â  Â  Â  Â username:"",
 Â  Â  Â  Â  Â  Â  Â  Â url:"https://www.baidu.com"
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   });
</script>
</body>
</html>
```

é€šè¿‡æµè§ˆå™¨æ‰“å¼€ä¸Šé¢é¡µé¢ï¼Œå¹¶ä¸”ä½¿ç”¨æ£€æŸ¥æŸ¥çœ‹è¶…é“¾æ¥çš„è·¯å¾„ï¼Œè¯¥è·¯å¾„ä¼šæ ¹æ®è¾“å…¥æ¡†è¾“å…¥çš„è·¯å¾„å˜åŒ–è€Œå˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºè¶…é“¾æ¥å’Œè¾“å…¥æ¡†ç»‘å®šçš„æ˜¯åŒä¸€ä¸ªæ¨¡å‹æ•°æ®

![](youdaonote-images/WEBRESOURCE0ca3443e46224b0fa121cccbabd5750e.png)

### 2ã€v-on æŒ‡ä»¤

![](youdaonote-images/WEBRESOURCE414f74fe91c576fdd6d866c348cfaac6.png)

æˆ‘ä»¬åœ¨é¡µé¢å®šä¹‰ä¸€ä¸ªæŒ‰é’®ï¼Œå¹¶ç»™è¯¥æŒ‰é’®ä½¿ç”¨ v-on æŒ‡ä»¤ç»‘å®šå•å‡»äº‹ä»¶ï¼Œhtmlä»£ç å¦‚ä¸‹

```
<input type="button" value="ä¸€ä¸ªæŒ‰é’®" v-on:click="show()">
```

è€Œä½¿ç”¨ v-on æ—¶è¿˜å¯ä»¥ä½¿ç”¨ç®€åŒ–çš„å†™æ³•ï¼Œå°† v-on: æ›¿æ¢æˆ @ï¼Œhtmlä»£ç å¦‚ä¸‹

```
<input type="button" value="ä¸€ä¸ªæŒ‰é’®" @click="show()">
```

ä¸Šé¢ä»£ç ç»‘å®šçš„ show() éœ€è¦åœ¨ Vue å¯¹è±¡ä¸­çš„ methods å±æ€§ä¸­å®šä¹‰å‡ºæ¥

```
new Vue({
 Â  Â el: "#app",
 Â  Â methods: {
 Â  Â  Â  Â show(){
 Â  Â  Â  Â  Â  Â alert("æˆ‘è¢«ç‚¹äº†");
 Â  Â  Â   }
 Â   }
});
```

> ==æ³¨æ„ï¼šv-on: åé¢çš„äº‹ä»¶åç§°æ˜¯ä¹‹å‰åŸç”Ÿäº‹ä»¶å±æ€§åå»æ‰onã€‚==ä¾‹å¦‚ï¼šå•å‡»äº‹ä»¶ ï¼š äº‹ä»¶å±æ€§åæ˜¯ onclickï¼Œè€Œåœ¨vueä¸­ä½¿ç”¨æ˜¯ v-on:clickå¤±å»ç„¦ç‚¹äº‹ä»¶ï¼šäº‹ä»¶å±æ€§åæ˜¯ onblurï¼Œè€Œåœ¨vueä¸­ä½¿ç”¨æ—¶ v-on:blur

æ•´ä½“é¡µé¢ä»£ç å¦‚ä¸‹ï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<div id="app">
 Â  Â <input type="button" value="ä¸€ä¸ªæŒ‰é’®" v-on:click="show()"><br>
 Â  Â <input type="button" value="ä¸€ä¸ªæŒ‰é’®" @click="show()">
</div>
<script src="js/vue.js"></script>
<script>
 Â  Â //1. åˆ›å»ºVueæ ¸å¿ƒå¯¹è±¡
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app",
 Â  Â  Â  Â data(){
 Â  Â  Â  Â  Â  Â return {
 Â  Â  Â  Â  Â  Â  Â  Â username:"",
 Â  Â  Â  Â  Â   }
 Â  Â  Â   },
 Â  Â  Â  Â methods:{
 Â  Â  Â  Â  Â  Â show(){
 Â  Â  Â  Â  Â  Â  Â  Â alert("æˆ‘è¢«ç‚¹äº†...");
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   });
</script>
</body>
</html>
```

### 3ã€æ¡ä»¶åˆ¤æ–­æŒ‡ä»¤

![](youdaonote-images/WEBRESOURCE48eb70e86b4b7bd045763c629febe976.png)

æ¥ä¸‹æ¥é€šè¿‡ä»£ç æ¼”ç¤ºä¸€ä¸‹ã€‚åœ¨ Vueä¸­å®šä¹‰ä¸€ä¸ª count çš„æ•°æ®æ¨¡å‹ï¼Œå¦‚ä¸‹

```
//1. åˆ›å»ºVueæ ¸å¿ƒå¯¹è±¡
new Vue({
 Â  Â el:"#app",
 Â  Â data(){
 Â  Â  Â  Â return {
 Â  Â  Â  Â  Â  Â count:3
 Â  Â  Â   }
 Â   }
});
```

ç°åœ¨è¦å®ç°ï¼Œå½“ count æ¨¡å‹çš„æ•°æ®æ˜¯3æ—¶ï¼Œåœ¨é¡µé¢ä¸Šå±•ç¤º div1 å†…å®¹ï¼›å½“ count æ¨¡å‹çš„æ•°æ®æ˜¯4æ—¶ï¼Œåœ¨é¡µé¢ä¸Šå±•ç¤º div2 å†…å®¹ï¼›count æ¨¡å‹æ•°æ®æ˜¯å…¶ä»–å€¼æ—¶ï¼Œåœ¨é¡µé¢ä¸Šå±•ç¤º div3ã€‚è¿™é‡Œä¸ºäº†åŠ¨æ€æ”¹å˜æ¨¡å‹æ•°æ® count çš„å€¼ï¼Œå†å®šä¹‰ä¸€ä¸ªè¾“å…¥æ¡†ç»‘å®š count æ¨¡å‹æ•°æ®ã€‚html ä»£ç å¦‚ä¸‹ï¼š

```
<div id="app">
 Â  Â <div v-if="count == 3">div1</div>
 Â  Â <div v-else-if="count == 4">div2</div>
 Â  Â <div v-else>div3</div>
 Â  Â <hr>
 Â  Â <input v-model="count">
</div>
```

æ•´ä½“é¡µé¢ä»£ç å¦‚ä¸‹ï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<div id="app">
 Â  Â <div v-if="count == 3">div1</div>
 Â  Â <div v-else-if="count == 4">div2</div>
 Â  Â <div v-else>div3</div>
 Â  Â <hr>
 Â  Â <input v-model="count">
</div>
â€‹
<script src="js/vue.js"></script>
<script>
 Â  Â //1. åˆ›å»ºVueæ ¸å¿ƒå¯¹è±¡
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app",
 Â  Â  Â  Â data(){
 Â  Â  Â  Â  Â  Â return {
 Â  Â  Â  Â  Â  Â  Â  Â count:3
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   });
</script>
</body>
</html>
```

é€šè¿‡æµè§ˆå™¨æ‰“å¼€é¡µé¢å¹¶åœ¨è¾“å…¥æ¡†è¾“å…¥ä¸åŒçš„å€¼ï¼Œæ•ˆæœå¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE394c1a2d6a7cfe3e908a0b1f1f5f0a03.png)

ç„¶åæˆ‘ä»¬åœ¨çœ‹çœ‹ v-show æŒ‡ä»¤çš„æ•ˆæœï¼Œå¦‚æœæ¨¡å‹æ•°æ® count çš„å€¼æ˜¯3æ—¶ï¼Œå±•ç¤º div v-show å†…å®¹ï¼Œå¦åˆ™ä¸å±•ç¤ºï¼Œhtmlé¡µé¢ä»£ç å¦‚ä¸‹

```
<div v-show="count == 3">div v-show</div>
<br>
<input v-model="count">
```

æµè§ˆå™¨æ‰“å¼€æ•ˆæœå¦‚ä¸‹ï¼š

![](youdaonote-images/WEBRESOURCEedd21cbd33e79241d46795689c45e105.png)

é€šè¿‡ä¸Šé¢çš„æ¼”ç¤ºï¼Œå‘ç° v-show å’Œ v-if æ•ˆæœä¸€æ ·ï¼Œé‚£å®ƒä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬æ ¹æ®æµè§ˆå™¨çš„æ£€æŸ¥åŠŸèƒ½æŸ¥çœ‹æºä»£ç 

![](youdaonote-images/WEBRESOURCE3ce0c7d855a1f27b6a03cf5869d6bacd.png)

é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹å‡º v-show ä¸å±•ç¤ºçš„åŸç†æ˜¯ç»™å¯¹åº”çš„æ ‡ç­¾æ·»åŠ  display csså±æ€§ï¼Œå¹¶å°†è¯¥å±æ€§å€¼è®¾ç½®ä¸º none ï¼Œè¿™æ ·å°±è¾¾åˆ°äº†éšè—çš„æ•ˆæœã€‚è€Œ v-if æŒ‡ä»¤æ˜¯æ¡ä»¶ä¸æ»¡è¶³æ—¶æ ¹æœ¬å°±ä¸ä¼šæ¸²æŸ“ã€‚

### 4ã€v-for æŒ‡ä»¤

![](youdaonote-images/WEBRESOURCEb63ce419acec04d4ffd795d74ce57ed4.png)

è¿™ä¸ªæŒ‡ä»¤çœ‹åˆ°åå­—å°±çŸ¥é“æ˜¯ç”¨æ¥éå†çš„ï¼Œè¯¥æŒ‡ä»¤ä½¿ç”¨çš„æ ¼å¼å¦‚ä¸‹ï¼š

```
<æ ‡ç­¾ v-for="å˜é‡å in é›†åˆæ¨¡å‹æ•°æ®">
 Â   {{å˜é‡å}}
</æ ‡ç­¾>
```

> ==æ³¨æ„ï¼šéœ€è¦å¾ªç¯é‚£ä¸ªæ ‡ç­¾ï¼Œv-for æŒ‡ä»¤å°±å†™åœ¨é‚£ä¸ªæ ‡ç­¾ä¸Šã€‚==

å¦‚æœåœ¨é¡µé¢éœ€è¦ä½¿ç”¨åˆ°é›†åˆæ¨¡å‹æ•°æ®çš„ç´¢å¼•ï¼Œå°±éœ€è¦ä½¿ç”¨å¦‚ä¸‹æ ¼å¼ï¼š

```
<æ ‡ç­¾ v-for="(å˜é‡å,ç´¢å¼•å˜é‡) in é›†åˆæ¨¡å‹æ•°æ®">
 Â  Â <!--ç´¢å¼•å˜é‡æ˜¯ä»0å¼€å§‹ï¼Œæ‰€ä»¥è¦è¡¨ç¤ºåºå·çš„è¯ï¼Œéœ€è¦æ‰‹åŠ¨çš„åŠ 1-->
 Â  {{ç´¢å¼•å˜é‡ + 1}} {{å˜é‡å}}
</æ ‡ç­¾>
```

ä»£ç æ¼”ç¤ºï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<div id="app">
 Â  Â <div v-for="addr in addrs">
 Â  Â  Â   {{addr}} <br>
 Â  Â </div>
â€‹
 Â  Â <hr>
 Â  Â <div v-for="(addr,i) in addrs">
 Â  Â  Â   {{i+1}}--{{addr}} <br>
 Â  Â </div>
</div>
â€‹
<script src="js/vue.js"></script>
<script>
â€‹
 Â  Â //1. åˆ›å»ºVueæ ¸å¿ƒå¯¹è±¡
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app",
 Â  Â  Â  Â data(){
 Â  Â  Â  Â  Â  Â return {
 Â  Â  Â  Â  Â  Â  Â  Â addrs:["åŒ—äº¬","ä¸Šæµ·","è¥¿å®‰"]
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   });
</script>
</body>
</html>
```

é€šè¿‡æµè§ˆå™¨æ‰“å¼€æ•ˆæœå¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE7adb7cbd5af3c1b02c9130ac05300698.png)

## å››ã€ç”Ÿå‘½å‘¨æœŸ 

ç”Ÿå‘½å‘¨æœŸçš„å…«ä¸ªé˜¶æ®µï¼šæ¯è§¦å‘ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¹Ÿè¢«ç§°ä¸ºé’©å­æ–¹æ³•ã€‚

![](youdaonote-images/WEBRESOURCEfa7b4a1c31956dfd358d2a35112b8677.png)

ä¸‹å›¾æ˜¯ Vue å®˜ç½‘æä¾›çš„ä»åˆ›å»º Vue åˆ°æ•ˆæœ Vue å¯¹è±¡çš„æ•´ä¸ªè¿‡ç¨‹åŠå„ä¸ªé˜¶æ®µå¯¹åº”çš„é’©å­å‡½æ•°

![](youdaonote-images/WEBRESOURCE83ab3833c3aba4edcd18fbb7aa6b87d7.png)

çœ‹åˆ°ä¸Šé¢çš„å›¾ï¼Œå¤§å®¶æ— éœ€è¿‡å¤šçš„å…³æ³¨è¿™å¼ å›¾ã€‚è¿™äº›é’©å­æ–¹æ³•æˆ‘ä»¬åªå…³æ³¨ mounted å°±è¡Œäº†ã€‚

mountedï¼šæŒ‚è½½å®Œæˆï¼ŒVueåˆå§‹åŒ–æˆåŠŸï¼ŒHTMLé¡µé¢æ¸²æŸ“æˆåŠŸã€‚è€Œä»¥åæˆ‘ä»¬ä¼šåœ¨è¯¥æ–¹æ³•ä¸­==å‘é€å¼‚æ­¥è¯·æ±‚ï¼ŒåŠ è½½æ•°æ®ã€‚==

# Element

Elementï¼šæ˜¯é¥¿äº†ä¹ˆå…¬å¸å‰ç«¯å¼€å‘å›¢é˜Ÿæä¾›çš„ä¸€å¥—åŸºäº Vue çš„ç½‘ç«™ç»„ä»¶åº“ï¼Œç”¨äºå¿«é€Ÿæ„å»ºç½‘é¡µã€‚

Element æä¾›äº†å¾ˆå¤šç»„ä»¶ï¼ˆç»„æˆç½‘é¡µçš„éƒ¨ä»¶ï¼‰ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚ä¾‹å¦‚ è¶…é“¾æ¥ã€æŒ‰é’®ã€å›¾ç‰‡ã€è¡¨æ ¼ç­‰ç­‰~

å¦‚ä¸‹å›¾å·¦è¾¹çš„æ˜¯æˆ‘ä»¬ç¼–å†™é¡µé¢çœ‹åˆ°çš„æŒ‰é’®ï¼Œä¸Šå›¾å³è¾¹çš„æ˜¯ Element æä¾›çš„é¡µé¢æ•ˆæœï¼Œæ•ˆæœä¸€ç›®äº†ç„¶ã€‚

![](youdaonote-images/WEBRESOURCE02dca2313c6879a5fd2cf9f6e4d77385.png)

æˆ‘ä»¬å­¦ä¹  Element å…¶å®å°±æ˜¯å­¦ä¹ æ€ä¹ˆä»å®˜ç½‘æ‹·è´ç»„ä»¶åˆ°æˆ‘ä»¬è‡ªå·±çš„é¡µé¢å¹¶è¿›è¡Œä¿®æ”¹ï¼Œå®˜ç½‘ç½‘å€æ˜¯

```
https://element.eleme.cn/#/zh-CN
```

è¿›å…¥å®˜ç½‘èƒ½çœ‹åˆ°å¦‚ä¸‹é¡µé¢

![](youdaonote-images/WEBRESOURCEbf97dd5afc8322751f154fbc641e73d5.png)

æ¥ä¸‹æ¥ç›´æ¥ç‚¹å‡» ç»„ä»¶ ï¼Œé¡µé¢å¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE81e7dd53d9eca999f424cedce2811b98.png)

## ä¸€ã€å¿«é€Ÿå…¥é—¨

1. å°†èµ„æº 04-èµ„æ–™\02-element ä¸‹çš„ element-ui æ–‡ä»¶å¤¹ç›´æ¥æ‹·è´åˆ°é¡¹ç›®çš„ webapp ä¸‹ã€‚ç›®å½•ç»“æ„å¦‚ä¸‹

![](youdaonote-images/WEBRESOURCE34dbd25585151f47fee078c2eda480c6.png)

1. åˆ›å»ºé¡µé¢ï¼Œå¹¶åœ¨é¡µé¢å¼•å…¥Element çš„cssã€jsæ–‡ä»¶ å’Œ Vue.js

```
<script src="vue.js"></script>
<script src="element-ui/lib/index.js"></script>
<link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">
```

1. .åˆ›å»ºVueæ ¸å¿ƒå¯¹è±¡

Element æ˜¯åŸºäº Vue çš„ï¼Œæ‰€ä»¥ä½¿ç”¨Elementæ—¶å¿…é¡»è¦åˆ›å»º Vue å¯¹è±¡

```
<script>
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app"
 Â   })
</script>
```

1. å®˜ç½‘å¤åˆ¶Elementç»„ä»¶ä»£ç 

![](youdaonote-images/WEBRESOURCE1709e810f4024705d551f20040c5b8ca.png)

åœ¨å·¦èœå•æ æ‰¾åˆ° Button æŒ‰é’® ï¼Œç„¶åæ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„æŒ‰é’®æ ·å¼ï¼Œç‚¹å‡» æ˜¾ç¤ºä»£ç  ï¼Œåœ¨ä¸‹é¢å°±ä¼šå±•ç¤ºå‡ºå¯¹åº”çš„ä»£ç ï¼Œå°†è¿™äº›ä»£ç æ‹·è´åˆ°æˆ‘ä»¬è‡ªå·±çš„é¡µé¢å³å¯ã€‚

æ•´ä½“é¡µé¢ä»£ç å¦‚ä¸‹ï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
</head>
<body>
<div id="app">
â€‹
â€‹
 Â  Â <el-row>
 Â  Â     <el-button>é»˜è®¤æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="primary">ä¸»è¦æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="success">æˆåŠŸæŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="info">ä¿¡æ¯æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="warning">è­¦å‘ŠæŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="danger">åˆ é™¤</el-button>
 Â  Â </el-row>
 Â  Â <el-row>
 Â  Â  Â  Â <el-button plain>æœ´ç´ æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="primary" plain>ä¸»è¦æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="success" plain>æˆåŠŸæŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="info" plain>ä¿¡æ¯æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="warning" plain>è­¦å‘ŠæŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="danger" plain>å±é™©æŒ‰é’®</el-button>
 Â  Â </el-row>
â€‹
 Â  Â <el-row>
 Â  Â  Â  Â <el-button round>åœ†è§’æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="primary" round>ä¸»è¦æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="success" round>æˆåŠŸæŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="info" round>ä¿¡æ¯æŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="warning" round>è­¦å‘ŠæŒ‰é’®</el-button>
 Â  Â  Â  Â <el-button type="danger" round>å±é™©æŒ‰é’®</el-button>
 Â  Â </el-row>
â€‹
 Â  Â <el-row>
 Â  Â  Â  Â <el-button icon="el-icon-search" circle></el-button>
 Â  Â  Â  Â <el-button type="primary" icon="el-icon-edit" circle></el-button>
 Â  Â  Â  Â <el-button type="success" icon="el-icon-check" circle></el-button>
 Â  Â  Â  Â <el-button type="info" icon="el-icon-message" circle></el-button>
 Â  Â  Â  Â <el-button type="warning" icon="el-icon-star-off" circle></el-button>
 Â  Â  Â  Â <el-button type="danger" icon="el-icon-delete" circle></el-button>
 Â  Â </el-row>
</div>
â€‹
<script src="js/vue.js"></script>
<script src="element-ui/lib/index.js"></script>
<link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">
â€‹
<script>
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app"
 Â   })
</script>
â€‹
</body>
</html>
```

## äºŒã€Element å¸ƒå±€

Element æä¾›äº†ä¸¤ç§å¸ƒå±€æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š

- Layout å¸ƒå±€

- Container å¸ƒå±€å®¹å™¨

### 1ã€Layout å±€éƒ¨

é€šè¿‡åŸºç¡€çš„ 24 åˆ†æ ï¼Œè¿…é€Ÿç®€ä¾¿åœ°åˆ›å»ºå¸ƒå±€ã€‚ä¹Ÿå°±æ˜¯é»˜è®¤å°†ä¸€è¡Œåˆ†ä¸º 24 æ ï¼Œæ ¹æ®é¡µé¢è¦æ±‚ç»™æ¯ä¸€åˆ—è®¾ç½®æ‰€å çš„æ æ•°ã€‚

![](youdaonote-images/WEBRESOURCEb79cfe0616674f8b2eb5c2871d89d31f.png)

åœ¨å·¦èœå•æ æ‰¾åˆ° Layout å¸ƒå±€ ï¼Œç„¶åæ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„æŒ‰é’®æ ·å¼ï¼Œç‚¹å‡» æ˜¾ç¤ºä»£ç  ï¼Œåœ¨ä¸‹é¢å°±ä¼šå±•ç¤ºå‡ºå¯¹åº”çš„ä»£ç ï¼Œæ˜¾ç¤ºå‡ºçš„ä»£ç ä¸­æœ‰æ ·å¼ï¼Œæœ‰htmlæ ‡ç­¾ã€‚å°†æ ·å¼æ‹·è´æˆ‘ä»¬è‡ªå·±é¡µé¢çš„ head æ ‡ç­¾å†…ï¼Œå°†htmlæ ‡ç­¾æ‹·è´åˆ°  <div id="app"></div> æ ‡ç­¾å†…ã€‚

æ•´ä½“é¡µé¢ä»£ç å¦‚ä¸‹ï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
â€‹
 Â  Â <style>
 Â  Â  Â  Â .el-row {
 Â  Â  Â  Â  Â  Â margin-bottom: 20px;
 Â  Â  Â   }
 Â  Â  Â  Â .el-col {
 Â  Â  Â  Â  Â  Â border-radius: 4px;
 Â  Â  Â   }
 Â  Â  Â  Â .bg-purple-dark {
 Â  Â  Â  Â  Â  Â background: #99a9bf;
 Â  Â  Â   }
 Â  Â  Â  Â .bg-purple {
 Â  Â  Â  Â  Â  Â background: #d3dce6;
 Â  Â  Â   }
 Â  Â  Â  Â .bg-purple-light {
 Â  Â  Â  Â  Â  Â background: #e5e9f2;
 Â  Â  Â   }
 Â  Â  Â  Â .grid-content {
 Â  Â  Â  Â  Â  Â border-radius: 4px;
 Â  Â  Â  Â  Â  Â min-height: 36px;
 Â  Â  Â   }
 Â  Â  Â  Â .row-bg {
 Â  Â  Â  Â  Â  Â padding: 10px 0;
 Â  Â  Â  Â  Â  Â background-color: #f9fafc;
 Â  Â  Â   }
 Â  Â </style>
</head>
<body>
<div id="app">
 Â  Â <el-row>
 Â  Â  Â  Â <el-col :span="24"><div class="grid-content bg-purple-dark"></div></el-col>
 Â  Â </el-row>
 Â  Â <el-row>
 Â  Â  Â  Â <el-col :span="12"><div class="grid-content bg-purple"></div></el-col>
 Â  Â  Â  Â <el-col :span="12"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â </el-row>
 Â  Â <el-row>
 Â  Â  Â  Â <el-col :span="8"><div class="grid-content bg-purple"></div></el-col>
 Â  Â  Â  Â <el-col :span="8"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â  Â  Â <el-col :span="8"><div class="grid-content bg-purple"></div></el-col>
 Â  Â </el-row>
 Â  Â <el-row>
 Â  Â  Â  Â <el-col :span="6"><div class="grid-content bg-purple"></div></el-col>
 Â  Â  Â  Â <el-col :span="6"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â  Â  Â <el-col :span="6"><div class="grid-content bg-purple"></div></el-col>
 Â  Â  Â  Â <el-col :span="6"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â </el-row>
 Â  Â <el-row>
 Â  Â  Â  Â <el-col :span="4"><div class="grid-content bg-purple"></div></el-col>
 Â  Â  Â  Â <el-col :span="4"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â  Â  Â <el-col :span="4"><div class="grid-content bg-purple"></div></el-col>
 Â  Â  Â  Â <el-col :span="4"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â  Â  Â <el-col :span="4"><div class="grid-content bg-purple"></div></el-col>
 Â  Â  Â  Â <el-col :span="4"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â </el-row>
</div>
<script src="js/vue.js"></script>
<script src="element-ui/lib/index.js"></script>
<link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">
â€‹
<script>
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app"
 Â   })
</script>
</body>
</html>
```

ç°åœ¨éœ€è¦æ·»åŠ ä¸€è¡Œï¼Œè¦æ±‚è¯¥è¡Œæ˜¾ç¤º8ä¸ªæ ¼å­ï¼Œé€šè¿‡è®¡ç®—æ¯ä¸ªæ ¼å­å  3 æ ï¼Œå…·ä½“çš„html ä»£ç å¦‚ä¸‹

```
<!--
æ·»åŠ ä¸€è¡Œï¼Œ8ä¸ªæ ¼å­  24/8 = 3
-->
<el-row>
 Â  Â <el-col :span="3"><div class="grid-content bg-purple"></div></el-col>
 Â  Â <el-col :span="3"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â <el-col :span="3"><div class="grid-content bg-purple"></div></el-col>
 Â  Â <el-col :span="3"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â <el-col :span="3"><div class="grid-content bg-purple"></div></el-col>
 Â  Â <el-col :span="3"><div class="grid-content bg-purple-light"></div></el-col>
 Â  Â <el-col :span="3"><div class="grid-content bg-purple"></div></el-col>
 Â  Â <el-col :span="3"><div class="grid-content bg-purple-light"></div></el-col>
</el-row>
```

### 2ã€Container å¸ƒå±€å®¹å™¨

ç”¨äºå¸ƒå±€çš„å®¹å™¨ç»„ä»¶ï¼Œæ–¹ä¾¿å¿«é€Ÿæ­å»ºé¡µé¢çš„åŸºæœ¬ç»“æ„ã€‚å¦‚ä¸‹å›¾å°±æ˜¯å¸ƒå±€å®¹å™¨æ•ˆæœã€‚

å¦‚ä¸‹å›¾æ˜¯å®˜ç½‘æä¾›çš„ Container å¸ƒå±€å®¹å™¨å®ä¾‹ï¼š

![](youdaonote-images/WEBRESOURCEd6819be6ebd96bd08a7b70a392f199a8.png)

è¯¥æ•ˆæœä»£ç ä¸­åŒ…å«äº†æ ·å¼ã€é¡µé¢æ ‡ç­¾ã€æ¨¡å‹æ•°æ®ã€‚å°†é‡Œé¢çš„æ ·å¼ <style> æ‹·è´åˆ°æˆ‘ä»¬è‡ªå·±é¡µé¢çš„ head æ ‡ç­¾ä¸­ï¼›å°†htmlæ ‡ç­¾æ‹·è´åˆ° <div id="app"></div> æ ‡ç­¾ä¸­ï¼Œå†å°†æ•°æ®æ¨¡å‹æ‹·è´åˆ° vue å¯¹è±¡çš„ data() ä¸­ã€‚

æ•´ä½“é¡µé¢ä»£ç å¦‚ä¸‹ï¼š

```
<!DOCTYPE html>
<html lang="en">
<head>
 Â  Â <meta charset="UTF-8">
 Â  Â <title>Title</title>
â€‹
 Â  Â <style>
 Â  Â  Â  Â .el-header {
 Â  Â  Â  Â  Â  Â background-color: #B3C0D1;
 Â  Â  Â  Â  Â  Â color: #333;
 Â  Â  Â  Â  Â  Â line-height: 60px;
 Â  Â  Â   }
â€‹
 Â  Â  Â  Â .el-aside {
 Â  Â  Â  Â  Â  Â color: #333;
 Â  Â  Â   }
 Â  Â </style>
</head>
<body>
<div id="app">
 Â  Â <el-container style="height: 500px; border: 1px solid #eee">
 Â  Â  Â  Â <el-aside width="200px" style="background-color: rgb(238, 241, 246)">
 Â  Â  Â  Â  Â  Â <el-menu :default-openeds="['1', '3']">
 Â  Â  Â  Â  Â  Â  Â  Â <el-submenu index="1">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <template slot="title"><i class="el-icon-message"></i>å¯¼èˆªä¸€</template>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item-group>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <template slot="title">åˆ†ç»„ä¸€</template>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="1-1">é€‰é¡¹1</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="1-2">é€‰é¡¹2</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-menu-item-group>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item-group title="åˆ†ç»„2">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="1-3">é€‰é¡¹3</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-menu-item-group>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-submenu index="1-4">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <template slot="title">é€‰é¡¹4</template>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="1-4-1">é€‰é¡¹4-1</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-submenu>
 Â  Â  Â  Â  Â  Â  Â  Â </el-submenu>
 Â  Â  Â  Â  Â  Â  Â  Â <el-submenu index="2">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <template slot="title"><i class="el-icon-menu"></i>å¯¼èˆªäºŒ</template>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-submenu index="2-1">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <template slot="title">é€‰é¡¹1</template>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="2-1-1">é€‰é¡¹1-1</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-submenu>
 Â  Â  Â  Â  Â  Â  Â  Â </el-submenu>
 Â  Â  Â  Â  Â  Â  Â  Â <el-submenu index="3">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <template slot="title"><i class="el-icon-setting"></i>å¯¼èˆªä¸‰</template>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item-group>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <template slot="title">åˆ†ç»„ä¸€</template>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="3-1">é€‰é¡¹1</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="3-2">é€‰é¡¹2</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-menu-item-group>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item-group title="åˆ†ç»„2">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="3-3">é€‰é¡¹3</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-menu-item-group>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-submenu index="3-4">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <template slot="title">é€‰é¡¹4</template>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-menu-item index="3-4-1">é€‰é¡¹4-1</el-menu-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-submenu>
 Â  Â  Â  Â  Â  Â  Â  Â </el-submenu>
 Â  Â  Â  Â  Â  Â </el-menu>
 Â  Â  Â  Â </el-aside>
â€‹
 Â  Â  Â  Â <el-container>
 Â  Â  Â  Â  Â  Â <el-header style="text-align: right; font-size: 12px">
 Â  Â  Â  Â  Â  Â  Â  Â <el-dropdown>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <i class="el-icon-setting" style="margin-right: 15px"></i>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-dropdown-menu slot="dropdown">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-dropdown-item>æŸ¥çœ‹</el-dropdown-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-dropdown-item>æ–°å¢</el-dropdown-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-dropdown-item>åˆ é™¤</el-dropdown-item>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-dropdown-menu>
 Â  Â  Â  Â  Â  Â  Â  Â </el-dropdown>
 Â  Â  Â  Â  Â  Â  Â  Â <span>ç‹å°è™</span>
 Â  Â  Â  Â  Â  Â </el-header>
â€‹
 Â  Â  Â  Â  Â  Â <el-main>
 Â  Â  Â  Â  Â  Â  Â  Â <el-table :data="tableData">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-table-column prop="date" label="æ—¥æœŸ" width="140">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-table-column>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-table-column prop="name" label="å§“å" width="120">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-table-column>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <el-table-column prop="address" label="åœ°å€">
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </el-table-column>
 Â  Â  Â  Â  Â  Â  Â  Â </el-table>
 Â  Â  Â  Â  Â  Â </el-main>
 Â  Â  Â  Â </el-container>
 Â  Â </el-container>
</div>
<script src="js/vue.js"></script>
<script src="element-ui/lib/index.js"></script>
<link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">
â€‹
<script>
 Â  Â new Vue({
 Â  Â  Â  Â el:"#app",
 Â  Â  Â  Â data() {
 Â  Â  Â  Â  Â  Â const item = {
 Â  Â  Â  Â  Â  Â  Â  Â date: '2016-05-02',
 Â  Â  Â  Â  Â  Â  Â  Â name: 'ç‹å°è™',
 Â  Â  Â  Â  Â  Â  Â  Â address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
 Â  Â  Â  Â  Â   };
 Â  Â  Â  Â  Â  Â return {
 Â  Â  Â  Â  Â  Â  Â  Â tableData: Array(20).fill(item)
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   })
</script>
</body>
</html>
```

# ç»¼åˆæ¡ˆä¾‹

[JavaWebEnd.zip](youdaonote-attachments/WEBRESOURCE3f23912c486a220144bdd07bb22c097eJavaWebEnd.zip)

